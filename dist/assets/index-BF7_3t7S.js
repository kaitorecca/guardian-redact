var Hs=Object.defineProperty;var us=g=>{throw TypeError(g)};var Gs=(g,b,_)=>b in g?Hs(g,b,{enumerable:!0,configurable:!0,writable:!0,value:_}):g[b]=_;var Gn=(g,b,_)=>Gs(g,typeof b!="symbol"?b+"":b,_),Rr=(g,b,_)=>b.has(g)||us("Cannot "+_);var at=(g,b,_)=>(Rr(g,b,"read from private field"),_?_.call(g):b.get(g)),nn=(g,b,_)=>b.has(g)?us("Cannot add the same private member more than once"):b instanceof WeakSet?b.add(g):b.set(g,_),sn=(g,b,_,j)=>(Rr(g,b,"write to private field"),j?j.call(g,_):b.set(g,_),_),Qt=(g,b,_)=>(Rr(g,b,"access private method"),_);var or=(g,b,_,j)=>({set _($){sn(g,b,$,_)},get _(){return at(g,b,j)}});function _mergeNamespaces(g,b){for(var _=0;_<b.length;_++){const j=b[_];if(typeof j!="string"&&!Array.isArray(j)){for(const $ in j)if($!=="default"&&!($ in g)){const _e=Object.getOwnPropertyDescriptor(j,$);_e&&Object.defineProperty(g,$,_e.get?_e:{enumerable:!0,get:()=>j[$]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))j($);new MutationObserver($=>{for(const _e of $)if(_e.type==="childList")for(const et of _e.addedNodes)et.tagName==="LINK"&&et.rel==="modulepreload"&&j(et)}).observe(document,{childList:!0,subtree:!0});function _($){const _e={};return $.integrity&&(_e.integrity=$.integrity),$.referrerPolicy&&(_e.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?_e.credentials="include":$.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function j($){if($.ep)return;$.ep=!0;const _e=_($);fetch($.href,_e)}})();function getDefaultExportFromCjs(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function getAugmentedNamespace(g){if(g.__esModule)return g;var b=g.default;if(typeof b=="function"){var _=function j(){return this instanceof j?Reflect.construct(b,arguments,this.constructor):b.apply(this,arguments)};_.prototype=b.prototype}else _={};return Object.defineProperty(_,"__esModule",{value:!0}),Object.keys(g).forEach(function(j){var $=Object.getOwnPropertyDescriptor(g,j);Object.defineProperty(_,j,$.get?$:{enumerable:!0,get:function(){return g[j]}})}),_}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(g){return g===null||typeof g!="object"?null:(g=z$1&&g[z$1]||g["@@iterator"],typeof g=="function"?g:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(g,b,_){this.props=g,this.context=b,this.refs=D$1,this.updater=_||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(g,b){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,b,"setState")};E$1.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(g,b,_){this.props=g,this.context=b,this.refs=D$1,this.updater=_||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(g,b,_){var j,$={},_e=null,et=null;if(b!=null)for(j in b.ref!==void 0&&(et=b.ref),b.key!==void 0&&(_e=""+b.key),b)J.call(b,j)&&!L$1.hasOwnProperty(j)&&($[j]=b[j]);var nt=arguments.length-2;if(nt===1)$.children=_;else if(1<nt){for(var tt=Array(nt),rt=0;rt<nt;rt++)tt[rt]=arguments[rt+2];$.children=tt}if(g&&g.defaultProps)for(j in nt=g.defaultProps,nt)$[j]===void 0&&($[j]=nt[j]);return{$$typeof:l$2,type:g,key:_e,ref:et,props:$,_owner:K$1.current}}function N$1(g,b){return{$$typeof:l$2,type:g.type,key:b,ref:g.ref,props:g.props,_owner:g._owner}}function O$1(g){return typeof g=="object"&&g!==null&&g.$$typeof===l$2}function escape$1(g){var b={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(_){return b[_]})}var P$1=/\/+/g;function Q$1(g,b){return typeof g=="object"&&g!==null&&g.key!=null?escape$1(""+g.key):b.toString(36)}function R$1(g,b,_,j,$){var _e=typeof g;(_e==="undefined"||_e==="boolean")&&(g=null);var et=!1;if(g===null)et=!0;else switch(_e){case"string":case"number":et=!0;break;case"object":switch(g.$$typeof){case l$2:case n$3:et=!0}}if(et)return et=g,$=$(et),g=j===""?"."+Q$1(et,0):j,I$1($)?(_="",g!=null&&(_=g.replace(P$1,"$&/")+"/"),R$1($,b,_,"",function(rt){return rt})):$!=null&&(O$1($)&&($=N$1($,_+(!$.key||et&&et.key===$.key?"":(""+$.key).replace(P$1,"$&/")+"/")+g)),b.push($)),1;if(et=0,j=j===""?".":j+":",I$1(g))for(var nt=0;nt<g.length;nt++){_e=g[nt];var tt=j+Q$1(_e,nt);et+=R$1(_e,b,_,tt,$)}else if(tt=A$1(g),typeof tt=="function")for(g=tt.call(g),nt=0;!(_e=g.next()).done;)_e=_e.value,tt=j+Q$1(_e,nt++),et+=R$1(_e,b,_,tt,$);else if(_e==="object")throw b=String(g),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return et}function S$1(g,b,_){if(g==null)return g;var j=[],$=0;return R$1(g,j,"","",function(_e){return b.call(_,_e,$++)}),j}function T$1(g){if(g._status===-1){var b=g._result;b=b(),b.then(function(_){(g._status===0||g._status===-1)&&(g._status=1,g._result=_)},function(_){(g._status===0||g._status===-1)&&(g._status=2,g._result=_)}),g._status===-1&&(g._status=0,g._result=b)}if(g._status===1)return g._result.default;throw g._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(g,b,_){S$1(g,function(){b.apply(this,arguments)},_)},count:function(g){var b=0;return S$1(g,function(){b++}),b},toArray:function(g){return S$1(g,function(b){return b})||[]},only:function(g){if(!O$1(g))throw Error("React.Children.only expected to receive a single React element child.");return g}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(g,b,_){if(g==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+g+".");var j=C$1({},g.props),$=g.key,_e=g.ref,et=g._owner;if(b!=null){if(b.ref!==void 0&&(_e=b.ref,et=K$1.current),b.key!==void 0&&($=""+b.key),g.type&&g.type.defaultProps)var nt=g.type.defaultProps;for(tt in b)J.call(b,tt)&&!L$1.hasOwnProperty(tt)&&(j[tt]=b[tt]===void 0&&nt!==void 0?nt[tt]:b[tt])}var tt=arguments.length-2;if(tt===1)j.children=_;else if(1<tt){nt=Array(tt);for(var rt=0;rt<tt;rt++)nt[rt]=arguments[rt+2];j.children=nt}return{$$typeof:l$2,type:g.type,key:$,ref:_e,props:j,_owner:et}};react_production_min.createContext=function(g){return g={$$typeof:u$1,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},g.Provider={$$typeof:t$2,_context:g},g.Consumer=g};react_production_min.createElement=M$1;react_production_min.createFactory=function(g){var b=M$1.bind(null,g);return b.type=g,b};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(g){return{$$typeof:v$1,render:g}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(g){return{$$typeof:y,_payload:{_status:-1,_result:g},_init:T$1}};react_production_min.memo=function(g,b){return{$$typeof:x,type:g,compare:b===void 0?null:b}};react_production_min.startTransition=function(g){var b=V$1.transition;V$1.transition={};try{g()}finally{V$1.transition=b}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(g,b){return U$1.current.useCallback(g,b)};react_production_min.useContext=function(g){return U$1.current.useContext(g)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(g){return U$1.current.useDeferredValue(g)};react_production_min.useEffect=function(g,b){return U$1.current.useEffect(g,b)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(g,b,_){return U$1.current.useImperativeHandle(g,b,_)};react_production_min.useInsertionEffect=function(g,b){return U$1.current.useInsertionEffect(g,b)};react_production_min.useLayoutEffect=function(g,b){return U$1.current.useLayoutEffect(g,b)};react_production_min.useMemo=function(g,b){return U$1.current.useMemo(g,b)};react_production_min.useReducer=function(g,b,_){return U$1.current.useReducer(g,b,_)};react_production_min.useRef=function(g){return U$1.current.useRef(g)};react_production_min.useState=function(g){return U$1.current.useState(g)};react_production_min.useSyncExternalStore=function(g,b,_){return U$1.current.useSyncExternalStore(g,b,_)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$2=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(g,b,_){var j,$={},_e=null,et=null;_!==void 0&&(_e=""+_),b.key!==void 0&&(_e=""+b.key),b.ref!==void 0&&(et=b.ref);for(j in b)m$1.call(b,j)&&!p$1.hasOwnProperty(j)&&($[j]=b[j]);if(g&&g.defaultProps)for(j in b=g.defaultProps,b)$[j]===void 0&&($[j]=b[j]);return{$$typeof:k,type:g,key:_e,ref:et,props:$,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(g){function b(It,At){var Ft=It.length;It.push(At);e:for(;0<Ft;){var Vt=Ft-1>>>1,Pt=It[Vt];if(0<$(Pt,At))It[Vt]=At,It[Ft]=Pt,Ft=Vt;else break e}}function _(It){return It.length===0?null:It[0]}function j(It){if(It.length===0)return null;var At=It[0],Ft=It.pop();if(Ft!==At){It[0]=Ft;e:for(var Vt=0,Pt=It.length,Et=Pt>>>1;Vt<Et;){var _t=2*(Vt+1)-1,Ct=It[_t],Mt=_t+1,Nt=It[Mt];if(0>$(Ct,Ft))Mt<Pt&&0>$(Nt,Ct)?(It[Vt]=Nt,It[Mt]=Ft,Vt=Mt):(It[Vt]=Ct,It[_t]=Ft,Vt=_t);else if(Mt<Pt&&0>$(Nt,Ft))It[Vt]=Nt,It[Mt]=Ft,Vt=Mt;else break e}}return At}function $(It,At){var Ft=It.sortIndex-At.sortIndex;return Ft!==0?Ft:It.id-At.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _e=performance;g.unstable_now=function(){return _e.now()}}else{var et=Date,nt=et.now();g.unstable_now=function(){return et.now()-nt}}var tt=[],rt=[],it=1,ht=null,ut=3,lt=!1,pt=!1,vt=!1,yt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(It){for(var At=_(rt);At!==null;){if(At.callback===null)j(rt);else if(At.startTime<=It)j(rt),At.sortIndex=At.expirationTime,b(tt,At);else break;At=_(rt)}}function ft(It){if(vt=!1,mt(It),!pt)if(_(tt)!==null)pt=!0,Wt(ct);else{var At=_(rt);At!==null&&Dt(ft,At.startTime-It)}}function ct(It,At){pt=!1,vt&&(vt=!1,st(gt),gt=-1),lt=!0;var Ft=ut;try{for(mt(At),ht=_(tt);ht!==null&&(!(ht.expirationTime>At)||It&&!bt());){var Vt=ht.callback;if(typeof Vt=="function"){ht.callback=null,ut=ht.priorityLevel;var Pt=Vt(ht.expirationTime<=At);At=g.unstable_now(),typeof Pt=="function"?ht.callback=Pt:ht===_(tt)&&j(tt),mt(At)}else j(tt);ht=_(tt)}if(ht!==null)var Et=!0;else{var _t=_(rt);_t!==null&&Dt(ft,_t.startTime-At),Et=!1}return Et}finally{ht=null,ut=Ft,lt=!1}}var xt=!1,dt=null,gt=-1,St=5,kt=-1;function bt(){return!(g.unstable_now()-kt<St)}function wt(){if(dt!==null){var It=g.unstable_now();kt=It;var At=!0;try{At=dt(!0,It)}finally{At?Tt():(xt=!1,dt=null)}}else xt=!1}var Tt;if(typeof ot=="function")Tt=function(){ot(wt)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,Bt=Ht.port2;Ht.port1.onmessage=wt,Tt=function(){Bt.postMessage(null)}}else Tt=function(){yt(wt,0)};function Wt(It){dt=It,xt||(xt=!0,Tt())}function Dt(It,At){gt=yt(function(){It(g.unstable_now())},At)}g.unstable_IdlePriority=5,g.unstable_ImmediatePriority=1,g.unstable_LowPriority=4,g.unstable_NormalPriority=3,g.unstable_Profiling=null,g.unstable_UserBlockingPriority=2,g.unstable_cancelCallback=function(It){It.callback=null},g.unstable_continueExecution=function(){pt||lt||(pt=!0,Wt(ct))},g.unstable_forceFrameRate=function(It){0>It||125<It?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<It?Math.floor(1e3/It):5},g.unstable_getCurrentPriorityLevel=function(){return ut},g.unstable_getFirstCallbackNode=function(){return _(tt)},g.unstable_next=function(It){switch(ut){case 1:case 2:case 3:var At=3;break;default:At=ut}var Ft=ut;ut=At;try{return It()}finally{ut=Ft}},g.unstable_pauseExecution=function(){},g.unstable_requestPaint=function(){},g.unstable_runWithPriority=function(It,At){switch(It){case 1:case 2:case 3:case 4:case 5:break;default:It=3}var Ft=ut;ut=It;try{return At()}finally{ut=Ft}},g.unstable_scheduleCallback=function(It,At,Ft){var Vt=g.unstable_now();switch(typeof Ft=="object"&&Ft!==null?(Ft=Ft.delay,Ft=typeof Ft=="number"&&0<Ft?Vt+Ft:Vt):Ft=Vt,It){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=Ft+Pt,It={id:it++,callback:At,priorityLevel:It,startTime:Ft,expirationTime:Pt,sortIndex:-1},Ft>Vt?(It.sortIndex=Ft,b(rt,It),_(tt)===null&&It===_(rt)&&(vt?(st(gt),gt=-1):vt=!0,Dt(ft,Ft-Vt))):(It.sortIndex=Pt,b(tt,It),pt||lt||(pt=!0,Wt(ct))),It},g.unstable_shouldYield=bt,g.unstable_wrapCallback=function(It){var At=ut;return function(){var Ft=ut;ut=At;try{return It.apply(this,arguments)}finally{ut=Ft}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(g){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+g,_=1;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+g+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(g,b){ha(g,b),ha(g+"Capture",b)}function ha(g,b){for(ea[g]=b,g=0;g<b.length;g++)da.add(b[g])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(g){return ja.call(ma,g)?!0:ja.call(la,g)?!1:ka.test(g)?ma[g]=!0:(la[g]=!0,!1)}function pa(g,b,_,j){if(_!==null&&_.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return j?!1:_!==null?!_.acceptsBooleans:(g=g.toLowerCase().slice(0,5),g!=="data-"&&g!=="aria-");default:return!1}}function qa(g,b,_,j){if(b===null||typeof b>"u"||pa(g,b,_,j))return!0;if(j)return!1;if(_!==null)switch(_.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(g,b,_,j,$,_e,et){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=j,this.attributeNamespace=$,this.mustUseProperty=_,this.propertyName=g,this.type=b,this.sanitizeURL=_e,this.removeEmptyString=et}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(g){z[g]=new v(g,0,!1,g,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(g){var b=g[0];z[b]=new v(b,1,!1,g[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(g){z[g]=new v(g,2,!1,g.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(g){z[g]=new v(g,2,!1,g,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(g){z[g]=new v(g,3,!1,g.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(g){z[g]=new v(g,3,!0,g,null,!1,!1)});["capture","download"].forEach(function(g){z[g]=new v(g,4,!1,g,null,!1,!1)});["cols","rows","size","span"].forEach(function(g){z[g]=new v(g,6,!1,g,null,!1,!1)});["rowSpan","start"].forEach(function(g){z[g]=new v(g,5,!1,g.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(g){return g[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(g){var b=g.replace(ra,sa);z[b]=new v(b,1,!1,g,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(g){var b=g.replace(ra,sa);z[b]=new v(b,1,!1,g,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(g){var b=g.replace(ra,sa);z[b]=new v(b,1,!1,g,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(g){z[g]=new v(g,1,!1,g.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(g){z[g]=new v(g,1,!1,g.toLowerCase(),null,!0,!0)});function ta(g,b,_,j){var $=z.hasOwnProperty(b)?z[b]:null;($!==null?$.type!==0:j||!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(qa(b,_,$,j)&&(_=null),j||$===null?oa(b)&&(_===null?g.removeAttribute(b):g.setAttribute(b,""+_)):$.mustUseProperty?g[$.propertyName]=_===null?$.type===3?!1:"":_:(b=$.attributeName,j=$.attributeNamespace,_===null?g.removeAttribute(b):($=$.type,_=$===3||$===4&&_===!0?"":""+_,j?g.setAttributeNS(j,b,_):g.setAttribute(b,_))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(g){return g===null||typeof g!="object"?null:(g=Ja&&g[Ja]||g["@@iterator"],typeof g=="function"?g:null)}var A=Object.assign,La;function Ma(g){if(La===void 0)try{throw Error()}catch(_){var b=_.stack.trim().match(/\n( *(at )?)/);La=b&&b[1]||""}return`
`+La+g}var Na=!1;function Oa(g,b){if(!g||Na)return"";Na=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(rt){var j=rt}Reflect.construct(g,[],b)}else{try{b.call()}catch(rt){j=rt}g.call(b.prototype)}else{try{throw Error()}catch(rt){j=rt}g()}}catch(rt){if(rt&&j&&typeof rt.stack=="string"){for(var $=rt.stack.split(`
`),_e=j.stack.split(`
`),et=$.length-1,nt=_e.length-1;1<=et&&0<=nt&&$[et]!==_e[nt];)nt--;for(;1<=et&&0<=nt;et--,nt--)if($[et]!==_e[nt]){if(et!==1||nt!==1)do if(et--,nt--,0>nt||$[et]!==_e[nt]){var tt=`
`+$[et].replace(" at new "," at ");return g.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",g.displayName)),tt}while(1<=et&&0<=nt);break}}}finally{Na=!1,Error.prepareStackTrace=_}return(g=g?g.displayName||g.name:"")?Ma(g):""}function Pa(g){switch(g.tag){case 5:return Ma(g.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return g=Oa(g.type,!1),g;case 11:return g=Oa(g.type.render,!1),g;case 1:return g=Oa(g.type,!0),g;default:return""}}function Qa(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case Ca:return(g.displayName||"Context")+".Consumer";case Ba:return(g._context.displayName||"Context")+".Provider";case Da:var b=g.render;return g=g.displayName,g||(g=b.displayName||b.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case Ga:return b=g.displayName||null,b!==null?b:Qa(g.type)||"Memo";case Ha:b=g._payload,g=g._init;try{return Qa(g(b))}catch{}}return null}function Ra(g){var b=g.type;switch(g.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=b.render,g=g.displayName||g.name||"",b.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(b);case 8:return b===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function Sa(g){switch(typeof g){case"boolean":case"number":case"string":case"undefined":return g;case"object":return g;default:return""}}function Ta(g){var b=g.type;return(g=g.nodeName)&&g.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Ua(g){var b=Ta(g)?"checked":"value",_=Object.getOwnPropertyDescriptor(g.constructor.prototype,b),j=""+g[b];if(!g.hasOwnProperty(b)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var $=_.get,_e=_.set;return Object.defineProperty(g,b,{configurable:!0,get:function(){return $.call(this)},set:function(et){j=""+et,_e.call(this,et)}}),Object.defineProperty(g,b,{enumerable:_.enumerable}),{getValue:function(){return j},setValue:function(et){j=""+et},stopTracking:function(){g._valueTracker=null,delete g[b]}}}}function Va(g){g._valueTracker||(g._valueTracker=Ua(g))}function Wa(g){if(!g)return!1;var b=g._valueTracker;if(!b)return!0;var _=b.getValue(),j="";return g&&(j=Ta(g)?g.checked?"true":"false":g.value),g=j,g!==_?(b.setValue(g),!0):!1}function Xa(g){if(g=g||(typeof document<"u"?document:void 0),typeof g>"u")return null;try{return g.activeElement||g.body}catch{return g.body}}function Ya(g,b){var _=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??g._wrapperState.initialChecked})}function Za(g,b){var _=b.defaultValue==null?"":b.defaultValue,j=b.checked!=null?b.checked:b.defaultChecked;_=Sa(b.value!=null?b.value:_),g._wrapperState={initialChecked:j,initialValue:_,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function ab(g,b){b=b.checked,b!=null&&ta(g,"checked",b,!1)}function bb(g,b){ab(g,b);var _=Sa(b.value),j=b.type;if(_!=null)j==="number"?(_===0&&g.value===""||g.value!=_)&&(g.value=""+_):g.value!==""+_&&(g.value=""+_);else if(j==="submit"||j==="reset"){g.removeAttribute("value");return}b.hasOwnProperty("value")?cb(g,b.type,_):b.hasOwnProperty("defaultValue")&&cb(g,b.type,Sa(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(g.defaultChecked=!!b.defaultChecked)}function db(g,b,_){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var j=b.type;if(!(j!=="submit"&&j!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+g._wrapperState.initialValue,_||b===g.value||(g.value=b),g.defaultValue=b}_=g.name,_!==""&&(g.name=""),g.defaultChecked=!!g._wrapperState.initialChecked,_!==""&&(g.name=_)}function cb(g,b,_){(b!=="number"||Xa(g.ownerDocument)!==g)&&(_==null?g.defaultValue=""+g._wrapperState.initialValue:g.defaultValue!==""+_&&(g.defaultValue=""+_))}var eb=Array.isArray;function fb(g,b,_,j){if(g=g.options,b){b={};for(var $=0;$<_.length;$++)b["$"+_[$]]=!0;for(_=0;_<g.length;_++)$=b.hasOwnProperty("$"+g[_].value),g[_].selected!==$&&(g[_].selected=$),$&&j&&(g[_].defaultSelected=!0)}else{for(_=""+Sa(_),b=null,$=0;$<g.length;$++){if(g[$].value===_){g[$].selected=!0,j&&(g[$].defaultSelected=!0);return}b!==null||g[$].disabled||(b=g[$])}b!==null&&(b.selected=!0)}}function gb(g,b){if(b.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:""+g._wrapperState.initialValue})}function hb(g,b){var _=b.value;if(_==null){if(_=b.children,b=b.defaultValue,_!=null){if(b!=null)throw Error(p(92));if(eb(_)){if(1<_.length)throw Error(p(93));_=_[0]}b=_}b==null&&(b=""),_=b}g._wrapperState={initialValue:Sa(_)}}function ib(g,b){var _=Sa(b.value),j=Sa(b.defaultValue);_!=null&&(_=""+_,_!==g.value&&(g.value=_),b.defaultValue==null&&g.defaultValue!==_&&(g.defaultValue=_)),j!=null&&(g.defaultValue=""+j)}function jb(g){var b=g.textContent;b===g._wrapperState.initialValue&&b!==""&&b!==null&&(g.value=b)}function kb(g){switch(g){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(g,b){return g==null||g==="http://www.w3.org/1999/xhtml"?kb(b):g==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":g}var mb,nb=function(g){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,_,j,$){MSApp.execUnsafeLocalFunction(function(){return g(b,_,j,$)})}:g}(function(g,b){if(g.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in g)g.innerHTML=b;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=mb.firstChild;g.firstChild;)g.removeChild(g.firstChild);for(;b.firstChild;)g.appendChild(b.firstChild)}});function ob(g,b){if(b){var _=g.firstChild;if(_&&_===g.lastChild&&_.nodeType===3){_.nodeValue=b;return}}g.textContent=b}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(g){qb.forEach(function(b){b=b+g.charAt(0).toUpperCase()+g.substring(1),pb[b]=pb[g]})});function rb(g,b,_){return b==null||typeof b=="boolean"||b===""?"":_||typeof b!="number"||b===0||pb.hasOwnProperty(g)&&pb[g]?(""+b).trim():b+"px"}function sb(g,b){g=g.style;for(var _ in b)if(b.hasOwnProperty(_)){var j=_.indexOf("--")===0,$=rb(_,b[_],j);_==="float"&&(_="cssFloat"),j?g.setProperty(_,$):g[_]=$}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(g,b){if(b){if(tb[g]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(p(137,g));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(p(60));if(typeof b.dangerouslySetInnerHTML!="object"||!("__html"in b.dangerouslySetInnerHTML))throw Error(p(61))}if(b.style!=null&&typeof b.style!="object")throw Error(p(62))}}function vb(g,b){if(g.indexOf("-")===-1)return typeof b.is=="string";switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(g){return g=g.target||g.srcElement||window,g.correspondingUseElement&&(g=g.correspondingUseElement),g.nodeType===3?g.parentNode:g}var yb=null,zb=null,Ab=null;function Bb(g){if(g=Cb(g)){if(typeof yb!="function")throw Error(p(280));var b=g.stateNode;b&&(b=Db(b),yb(g.stateNode,g.type,b))}}function Eb(g){zb?Ab?Ab.push(g):Ab=[g]:zb=g}function Fb(){if(zb){var g=zb,b=Ab;if(Ab=zb=null,Bb(g),b)for(g=0;g<b.length;g++)Bb(b[g])}}function Gb(g,b){return g(b)}function Hb(){}var Ib=!1;function Jb(g,b,_){if(Ib)return g(b,_);Ib=!0;try{return Gb(g,b,_)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(g,b){var _=g.stateNode;if(_===null)return null;var j=Db(_);if(j===null)return null;_=j[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(g=g.type,j=!(g==="button"||g==="input"||g==="select"||g==="textarea")),g=!j;break e;default:g=!1}if(g)return null;if(_&&typeof _!="function")throw Error(p(231,b,typeof _));return _}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(g,b,_,j,$,_e,et,nt,tt){var rt=Array.prototype.slice.call(arguments,3);try{b.apply(_,rt)}catch(it){this.onError(it)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(g){Ob=!0,Pb=g}};function Tb(g,b,_,j,$,_e,et,nt,tt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(g,b,_,j,$,_e,et,nt,tt){if(Tb.apply(this,arguments),Ob){if(Ob){var rt=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=rt)}}function Vb(g){var b=g,_=g;if(g.alternate)for(;b.return;)b=b.return;else{g=b;do b=g,b.flags&4098&&(_=b.return),g=b.return;while(g)}return b.tag===3?_:null}function Wb(g){if(g.tag===13){var b=g.memoizedState;if(b===null&&(g=g.alternate,g!==null&&(b=g.memoizedState)),b!==null)return b.dehydrated}return null}function Xb(g){if(Vb(g)!==g)throw Error(p(188))}function Yb(g){var b=g.alternate;if(!b){if(b=Vb(g),b===null)throw Error(p(188));return b!==g?null:g}for(var _=g,j=b;;){var $=_.return;if($===null)break;var _e=$.alternate;if(_e===null){if(j=$.return,j!==null){_=j;continue}break}if($.child===_e.child){for(_e=$.child;_e;){if(_e===_)return Xb($),g;if(_e===j)return Xb($),b;_e=_e.sibling}throw Error(p(188))}if(_.return!==j.return)_=$,j=_e;else{for(var et=!1,nt=$.child;nt;){if(nt===_){et=!0,_=$,j=_e;break}if(nt===j){et=!0,j=$,_=_e;break}nt=nt.sibling}if(!et){for(nt=_e.child;nt;){if(nt===_){et=!0,_=_e,j=$;break}if(nt===j){et=!0,j=_e,_=$;break}nt=nt.sibling}if(!et)throw Error(p(189))}}if(_.alternate!==j)throw Error(p(190))}if(_.tag!==3)throw Error(p(188));return _.stateNode.current===_?g:b}function Zb(g){return g=Yb(g),g!==null?$b(g):null}function $b(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var b=$b(g);if(b!==null)return b;g=g.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(g){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,g,void 0,(g.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(g){return g>>>=0,g===0?32:31-(pc(g)/qc|0)|0}var rc=64,sc=4194304;function tc(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function uc(g,b){var _=g.pendingLanes;if(_===0)return 0;var j=0,$=g.suspendedLanes,_e=g.pingedLanes,et=_&268435455;if(et!==0){var nt=et&~$;nt!==0?j=tc(nt):(_e&=et,_e!==0&&(j=tc(_e)))}else et=_&~$,et!==0?j=tc(et):_e!==0&&(j=tc(_e));if(j===0)return 0;if(b!==0&&b!==j&&!(b&$)&&($=j&-j,_e=b&-b,$>=_e||$===16&&(_e&4194240)!==0))return b;if(j&4&&(j|=_&16),b=g.entangledLanes,b!==0)for(g=g.entanglements,b&=j;0<b;)_=31-oc(b),$=1<<_,j|=g[_],b&=~$;return j}function vc(g,b){switch(g){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(g,b){for(var _=g.suspendedLanes,j=g.pingedLanes,$=g.expirationTimes,_e=g.pendingLanes;0<_e;){var et=31-oc(_e),nt=1<<et,tt=$[et];tt===-1?(!(nt&_)||nt&j)&&($[et]=vc(nt,b)):tt<=b&&(g.expiredLanes|=nt),_e&=~nt}}function xc(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function yc(){var g=rc;return rc<<=1,!(rc&4194240)&&(rc=64),g}function zc(g){for(var b=[],_=0;31>_;_++)b.push(g);return b}function Ac(g,b,_){g.pendingLanes|=b,b!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,b=31-oc(b),g[b]=_}function Bc(g,b){var _=g.pendingLanes&~b;g.pendingLanes=b,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=b,g.mutableReadLanes&=b,g.entangledLanes&=b,b=g.entanglements;var j=g.eventTimes;for(g=g.expirationTimes;0<_;){var $=31-oc(_),_e=1<<$;b[$]=0,j[$]=-1,g[$]=-1,_&=~_e}}function Cc(g,b){var _=g.entangledLanes|=b;for(g=g.entanglements;_;){var j=31-oc(_),$=1<<j;$&b|g[j]&b&&(g[j]|=b),_&=~$}}var C=0;function Dc(g){return g&=-g,1<g?4<g?g&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(g,b){switch(g){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(b.pointerId)}}function Tc(g,b,_,j,$,_e){return g===null||g.nativeEvent!==_e?(g={blockedOn:b,domEventName:_,eventSystemFlags:j,nativeEvent:_e,targetContainers:[$]},b!==null&&(b=Cb(b),b!==null&&Fc(b)),g):(g.eventSystemFlags|=j,b=g.targetContainers,$!==null&&b.indexOf($)===-1&&b.push($),g)}function Uc(g,b,_,j,$){switch(b){case"focusin":return Lc=Tc(Lc,g,b,_,j,$),!0;case"dragenter":return Mc=Tc(Mc,g,b,_,j,$),!0;case"mouseover":return Nc=Tc(Nc,g,b,_,j,$),!0;case"pointerover":var _e=$.pointerId;return Oc.set(_e,Tc(Oc.get(_e)||null,g,b,_,j,$)),!0;case"gotpointercapture":return _e=$.pointerId,Pc.set(_e,Tc(Pc.get(_e)||null,g,b,_,j,$)),!0}return!1}function Vc(g){var b=Wc(g.target);if(b!==null){var _=Vb(b);if(_!==null){if(b=_.tag,b===13){if(b=Wb(_),b!==null){g.blockedOn=b,Ic(g.priority,function(){Gc(_)});return}}else if(b===3&&_.stateNode.current.memoizedState.isDehydrated){g.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}g.blockedOn=null}function Xc(g){if(g.blockedOn!==null)return!1;for(var b=g.targetContainers;0<b.length;){var _=Yc(g.domEventName,g.eventSystemFlags,b[0],g.nativeEvent);if(_===null){_=g.nativeEvent;var j=new _.constructor(_.type,_);wb=j,_.target.dispatchEvent(j),wb=null}else return b=Cb(_),b!==null&&Fc(b),g.blockedOn=_,!1;b.shift()}return!0}function Zc(g,b,_){Xc(g)&&_.delete(b)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(g,b){g.blockedOn===b&&(g.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(g){function b($){return ad($,g)}if(0<Kc.length){ad(Kc[0],g);for(var _=1;_<Kc.length;_++){var j=Kc[_];j.blockedOn===g&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,g),Mc!==null&&ad(Mc,g),Nc!==null&&ad(Nc,g),Oc.forEach(b),Pc.forEach(b),_=0;_<Qc.length;_++)j=Qc[_],j.blockedOn===g&&(j.blockedOn=null);for(;0<Qc.length&&(_=Qc[0],_.blockedOn===null);)Vc(_),_.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(g,b,_,j){var $=C,_e=cd.transition;cd.transition=null;try{C=1,fd(g,b,_,j)}finally{C=$,cd.transition=_e}}function gd(g,b,_,j){var $=C,_e=cd.transition;cd.transition=null;try{C=4,fd(g,b,_,j)}finally{C=$,cd.transition=_e}}function fd(g,b,_,j){if(dd){var $=Yc(g,b,_,j);if($===null)hd(g,b,j,id,_),Sc(g,j);else if(Uc($,g,b,_,j))j.stopPropagation();else if(Sc(g,j),b&4&&-1<Rc.indexOf(g)){for(;$!==null;){var _e=Cb($);if(_e!==null&&Ec(_e),_e=Yc(g,b,_,j),_e===null&&hd(g,b,j,id,_),_e===$)break;$=_e}$!==null&&j.stopPropagation()}else hd(g,b,j,null,_)}}var id=null;function Yc(g,b,_,j){if(id=null,g=xb(j),g=Wc(g),g!==null)if(b=Vb(g),b===null)g=null;else if(_=b.tag,_===13){if(g=Wb(b),g!==null)return g;g=null}else if(_===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;g=null}else b!==g&&(g=null);return id=g,null}function jd(g){switch(g){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var g,b=ld,_=b.length,j,$="value"in kd?kd.value:kd.textContent,_e=$.length;for(g=0;g<_&&b[g]===$[g];g++);var et=_-g;for(j=1;j<=et&&b[_-j]===$[_e-j];j++);return md=$.slice(g,1<j?1-j:void 0)}function od(g){var b=g.keyCode;return"charCode"in g?(g=g.charCode,g===0&&b===13&&(g=13)):g=b,g===10&&(g=13),32<=g||g===13?g:0}function pd(){return!0}function qd(){return!1}function rd(g){function b(_,j,$,_e,et){this._reactName=_,this._targetInst=$,this.type=j,this.nativeEvent=_e,this.target=et,this.currentTarget=null;for(var nt in g)g.hasOwnProperty(nt)&&(_=g[nt],this[nt]=_?_(_e):_e[nt]);return this.isDefaultPrevented=(_e.defaultPrevented!=null?_e.defaultPrevented:_e.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),b}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(g){return g.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(g){return g.relatedTarget===void 0?g.fromElement===g.srcElement?g.toElement:g.fromElement:g.relatedTarget},movementX:function(g){return"movementX"in g?g.movementX:(g!==yd&&(yd&&g.type==="mousemove"?(wd=g.screenX-yd.screenX,xd=g.screenY-yd.screenY):xd=wd=0,yd=g),wd)},movementY:function(g){return"movementY"in g?g.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(g){return"clipboardData"in g?g.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(g){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(g):(g=Od[g])?!!b[g]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(g){if(g.key){var b=Md[g.key]||g.key;if(b!=="Unidentified")return b}return g.type==="keypress"?(g=od(g),g===13?"Enter":String.fromCharCode(g)):g.type==="keydown"||g.type==="keyup"?Nd[g.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(g){return g.type==="keypress"?od(g):0},keyCode:function(g){return g.type==="keydown"||g.type==="keyup"?g.keyCode:0},which:function(g){return g.type==="keypress"?od(g):g.type==="keydown"||g.type==="keyup"?g.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(g){return"deltaX"in g?g.deltaX:"wheelDeltaX"in g?-g.wheelDeltaX:0},deltaY:function(g){return"deltaY"in g?g.deltaY:"wheelDeltaY"in g?-g.wheelDeltaY:"wheelDelta"in g?-g.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(g,b){switch(g){case"keyup":return $d.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(g){return g=g.detail,typeof g=="object"&&"data"in g?g.data:null}var ie=!1;function je(g,b){switch(g){case"compositionend":return he(b);case"keypress":return b.which!==32?null:(fe=!0,ee);case"textInput":return g=b.data,g===ee&&fe?null:g;default:return null}}function ke(g,b){if(ie)return g==="compositionend"||!ae&&ge(g,b)?(g=nd(),md=ld=kd=null,ie=!1,g):null;switch(g){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return de&&b.locale!=="ko"?null:b.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(g){var b=g&&g.nodeName&&g.nodeName.toLowerCase();return b==="input"?!!le[g.type]:b==="textarea"}function ne(g,b,_,j){Eb(j),b=oe(b,"onChange"),0<b.length&&(_=new td("onChange","change",null,_,j),g.push({event:_,listeners:b}))}var pe=null,qe=null;function re(g){se(g,0)}function te(g){var b=ue(g);if(Wa(b))return g}function ve(g,b){if(g==="change")return b}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(g){if(g.propertyName==="value"&&te(qe)){var b=[];ne(b,qe,g,xb(g)),Jb(re,b)}}function Ce(g,b,_){g==="focusin"?(Ae(),pe=b,qe=_,pe.attachEvent("onpropertychange",Be)):g==="focusout"&&Ae()}function De(g){if(g==="selectionchange"||g==="keyup"||g==="keydown")return te(qe)}function Ee(g,b){if(g==="click")return te(b)}function Fe(g,b){if(g==="input"||g==="change")return te(b)}function Ge(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(g,b){if(He(g,b))return!0;if(typeof g!="object"||g===null||typeof b!="object"||b===null)return!1;var _=Object.keys(g),j=Object.keys(b);if(_.length!==j.length)return!1;for(j=0;j<_.length;j++){var $=_[j];if(!ja.call(b,$)||!He(g[$],b[$]))return!1}return!0}function Je(g){for(;g&&g.firstChild;)g=g.firstChild;return g}function Ke(g,b){var _=Je(g);g=0;for(var j;_;){if(_.nodeType===3){if(j=g+_.textContent.length,g<=b&&j>=b)return{node:_,offset:b-g};g=j}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=Je(_)}}function Le(g,b){return g&&b?g===b?!0:g&&g.nodeType===3?!1:b&&b.nodeType===3?Le(g,b.parentNode):"contains"in g?g.contains(b):g.compareDocumentPosition?!!(g.compareDocumentPosition(b)&16):!1:!1}function Me(){for(var g=window,b=Xa();b instanceof g.HTMLIFrameElement;){try{var _=typeof b.contentWindow.location.href=="string"}catch{_=!1}if(_)g=b.contentWindow;else break;b=Xa(g.document)}return b}function Ne(g){var b=g&&g.nodeName&&g.nodeName.toLowerCase();return b&&(b==="input"&&(g.type==="text"||g.type==="search"||g.type==="tel"||g.type==="url"||g.type==="password")||b==="textarea"||g.contentEditable==="true")}function Oe(g){var b=Me(),_=g.focusedElem,j=g.selectionRange;if(b!==_&&_&&_.ownerDocument&&Le(_.ownerDocument.documentElement,_)){if(j!==null&&Ne(_)){if(b=j.start,g=j.end,g===void 0&&(g=b),"selectionStart"in _)_.selectionStart=b,_.selectionEnd=Math.min(g,_.value.length);else if(g=(b=_.ownerDocument||document)&&b.defaultView||window,g.getSelection){g=g.getSelection();var $=_.textContent.length,_e=Math.min(j.start,$);j=j.end===void 0?_e:Math.min(j.end,$),!g.extend&&_e>j&&($=j,j=_e,_e=$),$=Ke(_,_e);var et=Ke(_,j);$&&et&&(g.rangeCount!==1||g.anchorNode!==$.node||g.anchorOffset!==$.offset||g.focusNode!==et.node||g.focusOffset!==et.offset)&&(b=b.createRange(),b.setStart($.node,$.offset),g.removeAllRanges(),_e>j?(g.addRange(b),g.extend(et.node,et.offset)):(b.setEnd(et.node,et.offset),g.addRange(b)))}}for(b=[],g=_;g=g.parentNode;)g.nodeType===1&&b.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<b.length;_++)g=b[_],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(g,b,_){var j=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(b=new td("onSelect","select",null,b,_),g.push({event:b,listeners:j}),b.target=Qe)))}function Ve(g,b){var _={};return _[g.toLowerCase()]=b.toLowerCase(),_["Webkit"+g]="webkit"+b,_["Moz"+g]="moz"+b,_}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(g){if(Xe[g])return Xe[g];if(!We[g])return g;var b=We[g],_;for(_ in b)if(b.hasOwnProperty(_)&&_ in Ye)return Xe[g]=b[_];return g}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(g,b){df.set(g,b),fa(b,[g])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(g,b,_){var j=g.type||"unknown-event";g.currentTarget=_,Ub(j,b,void 0,g),g.currentTarget=null}function se(g,b){b=(b&4)!==0;for(var _=0;_<g.length;_++){var j=g[_],$=j.event;j=j.listeners;e:{var _e=void 0;if(b)for(var et=j.length-1;0<=et;et--){var nt=j[et],tt=nt.instance,rt=nt.currentTarget;if(nt=nt.listener,tt!==_e&&$.isPropagationStopped())break e;nf($,nt,rt),_e=tt}else for(et=0;et<j.length;et++){if(nt=j[et],tt=nt.instance,rt=nt.currentTarget,nt=nt.listener,tt!==_e&&$.isPropagationStopped())break e;nf($,nt,rt),_e=tt}}}if(Qb)throw g=Rb,Qb=!1,Rb=null,g}function D(g,b){var _=b[of];_===void 0&&(_=b[of]=new Set);var j=g+"__bubble";_.has(j)||(pf(b,g,2,!1),_.add(j))}function qf(g,b,_){var j=0;b&&(j|=4),pf(_,g,j,b)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(g){if(!g[rf]){g[rf]=!0,da.forEach(function(_){_!=="selectionchange"&&(mf.has(_)||qf(_,!1,g),qf(_,!0,g))});var b=g.nodeType===9?g:g.ownerDocument;b===null||b[rf]||(b[rf]=!0,qf("selectionchange",!1,b))}}function pf(g,b,_,j){switch(jd(b)){case 1:var $=ed;break;case 4:$=gd;break;default:$=fd}_=$.bind(null,b,_,g),$=void 0,!Lb||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||($=!0),j?$!==void 0?g.addEventListener(b,_,{capture:!0,passive:$}):g.addEventListener(b,_,!0):$!==void 0?g.addEventListener(b,_,{passive:$}):g.addEventListener(b,_,!1)}function hd(g,b,_,j,$){var _e=j;if(!(b&1)&&!(b&2)&&j!==null)e:for(;;){if(j===null)return;var et=j.tag;if(et===3||et===4){var nt=j.stateNode.containerInfo;if(nt===$||nt.nodeType===8&&nt.parentNode===$)break;if(et===4)for(et=j.return;et!==null;){var tt=et.tag;if((tt===3||tt===4)&&(tt=et.stateNode.containerInfo,tt===$||tt.nodeType===8&&tt.parentNode===$))return;et=et.return}for(;nt!==null;){if(et=Wc(nt),et===null)return;if(tt=et.tag,tt===5||tt===6){j=_e=et;continue e}nt=nt.parentNode}}j=j.return}Jb(function(){var rt=_e,it=xb(_),ht=[];e:{var ut=df.get(g);if(ut!==void 0){var lt=td,pt=g;switch(g){case"keypress":if(od(_)===0)break e;case"keydown":case"keyup":lt=Rd;break;case"focusin":pt="focus",lt=Fd;break;case"focusout":pt="blur",lt=Fd;break;case"beforeblur":case"afterblur":lt=Fd;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=Vd;break;case $e:case af:case bf:lt=Hd;break;case cf:lt=Xd;break;case"scroll":lt=vd;break;case"wheel":lt=Zd;break;case"copy":case"cut":case"paste":lt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Td}var vt=(b&4)!==0,yt=!vt&&g==="scroll",st=vt?ut!==null?ut+"Capture":null:ut;vt=[];for(var ot=rt,mt;ot!==null;){mt=ot;var ft=mt.stateNode;if(mt.tag===5&&ft!==null&&(mt=ft,st!==null&&(ft=Kb(ot,st),ft!=null&&vt.push(tf(ot,ft,mt)))),yt)break;ot=ot.return}0<vt.length&&(ut=new lt(ut,pt,null,_,it),ht.push({event:ut,listeners:vt}))}}if(!(b&7)){e:{if(ut=g==="mouseover"||g==="pointerover",lt=g==="mouseout"||g==="pointerout",ut&&_!==wb&&(pt=_.relatedTarget||_.fromElement)&&(Wc(pt)||pt[uf]))break e;if((lt||ut)&&(ut=it.window===it?it:(ut=it.ownerDocument)?ut.defaultView||ut.parentWindow:window,lt?(pt=_.relatedTarget||_.toElement,lt=rt,pt=pt?Wc(pt):null,pt!==null&&(yt=Vb(pt),pt!==yt||pt.tag!==5&&pt.tag!==6)&&(pt=null)):(lt=null,pt=rt),lt!==pt)){if(vt=Bd,ft="onMouseLeave",st="onMouseEnter",ot="mouse",(g==="pointerout"||g==="pointerover")&&(vt=Td,ft="onPointerLeave",st="onPointerEnter",ot="pointer"),yt=lt==null?ut:ue(lt),mt=pt==null?ut:ue(pt),ut=new vt(ft,ot+"leave",lt,_,it),ut.target=yt,ut.relatedTarget=mt,ft=null,Wc(it)===rt&&(vt=new vt(st,ot+"enter",pt,_,it),vt.target=mt,vt.relatedTarget=yt,ft=vt),yt=ft,lt&&pt)t:{for(vt=lt,st=pt,ot=0,mt=vt;mt;mt=vf(mt))ot++;for(mt=0,ft=st;ft;ft=vf(ft))mt++;for(;0<ot-mt;)vt=vf(vt),ot--;for(;0<mt-ot;)st=vf(st),mt--;for(;ot--;){if(vt===st||st!==null&&vt===st.alternate)break t;vt=vf(vt),st=vf(st)}vt=null}else vt=null;lt!==null&&wf(ht,ut,lt,vt,!1),pt!==null&&yt!==null&&wf(ht,yt,pt,vt,!0)}}e:{if(ut=rt?ue(rt):window,lt=ut.nodeName&&ut.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ut.type==="file")var ct=ve;else if(me(ut))if(we)ct=Fe;else{ct=De;var xt=Ce}else(lt=ut.nodeName)&&lt.toLowerCase()==="input"&&(ut.type==="checkbox"||ut.type==="radio")&&(ct=Ee);if(ct&&(ct=ct(g,rt))){ne(ht,ct,_,it);break e}xt&&xt(g,ut,rt),g==="focusout"&&(xt=ut._wrapperState)&&xt.controlled&&ut.type==="number"&&cb(ut,"number",ut.value)}switch(xt=rt?ue(rt):window,g){case"focusin":(me(xt)||xt.contentEditable==="true")&&(Qe=xt,Re=rt,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ht,_,it);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ht,_,it)}var dt;if(ae)e:{switch(g){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ie?ge(g,_)&&(gt="onCompositionEnd"):g==="keydown"&&_.keyCode===229&&(gt="onCompositionStart");gt&&(de&&_.locale!=="ko"&&(ie||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ie&&(dt=nd()):(kd=it,ld="value"in kd?kd.value:kd.textContent,ie=!0)),xt=oe(rt,gt),0<xt.length&&(gt=new Ld(gt,g,null,_,it),ht.push({event:gt,listeners:xt}),dt?gt.data=dt:(dt=he(_),dt!==null&&(gt.data=dt)))),(dt=ce?je(g,_):ke(g,_))&&(rt=oe(rt,"onBeforeInput"),0<rt.length&&(it=new Ld("onBeforeInput","beforeinput",null,_,it),ht.push({event:it,listeners:rt}),it.data=dt))}se(ht,b)})}function tf(g,b,_){return{instance:g,listener:b,currentTarget:_}}function oe(g,b){for(var _=b+"Capture",j=[];g!==null;){var $=g,_e=$.stateNode;$.tag===5&&_e!==null&&($=_e,_e=Kb(g,_),_e!=null&&j.unshift(tf(g,_e,$)),_e=Kb(g,b),_e!=null&&j.push(tf(g,_e,$))),g=g.return}return j}function vf(g){if(g===null)return null;do g=g.return;while(g&&g.tag!==5);return g||null}function wf(g,b,_,j,$){for(var _e=b._reactName,et=[];_!==null&&_!==j;){var nt=_,tt=nt.alternate,rt=nt.stateNode;if(tt!==null&&tt===j)break;nt.tag===5&&rt!==null&&(nt=rt,$?(tt=Kb(_,_e),tt!=null&&et.unshift(tf(_,tt,nt))):$||(tt=Kb(_,_e),tt!=null&&et.push(tf(_,tt,nt)))),_=_.return}et.length!==0&&g.push({event:b,listeners:et})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(g){return(typeof g=="string"?g:""+g).replace(xf,`
`).replace(yf,"")}function Af(g,b,_){if(b=zf(b),zf(g)!==b&&_)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(g,b){return g==="textarea"||g==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(g){return Hf.resolve(null).then(g).catch(If)}:Ff;function If(g){setTimeout(function(){throw g})}function Kf(g,b){var _=b,j=0;do{var $=_.nextSibling;if(g.removeChild(_),$&&$.nodeType===8)if(_=$.data,_==="/$"){if(j===0){g.removeChild($),bd(b);return}j--}else _!=="$"&&_!=="$?"&&_!=="$!"||j++;_=$}while(_);bd(b)}function Lf(g){for(;g!=null;g=g.nextSibling){var b=g.nodeType;if(b===1||b===3)break;if(b===8){if(b=g.data,b==="$"||b==="$!"||b==="$?")break;if(b==="/$")return null}}return g}function Mf(g){g=g.previousSibling;for(var b=0;g;){if(g.nodeType===8){var _=g.data;if(_==="$"||_==="$!"||_==="$?"){if(b===0)return g;b--}else _==="/$"&&b++}g=g.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(g){var b=g[Of];if(b)return b;for(var _=g.parentNode;_;){if(b=_[uf]||_[Of]){if(_=b.alternate,b.child!==null||_!==null&&_.child!==null)for(g=Mf(g);g!==null;){if(_=g[Of])return _;g=Mf(g)}return b}g=_,_=g.parentNode}return null}function Cb(g){return g=g[Of]||g[uf],!g||g.tag!==5&&g.tag!==6&&g.tag!==13&&g.tag!==3?null:g}function ue(g){if(g.tag===5||g.tag===6)return g.stateNode;throw Error(p(33))}function Db(g){return g[Pf]||null}var Sf=[],Tf=-1;function Uf(g){return{current:g}}function E(g){0>Tf||(g.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(g,b){Tf++,Sf[Tf]=g.current,g.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(g,b){var _=g.type.contextTypes;if(!_)return Vf;var j=g.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===b)return j.__reactInternalMemoizedMaskedChildContext;var $={},_e;for(_e in _)$[_e]=b[_e];return j&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=b,g.__reactInternalMemoizedMaskedChildContext=$),$}function Zf(g){return g=g.childContextTypes,g!=null}function $f(){E(Wf),E(H)}function ag(g,b,_){if(H.current!==Vf)throw Error(p(168));G(H,b),G(Wf,_)}function bg(g,b,_){var j=g.stateNode;if(b=b.childContextTypes,typeof j.getChildContext!="function")return _;j=j.getChildContext();for(var $ in j)if(!($ in b))throw Error(p(108,Ra(g)||"Unknown",$));return A({},_,j)}function cg(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,g),G(Wf,Wf.current),!0}function dg(g,b,_){var j=g.stateNode;if(!j)throw Error(p(169));_?(g=bg(g,b,Xf),j.__reactInternalMemoizedMergedChildContext=g,E(Wf),E(H),G(H,g)):E(Wf),G(Wf,_)}var eg=null,fg=!1,gg=!1;function hg(g){eg===null?eg=[g]:eg.push(g)}function ig(g){fg=!0,hg(g)}function jg(){if(!gg&&eg!==null){gg=!0;var g=0,b=C;try{var _=eg;for(C=1;g<_.length;g++){var j=_[g];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch($){throw eg!==null&&(eg=eg.slice(g+1)),ac(fc,jg),$}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(g,b){kg[lg++]=ng,kg[lg++]=mg,mg=g,ng=b}function ug(g,b,_){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=g;var j=rg;g=sg;var $=32-oc(j)-1;j&=~(1<<$),_+=1;var _e=32-oc(b)+$;if(30<_e){var et=$-$%5;_e=(j&(1<<et)-1).toString(32),j>>=et,$-=et,rg=1<<32-oc(b)+$|_<<$|j,sg=_e+g}else rg=1<<_e|_<<$|j,sg=g}function vg(g){g.return!==null&&(tg(g,1),ug(g,1,0))}function wg(g){for(;g===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;g===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(g,b){var _=Bg(5,null,null,0);_.elementType="DELETED",_.stateNode=b,_.return=g,b=g.deletions,b===null?(g.deletions=[_],g.flags|=16):b.push(_)}function Cg(g,b){switch(g.tag){case 5:var _=g.type;return b=b.nodeType!==1||_.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(g.stateNode=b,xg=g,yg=Lf(b.firstChild),!0):!1;case 6:return b=g.pendingProps===""||b.nodeType!==3?null:b,b!==null?(g.stateNode=b,xg=g,yg=null,!0):!1;case 13:return b=b.nodeType!==8?null:b,b!==null?(_=qg!==null?{id:rg,overflow:sg}:null,g.memoizedState={dehydrated:b,treeContext:_,retryLane:1073741824},_=Bg(18,null,null,0),_.stateNode=b,_.return=g,g.child=_,xg=g,yg=null,!0):!1;default:return!1}}function Dg(g){return(g.mode&1)!==0&&(g.flags&128)===0}function Eg(g){if(I){var b=yg;if(b){var _=b;if(!Cg(g,b)){if(Dg(g))throw Error(p(418));b=Lf(_.nextSibling);var j=xg;b&&Cg(g,b)?Ag(j,_):(g.flags=g.flags&-4097|2,I=!1,xg=g)}}else{if(Dg(g))throw Error(p(418));g.flags=g.flags&-4097|2,I=!1,xg=g}}}function Fg(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;xg=g}function Gg(g){if(g!==xg)return!1;if(!I)return Fg(g),I=!0,!1;var b;if((b=g.tag!==3)&&!(b=g.tag!==5)&&(b=g.type,b=b!=="head"&&b!=="body"&&!Ef(g.type,g.memoizedProps)),b&&(b=yg)){if(Dg(g))throw Hg(),Error(p(418));for(;b;)Ag(g,b),b=Lf(b.nextSibling)}if(Fg(g),g.tag===13){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p(317));e:{for(g=g.nextSibling,b=0;g;){if(g.nodeType===8){var _=g.data;if(_==="/$"){if(b===0){yg=Lf(g.nextSibling);break e}b--}else _!=="$"&&_!=="$!"&&_!=="$?"||b++}g=g.nextSibling}yg=null}}else yg=xg?Lf(g.stateNode.nextSibling):null;return!0}function Hg(){for(var g=yg;g;)g=Lf(g.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(g){zg===null?zg=[g]:zg.push(g)}var Kg=ua.ReactCurrentBatchConfig;function Lg(g,b,_){if(g=_.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(p(309));var j=_.stateNode}if(!j)throw Error(p(147,g));var $=j,_e=""+g;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===_e?b.ref:(b=function(et){var nt=$.refs;et===null?delete nt[_e]:nt[_e]=et},b._stringRef=_e,b)}if(typeof g!="string")throw Error(p(284));if(!_._owner)throw Error(p(290,g))}return g}function Mg(g,b){throw g=Object.prototype.toString.call(b),Error(p(31,g==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":g))}function Ng(g){var b=g._init;return b(g._payload)}function Og(g){function b(st,ot){if(g){var mt=st.deletions;mt===null?(st.deletions=[ot],st.flags|=16):mt.push(ot)}}function _(st,ot){if(!g)return null;for(;ot!==null;)b(st,ot),ot=ot.sibling;return null}function j(st,ot){for(st=new Map;ot!==null;)ot.key!==null?st.set(ot.key,ot):st.set(ot.index,ot),ot=ot.sibling;return st}function $(st,ot){return st=Pg(st,ot),st.index=0,st.sibling=null,st}function _e(st,ot,mt){return st.index=mt,g?(mt=st.alternate,mt!==null?(mt=mt.index,mt<ot?(st.flags|=2,ot):mt):(st.flags|=2,ot)):(st.flags|=1048576,ot)}function et(st){return g&&st.alternate===null&&(st.flags|=2),st}function nt(st,ot,mt,ft){return ot===null||ot.tag!==6?(ot=Qg(mt,st.mode,ft),ot.return=st,ot):(ot=$(ot,mt),ot.return=st,ot)}function tt(st,ot,mt,ft){var ct=mt.type;return ct===ya?it(st,ot,mt.props.children,ft,mt.key):ot!==null&&(ot.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Ha&&Ng(ct)===ot.type)?(ft=$(ot,mt.props),ft.ref=Lg(st,ot,mt),ft.return=st,ft):(ft=Rg(mt.type,mt.key,mt.props,null,st.mode,ft),ft.ref=Lg(st,ot,mt),ft.return=st,ft)}function rt(st,ot,mt,ft){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==mt.containerInfo||ot.stateNode.implementation!==mt.implementation?(ot=Sg(mt,st.mode,ft),ot.return=st,ot):(ot=$(ot,mt.children||[]),ot.return=st,ot)}function it(st,ot,mt,ft,ct){return ot===null||ot.tag!==7?(ot=Tg(mt,st.mode,ft,ct),ot.return=st,ot):(ot=$(ot,mt),ot.return=st,ot)}function ht(st,ot,mt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ot=Qg(""+ot,st.mode,mt),ot.return=st,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case va:return mt=Rg(ot.type,ot.key,ot.props,null,st.mode,mt),mt.ref=Lg(st,null,ot),mt.return=st,mt;case wa:return ot=Sg(ot,st.mode,mt),ot.return=st,ot;case Ha:var ft=ot._init;return ht(st,ft(ot._payload),mt)}if(eb(ot)||Ka(ot))return ot=Tg(ot,st.mode,mt,null),ot.return=st,ot;Mg(st,ot)}return null}function ut(st,ot,mt,ft){var ct=ot!==null?ot.key:null;if(typeof mt=="string"&&mt!==""||typeof mt=="number")return ct!==null?null:nt(st,ot,""+mt,ft);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return mt.key===ct?tt(st,ot,mt,ft):null;case wa:return mt.key===ct?rt(st,ot,mt,ft):null;case Ha:return ct=mt._init,ut(st,ot,ct(mt._payload),ft)}if(eb(mt)||Ka(mt))return ct!==null?null:it(st,ot,mt,ft,null);Mg(st,mt)}return null}function lt(st,ot,mt,ft,ct){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return st=st.get(mt)||null,nt(ot,st,""+ft,ct);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case va:return st=st.get(ft.key===null?mt:ft.key)||null,tt(ot,st,ft,ct);case wa:return st=st.get(ft.key===null?mt:ft.key)||null,rt(ot,st,ft,ct);case Ha:var xt=ft._init;return lt(st,ot,mt,xt(ft._payload),ct)}if(eb(ft)||Ka(ft))return st=st.get(mt)||null,it(ot,st,ft,ct,null);Mg(ot,ft)}return null}function pt(st,ot,mt,ft){for(var ct=null,xt=null,dt=ot,gt=ot=0,St=null;dt!==null&&gt<mt.length;gt++){dt.index>gt?(St=dt,dt=null):St=dt.sibling;var kt=ut(st,dt,mt[gt],ft);if(kt===null){dt===null&&(dt=St);break}g&&dt&&kt.alternate===null&&b(st,dt),ot=_e(kt,ot,gt),xt===null?ct=kt:xt.sibling=kt,xt=kt,dt=St}if(gt===mt.length)return _(st,dt),I&&tg(st,gt),ct;if(dt===null){for(;gt<mt.length;gt++)dt=ht(st,mt[gt],ft),dt!==null&&(ot=_e(dt,ot,gt),xt===null?ct=dt:xt.sibling=dt,xt=dt);return I&&tg(st,gt),ct}for(dt=j(st,dt);gt<mt.length;gt++)St=lt(dt,st,gt,mt[gt],ft),St!==null&&(g&&St.alternate!==null&&dt.delete(St.key===null?gt:St.key),ot=_e(St,ot,gt),xt===null?ct=St:xt.sibling=St,xt=St);return g&&dt.forEach(function(bt){return b(st,bt)}),I&&tg(st,gt),ct}function vt(st,ot,mt,ft){var ct=Ka(mt);if(typeof ct!="function")throw Error(p(150));if(mt=ct.call(mt),mt==null)throw Error(p(151));for(var xt=ct=null,dt=ot,gt=ot=0,St=null,kt=mt.next();dt!==null&&!kt.done;gt++,kt=mt.next()){dt.index>gt?(St=dt,dt=null):St=dt.sibling;var bt=ut(st,dt,kt.value,ft);if(bt===null){dt===null&&(dt=St);break}g&&dt&&bt.alternate===null&&b(st,dt),ot=_e(bt,ot,gt),xt===null?ct=bt:xt.sibling=bt,xt=bt,dt=St}if(kt.done)return _(st,dt),I&&tg(st,gt),ct;if(dt===null){for(;!kt.done;gt++,kt=mt.next())kt=ht(st,kt.value,ft),kt!==null&&(ot=_e(kt,ot,gt),xt===null?ct=kt:xt.sibling=kt,xt=kt);return I&&tg(st,gt),ct}for(dt=j(st,dt);!kt.done;gt++,kt=mt.next())kt=lt(dt,st,gt,kt.value,ft),kt!==null&&(g&&kt.alternate!==null&&dt.delete(kt.key===null?gt:kt.key),ot=_e(kt,ot,gt),xt===null?ct=kt:xt.sibling=kt,xt=kt);return g&&dt.forEach(function(wt){return b(st,wt)}),I&&tg(st,gt),ct}function yt(st,ot,mt,ft){if(typeof mt=="object"&&mt!==null&&mt.type===ya&&mt.key===null&&(mt=mt.props.children),typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:e:{for(var ct=mt.key,xt=ot;xt!==null;){if(xt.key===ct){if(ct=mt.type,ct===ya){if(xt.tag===7){_(st,xt.sibling),ot=$(xt,mt.props.children),ot.return=st,st=ot;break e}}else if(xt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Ha&&Ng(ct)===xt.type){_(st,xt.sibling),ot=$(xt,mt.props),ot.ref=Lg(st,xt,mt),ot.return=st,st=ot;break e}_(st,xt);break}else b(st,xt);xt=xt.sibling}mt.type===ya?(ot=Tg(mt.props.children,st.mode,ft,mt.key),ot.return=st,st=ot):(ft=Rg(mt.type,mt.key,mt.props,null,st.mode,ft),ft.ref=Lg(st,ot,mt),ft.return=st,st=ft)}return et(st);case wa:e:{for(xt=mt.key;ot!==null;){if(ot.key===xt)if(ot.tag===4&&ot.stateNode.containerInfo===mt.containerInfo&&ot.stateNode.implementation===mt.implementation){_(st,ot.sibling),ot=$(ot,mt.children||[]),ot.return=st,st=ot;break e}else{_(st,ot);break}else b(st,ot);ot=ot.sibling}ot=Sg(mt,st.mode,ft),ot.return=st,st=ot}return et(st);case Ha:return xt=mt._init,yt(st,ot,xt(mt._payload),ft)}if(eb(mt))return pt(st,ot,mt,ft);if(Ka(mt))return vt(st,ot,mt,ft);Mg(st,mt)}return typeof mt=="string"&&mt!==""||typeof mt=="number"?(mt=""+mt,ot!==null&&ot.tag===6?(_(st,ot.sibling),ot=$(ot,mt),ot.return=st,st=ot):(_(st,ot),ot=Qg(mt,st.mode,ft),ot.return=st,st=ot),et(st)):_(st,ot)}return yt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(g){var b=Wg.current;E(Wg),g._currentValue=b}function bh(g,b,_){for(;g!==null;){var j=g.alternate;if((g.childLanes&b)!==b?(g.childLanes|=b,j!==null&&(j.childLanes|=b)):j!==null&&(j.childLanes&b)!==b&&(j.childLanes|=b),g===_)break;g=g.return}}function ch(g,b){Xg=g,Zg=Yg=null,g=g.dependencies,g!==null&&g.firstContext!==null&&(g.lanes&b&&(dh=!0),g.firstContext=null)}function eh(g){var b=g._currentValue;if(Zg!==g)if(g={context:g,memoizedValue:b,next:null},Yg===null){if(Xg===null)throw Error(p(308));Yg=g,Xg.dependencies={lanes:0,firstContext:g}}else Yg=Yg.next=g;return b}var fh=null;function gh(g){fh===null?fh=[g]:fh.push(g)}function hh(g,b,_,j){var $=b.interleaved;return $===null?(_.next=_,gh(b)):(_.next=$.next,$.next=_),b.interleaved=_,ih(g,j)}function ih(g,b){g.lanes|=b;var _=g.alternate;for(_!==null&&(_.lanes|=b),_=g,g=g.return;g!==null;)g.childLanes|=b,_=g.alternate,_!==null&&(_.childLanes|=b),_=g,g=g.return;return _.tag===3?_.stateNode:null}var jh=!1;function kh(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(g,b){g=g.updateQueue,b.updateQueue===g&&(b.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function mh(g,b){return{eventTime:g,lane:b,tag:0,payload:null,callback:null,next:null}}function nh(g,b,_){var j=g.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var $=j.pending;return $===null?b.next=b:(b.next=$.next,$.next=b),j.pending=b,ih(g,_)}return $=j.interleaved,$===null?(b.next=b,gh(j)):(b.next=$.next,$.next=b),j.interleaved=b,ih(g,_)}function oh(g,b,_){if(b=b.updateQueue,b!==null&&(b=b.shared,(_&4194240)!==0)){var j=b.lanes;j&=g.pendingLanes,_|=j,b.lanes=_,Cc(g,_)}}function ph(g,b){var _=g.updateQueue,j=g.alternate;if(j!==null&&(j=j.updateQueue,_===j)){var $=null,_e=null;if(_=_.firstBaseUpdate,_!==null){do{var et={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};_e===null?$=_e=et:_e=_e.next=et,_=_.next}while(_!==null);_e===null?$=_e=b:_e=_e.next=b}else $=_e=b;_={baseState:j.baseState,firstBaseUpdate:$,lastBaseUpdate:_e,shared:j.shared,effects:j.effects},g.updateQueue=_;return}g=_.lastBaseUpdate,g===null?_.firstBaseUpdate=b:g.next=b,_.lastBaseUpdate=b}function qh(g,b,_,j){var $=g.updateQueue;jh=!1;var _e=$.firstBaseUpdate,et=$.lastBaseUpdate,nt=$.shared.pending;if(nt!==null){$.shared.pending=null;var tt=nt,rt=tt.next;tt.next=null,et===null?_e=rt:et.next=rt,et=tt;var it=g.alternate;it!==null&&(it=it.updateQueue,nt=it.lastBaseUpdate,nt!==et&&(nt===null?it.firstBaseUpdate=rt:nt.next=rt,it.lastBaseUpdate=tt))}if(_e!==null){var ht=$.baseState;et=0,it=rt=tt=null,nt=_e;do{var ut=nt.lane,lt=nt.eventTime;if((j&ut)===ut){it!==null&&(it=it.next={eventTime:lt,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var pt=g,vt=nt;switch(ut=b,lt=_,vt.tag){case 1:if(pt=vt.payload,typeof pt=="function"){ht=pt.call(lt,ht,ut);break e}ht=pt;break e;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=vt.payload,ut=typeof pt=="function"?pt.call(lt,ht,ut):pt,ut==null)break e;ht=A({},ht,ut);break e;case 2:jh=!0}}nt.callback!==null&&nt.lane!==0&&(g.flags|=64,ut=$.effects,ut===null?$.effects=[nt]:ut.push(nt))}else lt={eventTime:lt,lane:ut,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},it===null?(rt=it=lt,tt=ht):it=it.next=lt,et|=ut;if(nt=nt.next,nt===null){if(nt=$.shared.pending,nt===null)break;ut=nt,nt=ut.next,ut.next=null,$.lastBaseUpdate=ut,$.shared.pending=null}}while(!0);if(it===null&&(tt=ht),$.baseState=tt,$.firstBaseUpdate=rt,$.lastBaseUpdate=it,b=$.shared.interleaved,b!==null){$=b;do et|=$.lane,$=$.next;while($!==b)}else _e===null&&($.shared.lanes=0);rh|=et,g.lanes=et,g.memoizedState=ht}}function sh(g,b,_){if(g=b.effects,b.effects=null,g!==null)for(b=0;b<g.length;b++){var j=g[b],$=j.callback;if($!==null){if(j.callback=null,j=_,typeof $!="function")throw Error(p(191,$));$.call(j)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(g){if(g===th)throw Error(p(174));return g}function yh(g,b){switch(G(wh,b),G(vh,g),G(uh,th),g=b.nodeType,g){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,"");break;default:g=g===8?b.parentNode:b,b=g.namespaceURI||null,g=g.tagName,b=lb(b,g)}E(uh),G(uh,b)}function zh(){E(uh),E(vh),E(wh)}function Ah(g){xh(wh.current);var b=xh(uh.current),_=lb(b,g.type);b!==_&&(G(vh,g),G(uh,_))}function Bh(g){vh.current===g&&(E(uh),E(vh))}var L=Uf(0);function Ch(g){for(var b=g;b!==null;){if(b.tag===13){var _=b.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if(b.flags&128)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Dh=[];function Eh(){for(var g=0;g<Dh.length;g++)Dh[g]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321))}function Mh(g,b){if(b===null)return!1;for(var _=0;_<b.length&&_<g.length;_++)if(!He(g[_],b[_]))return!1;return!0}function Nh(g,b,_,j,$,_e){if(Hh=_e,M=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,Fh.current=g===null||g.memoizedState===null?Oh:Ph,g=_(j,$),Jh){_e=0;do{if(Jh=!1,Kh=0,25<=_e)throw Error(p(301));_e+=1,O=N=null,b.updateQueue=null,Fh.current=Qh,g=_(j,$)}while(Jh)}if(Fh.current=Rh,b=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,b)throw Error(p(300));return g}function Sh(){var g=Kh!==0;return Kh=0,g}function Th(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=g:O=O.next=g,O}function Uh(){if(N===null){var g=M.alternate;g=g!==null?g.memoizedState:null}else g=N.next;var b=O===null?M.memoizedState:O.next;if(b!==null)O=b,N=g;else{if(g===null)throw Error(p(310));N=g,g={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=g:O=O.next=g}return O}function Vh(g,b){return typeof b=="function"?b(g):b}function Wh(g){var b=Uh(),_=b.queue;if(_===null)throw Error(p(311));_.lastRenderedReducer=g;var j=N,$=j.baseQueue,_e=_.pending;if(_e!==null){if($!==null){var et=$.next;$.next=_e.next,_e.next=et}j.baseQueue=$=_e,_.pending=null}if($!==null){_e=$.next,j=j.baseState;var nt=et=null,tt=null,rt=_e;do{var it=rt.lane;if((Hh&it)===it)tt!==null&&(tt=tt.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),j=rt.hasEagerState?rt.eagerState:g(j,rt.action);else{var ht={lane:it,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};tt===null?(nt=tt=ht,et=j):tt=tt.next=ht,M.lanes|=it,rh|=it}rt=rt.next}while(rt!==null&&rt!==_e);tt===null?et=j:tt.next=nt,He(j,b.memoizedState)||(dh=!0),b.memoizedState=j,b.baseState=et,b.baseQueue=tt,_.lastRenderedState=j}if(g=_.interleaved,g!==null){$=g;do _e=$.lane,M.lanes|=_e,rh|=_e,$=$.next;while($!==g)}else $===null&&(_.lanes=0);return[b.memoizedState,_.dispatch]}function Xh(g){var b=Uh(),_=b.queue;if(_===null)throw Error(p(311));_.lastRenderedReducer=g;var j=_.dispatch,$=_.pending,_e=b.memoizedState;if($!==null){_.pending=null;var et=$=$.next;do _e=g(_e,et.action),et=et.next;while(et!==$);He(_e,b.memoizedState)||(dh=!0),b.memoizedState=_e,b.baseQueue===null&&(b.baseState=_e),_.lastRenderedState=_e}return[_e,j]}function Yh(){}function Zh(g,b){var _=M,j=Uh(),$=b(),_e=!He(j.memoizedState,$);if(_e&&(j.memoizedState=$,dh=!0),j=j.queue,$h(ai.bind(null,_,j,g),[g]),j.getSnapshot!==b||_e||O!==null&&O.memoizedState.tag&1){if(_.flags|=2048,bi(9,ci.bind(null,_,j,$,b),void 0,null),Q===null)throw Error(p(349));Hh&30||di(_,b,$)}return $}function di(g,b,_){g.flags|=16384,g={getSnapshot:b,value:_},b=M.updateQueue,b===null?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[g]):(_=b.stores,_===null?b.stores=[g]:_.push(g))}function ci(g,b,_,j){b.value=_,b.getSnapshot=j,ei(b)&&fi(g)}function ai(g,b,_){return _(function(){ei(b)&&fi(g)})}function ei(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!He(g,_)}catch{return!0}}function fi(g){var b=ih(g,1);b!==null&&gi(b,g,1,-1)}function hi(g){var b=Th();return typeof g=="function"&&(g=g()),b.memoizedState=b.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:g},b.queue=g,g=g.dispatch=ii.bind(null,M,g),[b.memoizedState,g]}function bi(g,b,_,j){return g={tag:g,create:b,destroy:_,deps:j,next:null},b=M.updateQueue,b===null?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=g.next=g):(_=b.lastEffect,_===null?b.lastEffect=g.next=g:(j=_.next,_.next=g,g.next=j,b.lastEffect=g)),g}function ji(){return Uh().memoizedState}function ki(g,b,_,j){var $=Th();M.flags|=g,$.memoizedState=bi(1|b,_,void 0,j===void 0?null:j)}function li(g,b,_,j){var $=Uh();j=j===void 0?null:j;var _e=void 0;if(N!==null){var et=N.memoizedState;if(_e=et.destroy,j!==null&&Mh(j,et.deps)){$.memoizedState=bi(b,_,_e,j);return}}M.flags|=g,$.memoizedState=bi(1|b,_,_e,j)}function mi(g,b){return ki(8390656,8,g,b)}function $h(g,b){return li(2048,8,g,b)}function ni(g,b){return li(4,2,g,b)}function oi(g,b){return li(4,4,g,b)}function pi(g,b){if(typeof b=="function")return g=g(),b(g),function(){b(null)};if(b!=null)return g=g(),b.current=g,function(){b.current=null}}function qi(g,b,_){return _=_!=null?_.concat([g]):null,li(4,4,pi.bind(null,b,g),_)}function ri(){}function si(g,b){var _=Uh();b=b===void 0?null:b;var j=_.memoizedState;return j!==null&&b!==null&&Mh(b,j[1])?j[0]:(_.memoizedState=[g,b],g)}function ti(g,b){var _=Uh();b=b===void 0?null:b;var j=_.memoizedState;return j!==null&&b!==null&&Mh(b,j[1])?j[0]:(g=g(),_.memoizedState=[g,b],g)}function ui(g,b,_){return Hh&21?(He(_,b)||(_=yc(),M.lanes|=_,rh|=_,g.baseState=!0),b):(g.baseState&&(g.baseState=!1,dh=!0),g.memoizedState=_)}function vi(g,b){var _=C;C=_!==0&&4>_?_:4,g(!0);var j=Gh.transition;Gh.transition={};try{g(!1),b()}finally{C=_,Gh.transition=j}}function wi(){return Uh().memoizedState}function xi(g,b,_){var j=yi(g);if(_={lane:j,action:_,hasEagerState:!1,eagerState:null,next:null},zi(g))Ai(b,_);else if(_=hh(g,b,_,j),_!==null){var $=R();gi(_,g,j,$),Bi(_,b,j)}}function ii(g,b,_){var j=yi(g),$={lane:j,action:_,hasEagerState:!1,eagerState:null,next:null};if(zi(g))Ai(b,$);else{var _e=g.alternate;if(g.lanes===0&&(_e===null||_e.lanes===0)&&(_e=b.lastRenderedReducer,_e!==null))try{var et=b.lastRenderedState,nt=_e(et,_);if($.hasEagerState=!0,$.eagerState=nt,He(nt,et)){var tt=b.interleaved;tt===null?($.next=$,gh(b)):($.next=tt.next,tt.next=$),b.interleaved=$;return}}catch{}finally{}_=hh(g,b,$,j),_!==null&&($=R(),gi(_,g,j,$),Bi(_,b,j))}}function zi(g){var b=g.alternate;return g===M||b!==null&&b===M}function Ai(g,b){Jh=Ih=!0;var _=g.pending;_===null?b.next=b:(b.next=_.next,_.next=b),g.pending=b}function Bi(g,b,_){if(_&4194240){var j=b.lanes;j&=g.pendingLanes,_|=j,b.lanes=_,Cc(g,_)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(g,b){return Th().memoizedState=[g,b===void 0?null:b],g},useContext:eh,useEffect:mi,useImperativeHandle:function(g,b,_){return _=_!=null?_.concat([g]):null,ki(4194308,4,pi.bind(null,b,g),_)},useLayoutEffect:function(g,b){return ki(4194308,4,g,b)},useInsertionEffect:function(g,b){return ki(4,2,g,b)},useMemo:function(g,b){var _=Th();return b=b===void 0?null:b,g=g(),_.memoizedState=[g,b],g},useReducer:function(g,b,_){var j=Th();return b=_!==void 0?_(b):b,j.memoizedState=j.baseState=b,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:b},j.queue=g,g=g.dispatch=xi.bind(null,M,g),[j.memoizedState,g]},useRef:function(g){var b=Th();return g={current:g},b.memoizedState=g},useState:hi,useDebugValue:ri,useDeferredValue:function(g){return Th().memoizedState=g},useTransition:function(){var g=hi(!1),b=g[0];return g=vi.bind(null,g[1]),Th().memoizedState=g,[b,g]},useMutableSource:function(){},useSyncExternalStore:function(g,b,_){var j=M,$=Th();if(I){if(_===void 0)throw Error(p(407));_=_()}else{if(_=b(),Q===null)throw Error(p(349));Hh&30||di(j,b,_)}$.memoizedState=_;var _e={value:_,getSnapshot:b};return $.queue=_e,mi(ai.bind(null,j,_e,g),[g]),j.flags|=2048,bi(9,ci.bind(null,j,_e,_,b),void 0,null),_},useId:function(){var g=Th(),b=Q.identifierPrefix;if(I){var _=sg,j=rg;_=(j&~(1<<32-oc(j)-1)).toString(32)+_,b=":"+b+"R"+_,_=Kh++,0<_&&(b+="H"+_.toString(32)),b+=":"}else _=Lh++,b=":"+b+"r"+_.toString(32)+":";return g.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(g){var b=Uh();return ui(b,N.memoizedState,g)},useTransition:function(){var g=Wh(Vh)[0],b=Uh().memoizedState;return[g,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(g){var b=Uh();return N===null?b.memoizedState=g:ui(b,N.memoizedState,g)},useTransition:function(){var g=Xh(Vh)[0],b=Uh().memoizedState;return[g,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(g,b){if(g&&g.defaultProps){b=A({},b),g=g.defaultProps;for(var _ in g)b[_]===void 0&&(b[_]=g[_]);return b}return b}function Di(g,b,_,j){b=g.memoizedState,_=_(j,b),_=_==null?b:A({},b,_),g.memoizedState=_,g.lanes===0&&(g.updateQueue.baseState=_)}var Ei={isMounted:function(g){return(g=g._reactInternals)?Vb(g)===g:!1},enqueueSetState:function(g,b,_){g=g._reactInternals;var j=R(),$=yi(g),_e=mh(j,$);_e.payload=b,_!=null&&(_e.callback=_),b=nh(g,_e,$),b!==null&&(gi(b,g,$,j),oh(b,g,$))},enqueueReplaceState:function(g,b,_){g=g._reactInternals;var j=R(),$=yi(g),_e=mh(j,$);_e.tag=1,_e.payload=b,_!=null&&(_e.callback=_),b=nh(g,_e,$),b!==null&&(gi(b,g,$,j),oh(b,g,$))},enqueueForceUpdate:function(g,b){g=g._reactInternals;var _=R(),j=yi(g),$=mh(_,j);$.tag=2,b!=null&&($.callback=b),b=nh(g,$,j),b!==null&&(gi(b,g,j,_),oh(b,g,j))}};function Fi(g,b,_,j,$,_e,et){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(j,_e,et):b.prototype&&b.prototype.isPureReactComponent?!Ie(_,j)||!Ie($,_e):!0}function Gi(g,b,_){var j=!1,$=Vf,_e=b.contextType;return typeof _e=="object"&&_e!==null?_e=eh(_e):($=Zf(b)?Xf:H.current,j=b.contextTypes,_e=(j=j!=null)?Yf(g,$):Vf),b=new b(_,_e),g.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ei,g.stateNode=b,b._reactInternals=g,j&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=$,g.__reactInternalMemoizedMaskedChildContext=_e),b}function Hi(g,b,_,j){g=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(_,j),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(_,j),b.state!==g&&Ei.enqueueReplaceState(b,b.state,null)}function Ii(g,b,_,j){var $=g.stateNode;$.props=_,$.state=g.memoizedState,$.refs={},kh(g);var _e=b.contextType;typeof _e=="object"&&_e!==null?$.context=eh(_e):(_e=Zf(b)?Xf:H.current,$.context=Yf(g,_e)),$.state=g.memoizedState,_e=b.getDerivedStateFromProps,typeof _e=="function"&&(Di(g,b,_e,_),$.state=g.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(b=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),b!==$.state&&Ei.enqueueReplaceState($,$.state,null),qh(g,_,$,j),$.state=g.memoizedState),typeof $.componentDidMount=="function"&&(g.flags|=4194308)}function Ji(g,b){try{var _="",j=b;do _+=Pa(j),j=j.return;while(j);var $=_}catch(_e){$=`
Error generating stack: `+_e.message+`
`+_e.stack}return{value:g,source:b,stack:$,digest:null}}function Ki(g,b,_){return{value:g,source:null,stack:_??null,digest:b??null}}function Li(g,b){try{console.error(b.value)}catch(_){setTimeout(function(){throw _})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(g,b,_){_=mh(-1,_),_.tag=3,_.payload={element:null};var j=b.value;return _.callback=function(){Oi||(Oi=!0,Pi=j),Li(g,b)},_}function Qi(g,b,_){_=mh(-1,_),_.tag=3;var j=g.type.getDerivedStateFromError;if(typeof j=="function"){var $=b.value;_.payload=function(){return j($)},_.callback=function(){Li(g,b)}}var _e=g.stateNode;return _e!==null&&typeof _e.componentDidCatch=="function"&&(_.callback=function(){Li(g,b),typeof j!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var et=b.stack;this.componentDidCatch(b.value,{componentStack:et!==null?et:""})}),_}function Si(g,b,_){var j=g.pingCache;if(j===null){j=g.pingCache=new Mi;var $=new Set;j.set(b,$)}else $=j.get(b),$===void 0&&($=new Set,j.set(b,$));$.has(_)||($.add(_),g=Ti.bind(null,g,b,_),b.then(g,g))}function Ui(g){do{var b;if((b=g.tag===13)&&(b=g.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return g;g=g.return}while(g!==null);return null}function Vi(g,b,_,j,$){return g.mode&1?(g.flags|=65536,g.lanes=$,g):(g===b?g.flags|=65536:(g.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(b=mh(-1,1),b.tag=2,nh(_,b,1))),_.lanes|=1),g)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(g,b,_,j){b.child=g===null?Vg(b,null,_,j):Ug(b,g.child,_,j)}function Yi(g,b,_,j,$){_=_.render;var _e=b.ref;return ch(b,$),j=Nh(g,b,_,j,_e,$),_=Sh(),g!==null&&!dh?(b.updateQueue=g.updateQueue,b.flags&=-2053,g.lanes&=~$,Zi(g,b,$)):(I&&_&&vg(b),b.flags|=1,Xi(g,b,j,$),b.child)}function $i(g,b,_,j,$){if(g===null){var _e=_.type;return typeof _e=="function"&&!aj(_e)&&_e.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(b.tag=15,b.type=_e,bj(g,b,_e,j,$)):(g=Rg(_.type,null,j,b,b.mode,$),g.ref=b.ref,g.return=b,b.child=g)}if(_e=g.child,!(g.lanes&$)){var et=_e.memoizedProps;if(_=_.compare,_=_!==null?_:Ie,_(et,j)&&g.ref===b.ref)return Zi(g,b,$)}return b.flags|=1,g=Pg(_e,j),g.ref=b.ref,g.return=b,b.child=g}function bj(g,b,_,j,$){if(g!==null){var _e=g.memoizedProps;if(Ie(_e,j)&&g.ref===b.ref)if(dh=!1,b.pendingProps=j=_e,(g.lanes&$)!==0)g.flags&131072&&(dh=!0);else return b.lanes=g.lanes,Zi(g,b,$)}return cj(g,b,_,j,$)}function dj(g,b,_){var j=b.pendingProps,$=j.children,_e=g!==null?g.memoizedState:null;if(j.mode==="hidden")if(!(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=_;else{if(!(_&1073741824))return g=_e!==null?_e.baseLanes|_:_,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:g,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=g,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=_e!==null?_e.baseLanes:_,G(ej,fj),fj|=j}else _e!==null?(j=_e.baseLanes|_,b.memoizedState=null):j=_,G(ej,fj),fj|=j;return Xi(g,b,$,_),b.child}function gj(g,b){var _=b.ref;(g===null&&_!==null||g!==null&&g.ref!==_)&&(b.flags|=512,b.flags|=2097152)}function cj(g,b,_,j,$){var _e=Zf(_)?Xf:H.current;return _e=Yf(b,_e),ch(b,$),_=Nh(g,b,_,j,_e,$),j=Sh(),g!==null&&!dh?(b.updateQueue=g.updateQueue,b.flags&=-2053,g.lanes&=~$,Zi(g,b,$)):(I&&j&&vg(b),b.flags|=1,Xi(g,b,_,$),b.child)}function hj(g,b,_,j,$){if(Zf(_)){var _e=!0;cg(b)}else _e=!1;if(ch(b,$),b.stateNode===null)ij(g,b),Gi(b,_,j),Ii(b,_,j,$),j=!0;else if(g===null){var et=b.stateNode,nt=b.memoizedProps;et.props=nt;var tt=et.context,rt=_.contextType;typeof rt=="object"&&rt!==null?rt=eh(rt):(rt=Zf(_)?Xf:H.current,rt=Yf(b,rt));var it=_.getDerivedStateFromProps,ht=typeof it=="function"||typeof et.getSnapshotBeforeUpdate=="function";ht||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==j||tt!==rt)&&Hi(b,et,j,rt),jh=!1;var ut=b.memoizedState;et.state=ut,qh(b,j,et,$),tt=b.memoizedState,nt!==j||ut!==tt||Wf.current||jh?(typeof it=="function"&&(Di(b,_,it,j),tt=b.memoizedState),(nt=jh||Fi(b,_,nt,j,ut,tt,rt))?(ht||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount()),typeof et.componentDidMount=="function"&&(b.flags|=4194308)):(typeof et.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=j,b.memoizedState=tt),et.props=j,et.state=tt,et.context=rt,j=nt):(typeof et.componentDidMount=="function"&&(b.flags|=4194308),j=!1)}else{et=b.stateNode,lh(g,b),nt=b.memoizedProps,rt=b.type===b.elementType?nt:Ci(b.type,nt),et.props=rt,ht=b.pendingProps,ut=et.context,tt=_.contextType,typeof tt=="object"&&tt!==null?tt=eh(tt):(tt=Zf(_)?Xf:H.current,tt=Yf(b,tt));var lt=_.getDerivedStateFromProps;(it=typeof lt=="function"||typeof et.getSnapshotBeforeUpdate=="function")||typeof et.UNSAFE_componentWillReceiveProps!="function"&&typeof et.componentWillReceiveProps!="function"||(nt!==ht||ut!==tt)&&Hi(b,et,j,tt),jh=!1,ut=b.memoizedState,et.state=ut,qh(b,j,et,$);var pt=b.memoizedState;nt!==ht||ut!==pt||Wf.current||jh?(typeof lt=="function"&&(Di(b,_,lt,j),pt=b.memoizedState),(rt=jh||Fi(b,_,rt,j,ut,pt,tt)||!1)?(it||typeof et.UNSAFE_componentWillUpdate!="function"&&typeof et.componentWillUpdate!="function"||(typeof et.componentWillUpdate=="function"&&et.componentWillUpdate(j,pt,tt),typeof et.UNSAFE_componentWillUpdate=="function"&&et.UNSAFE_componentWillUpdate(j,pt,tt)),typeof et.componentDidUpdate=="function"&&(b.flags|=4),typeof et.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof et.componentDidUpdate!="function"||nt===g.memoizedProps&&ut===g.memoizedState||(b.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===g.memoizedProps&&ut===g.memoizedState||(b.flags|=1024),b.memoizedProps=j,b.memoizedState=pt),et.props=j,et.state=pt,et.context=tt,j=rt):(typeof et.componentDidUpdate!="function"||nt===g.memoizedProps&&ut===g.memoizedState||(b.flags|=4),typeof et.getSnapshotBeforeUpdate!="function"||nt===g.memoizedProps&&ut===g.memoizedState||(b.flags|=1024),j=!1)}return jj(g,b,_,j,_e,$)}function jj(g,b,_,j,$,_e){gj(g,b);var et=(b.flags&128)!==0;if(!j&&!et)return $&&dg(b,_,!1),Zi(g,b,_e);j=b.stateNode,Wi.current=b;var nt=et&&typeof _.getDerivedStateFromError!="function"?null:j.render();return b.flags|=1,g!==null&&et?(b.child=Ug(b,g.child,null,_e),b.child=Ug(b,null,nt,_e)):Xi(g,b,nt,_e),b.memoizedState=j.state,$&&dg(b,_,!0),b.child}function kj(g){var b=g.stateNode;b.pendingContext?ag(g,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(g,b.context,!1),yh(g,b.containerInfo)}function lj(g,b,_,j,$){return Ig(),Jg($),b.flags|=256,Xi(g,b,_,j),b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(g){return{baseLanes:g,cachePool:null,transitions:null}}function oj(g,b,_){var j=b.pendingProps,$=L.current,_e=!1,et=(b.flags&128)!==0,nt;if((nt=et)||(nt=g!==null&&g.memoizedState===null?!1:($&2)!==0),nt?(_e=!0,b.flags&=-129):(g===null||g.memoizedState!==null)&&($|=1),G(L,$&1),g===null)return Eg(b),g=b.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?(b.mode&1?g.data==="$!"?b.lanes=8:b.lanes=1073741824:b.lanes=1,null):(et=j.children,g=j.fallback,_e?(j=b.mode,_e=b.child,et={mode:"hidden",children:et},!(j&1)&&_e!==null?(_e.childLanes=0,_e.pendingProps=et):_e=pj(et,j,0,null),g=Tg(g,j,_,null),_e.return=b,g.return=b,_e.sibling=g,b.child=_e,b.child.memoizedState=nj(_),b.memoizedState=mj,g):qj(b,et));if($=g.memoizedState,$!==null&&(nt=$.dehydrated,nt!==null))return rj(g,b,et,j,nt,$,_);if(_e){_e=j.fallback,et=b.mode,$=g.child,nt=$.sibling;var tt={mode:"hidden",children:j.children};return!(et&1)&&b.child!==$?(j=b.child,j.childLanes=0,j.pendingProps=tt,b.deletions=null):(j=Pg($,tt),j.subtreeFlags=$.subtreeFlags&14680064),nt!==null?_e=Pg(nt,_e):(_e=Tg(_e,et,_,null),_e.flags|=2),_e.return=b,j.return=b,j.sibling=_e,b.child=j,j=_e,_e=b.child,et=g.child.memoizedState,et=et===null?nj(_):{baseLanes:et.baseLanes|_,cachePool:null,transitions:et.transitions},_e.memoizedState=et,_e.childLanes=g.childLanes&~_,b.memoizedState=mj,j}return _e=g.child,g=_e.sibling,j=Pg(_e,{mode:"visible",children:j.children}),!(b.mode&1)&&(j.lanes=_),j.return=b,j.sibling=null,g!==null&&(_=b.deletions,_===null?(b.deletions=[g],b.flags|=16):_.push(g)),b.child=j,b.memoizedState=null,j}function qj(g,b){return b=pj({mode:"visible",children:b},g.mode,0,null),b.return=g,g.child=b}function sj(g,b,_,j){return j!==null&&Jg(j),Ug(b,g.child,null,_),g=qj(b,b.pendingProps.children),g.flags|=2,b.memoizedState=null,g}function rj(g,b,_,j,$,_e,et){if(_)return b.flags&256?(b.flags&=-257,j=Ki(Error(p(422))),sj(g,b,et,j)):b.memoizedState!==null?(b.child=g.child,b.flags|=128,null):(_e=j.fallback,$=b.mode,j=pj({mode:"visible",children:j.children},$,0,null),_e=Tg(_e,$,et,null),_e.flags|=2,j.return=b,_e.return=b,j.sibling=_e,b.child=j,b.mode&1&&Ug(b,g.child,null,et),b.child.memoizedState=nj(et),b.memoizedState=mj,_e);if(!(b.mode&1))return sj(g,b,et,null);if($.data==="$!"){if(j=$.nextSibling&&$.nextSibling.dataset,j)var nt=j.dgst;return j=nt,_e=Error(p(419)),j=Ki(_e,j,void 0),sj(g,b,et,j)}if(nt=(et&g.childLanes)!==0,dh||nt){if(j=Q,j!==null){switch(et&-et){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}$=$&(j.suspendedLanes|et)?0:$,$!==0&&$!==_e.retryLane&&(_e.retryLane=$,ih(g,$),gi(j,g,$,-1))}return tj(),j=Ki(Error(p(421))),sj(g,b,et,j)}return $.data==="$?"?(b.flags|=128,b.child=g.child,b=uj.bind(null,g),$._reactRetry=b,null):(g=_e.treeContext,yg=Lf($.nextSibling),xg=b,I=!0,zg=null,g!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=g.id,sg=g.overflow,qg=b),b=qj(b,j.children),b.flags|=4096,b)}function vj(g,b,_){g.lanes|=b;var j=g.alternate;j!==null&&(j.lanes|=b),bh(g.return,b,_)}function wj(g,b,_,j,$){var _e=g.memoizedState;_e===null?g.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:j,tail:_,tailMode:$}:(_e.isBackwards=b,_e.rendering=null,_e.renderingStartTime=0,_e.last=j,_e.tail=_,_e.tailMode=$)}function xj(g,b,_){var j=b.pendingProps,$=j.revealOrder,_e=j.tail;if(Xi(g,b,j.children,_),j=L.current,j&2)j=j&1|2,b.flags|=128;else{if(g!==null&&g.flags&128)e:for(g=b.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&vj(g,_,b);else if(g.tag===19)vj(g,_,b);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===b)break e;for(;g.sibling===null;){if(g.return===null||g.return===b)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}j&=1}if(G(L,j),!(b.mode&1))b.memoizedState=null;else switch($){case"forwards":for(_=b.child,$=null;_!==null;)g=_.alternate,g!==null&&Ch(g)===null&&($=_),_=_.sibling;_=$,_===null?($=b.child,b.child=null):($=_.sibling,_.sibling=null),wj(b,!1,$,_,_e);break;case"backwards":for(_=null,$=b.child,b.child=null;$!==null;){if(g=$.alternate,g!==null&&Ch(g)===null){b.child=$;break}g=$.sibling,$.sibling=_,_=$,$=g}wj(b,!0,_,null,_e);break;case"together":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function ij(g,b){!(b.mode&1)&&g!==null&&(g.alternate=null,b.alternate=null,b.flags|=2)}function Zi(g,b,_){if(g!==null&&(b.dependencies=g.dependencies),rh|=b.lanes,!(_&b.childLanes))return null;if(g!==null&&b.child!==g.child)throw Error(p(153));if(b.child!==null){for(g=b.child,_=Pg(g,g.pendingProps),b.child=_,_.return=b;g.sibling!==null;)g=g.sibling,_=_.sibling=Pg(g,g.pendingProps),_.return=b;_.sibling=null}return b.child}function yj(g,b,_){switch(b.tag){case 3:kj(b),Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var j=b.type._context,$=b.memoizedProps.value;G(Wg,j._currentValue),j._currentValue=$;break;case 13:if(j=b.memoizedState,j!==null)return j.dehydrated!==null?(G(L,L.current&1),b.flags|=128,null):_&b.child.childLanes?oj(g,b,_):(G(L,L.current&1),g=Zi(g,b,_),g!==null?g.sibling:null);G(L,L.current&1);break;case 19:if(j=(_&b.childLanes)!==0,g.flags&128){if(j)return xj(g,b,_);b.flags|=128}if($=b.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),G(L,L.current),j)break;return null;case 22:case 23:return b.lanes=0,dj(g,b,_)}return Zi(g,b,_)}var zj,Aj,Bj,Cj;zj=function(g,b){for(var _=b.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===b)break;for(;_.sibling===null;){if(_.return===null||_.return===b)return;_=_.return}_.sibling.return=_.return,_=_.sibling}};Aj=function(){};Bj=function(g,b,_,j){var $=g.memoizedProps;if($!==j){g=b.stateNode,xh(uh.current);var _e=null;switch(_){case"input":$=Ya(g,$),j=Ya(g,j),_e=[];break;case"select":$=A({},$,{value:void 0}),j=A({},j,{value:void 0}),_e=[];break;case"textarea":$=gb(g,$),j=gb(g,j),_e=[];break;default:typeof $.onClick!="function"&&typeof j.onClick=="function"&&(g.onclick=Bf)}ub(_,j);var et;_=null;for(rt in $)if(!j.hasOwnProperty(rt)&&$.hasOwnProperty(rt)&&$[rt]!=null)if(rt==="style"){var nt=$[rt];for(et in nt)nt.hasOwnProperty(et)&&(_||(_={}),_[et]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?_e||(_e=[]):(_e=_e||[]).push(rt,null));for(rt in j){var tt=j[rt];if(nt=$!=null?$[rt]:void 0,j.hasOwnProperty(rt)&&tt!==nt&&(tt!=null||nt!=null))if(rt==="style")if(nt){for(et in nt)!nt.hasOwnProperty(et)||tt&&tt.hasOwnProperty(et)||(_||(_={}),_[et]="");for(et in tt)tt.hasOwnProperty(et)&&nt[et]!==tt[et]&&(_||(_={}),_[et]=tt[et])}else _||(_e||(_e=[]),_e.push(rt,_)),_=tt;else rt==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,nt=nt?nt.__html:void 0,tt!=null&&nt!==tt&&(_e=_e||[]).push(rt,tt)):rt==="children"?typeof tt!="string"&&typeof tt!="number"||(_e=_e||[]).push(rt,""+tt):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(rt)?(tt!=null&&rt==="onScroll"&&D("scroll",g),_e||nt===tt||(_e=[])):(_e=_e||[]).push(rt,tt))}_&&(_e=_e||[]).push("style",_);var rt=_e;(b.updateQueue=rt)&&(b.flags|=4)}};Cj=function(g,b,_,j){_!==j&&(b.flags|=4)};function Dj(g,b){if(!I)switch(g.tailMode){case"hidden":b=g.tail;for(var _=null;b!==null;)b.alternate!==null&&(_=b),b=b.sibling;_===null?g.tail=null:_.sibling=null;break;case"collapsed":_=g.tail;for(var j=null;_!==null;)_.alternate!==null&&(j=_),_=_.sibling;j===null?b||g.tail===null?g.tail=null:g.tail.sibling=null:j.sibling=null}}function S(g){var b=g.alternate!==null&&g.alternate.child===g.child,_=0,j=0;if(b)for(var $=g.child;$!==null;)_|=$.lanes|$.childLanes,j|=$.subtreeFlags&14680064,j|=$.flags&14680064,$.return=g,$=$.sibling;else for($=g.child;$!==null;)_|=$.lanes|$.childLanes,j|=$.subtreeFlags,j|=$.flags,$.return=g,$=$.sibling;return g.subtreeFlags|=j,g.childLanes=_,b}function Ej(g,b,_){var j=b.pendingProps;switch(wg(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:return j=b.stateNode,zh(),E(Wf),E(H),Eh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(g===null||g.child===null)&&(Gg(b)?b.flags|=4:g===null||g.memoizedState.isDehydrated&&!(b.flags&256)||(b.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(g,b),S(b),null;case 5:Bh(b);var $=xh(wh.current);if(_=b.type,g!==null&&b.stateNode!=null)Bj(g,b,_,j,$),g.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!j){if(b.stateNode===null)throw Error(p(166));return S(b),null}if(g=xh(uh.current),Gg(b)){j=b.stateNode,_=b.type;var _e=b.memoizedProps;switch(j[Of]=b,j[Pf]=_e,g=(b.mode&1)!==0,_){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,_e),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!_e.multiple},D("invalid",j);break;case"textarea":hb(j,_e),D("invalid",j)}ub(_,_e),$=null;for(var et in _e)if(_e.hasOwnProperty(et)){var nt=_e[et];et==="children"?typeof nt=="string"?j.textContent!==nt&&(_e.suppressHydrationWarning!==!0&&Af(j.textContent,nt,g),$=["children",nt]):typeof nt=="number"&&j.textContent!==""+nt&&(_e.suppressHydrationWarning!==!0&&Af(j.textContent,nt,g),$=["children",""+nt]):ea.hasOwnProperty(et)&&nt!=null&&et==="onScroll"&&D("scroll",j)}switch(_){case"input":Va(j),db(j,_e,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof _e.onClick=="function"&&(j.onclick=Bf)}j=$,b.updateQueue=j,j!==null&&(b.flags|=4)}else{et=$.nodeType===9?$:$.ownerDocument,g==="http://www.w3.org/1999/xhtml"&&(g=kb(_)),g==="http://www.w3.org/1999/xhtml"?_==="script"?(g=et.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild)):typeof j.is=="string"?g=et.createElement(_,{is:j.is}):(g=et.createElement(_),_==="select"&&(et=g,j.multiple?et.multiple=!0:j.size&&(et.size=j.size))):g=et.createElementNS(g,_),g[Of]=b,g[Pf]=j,zj(g,b,!1,!1),b.stateNode=g;e:{switch(et=vb(_,j),_){case"dialog":D("cancel",g),D("close",g),$=j;break;case"iframe":case"object":case"embed":D("load",g),$=j;break;case"video":case"audio":for($=0;$<lf.length;$++)D(lf[$],g);$=j;break;case"source":D("error",g),$=j;break;case"img":case"image":case"link":D("error",g),D("load",g),$=j;break;case"details":D("toggle",g),$=j;break;case"input":Za(g,j),$=Ya(g,j),D("invalid",g);break;case"option":$=j;break;case"select":g._wrapperState={wasMultiple:!!j.multiple},$=A({},j,{value:void 0}),D("invalid",g);break;case"textarea":hb(g,j),$=gb(g,j),D("invalid",g);break;default:$=j}ub(_,$),nt=$;for(_e in nt)if(nt.hasOwnProperty(_e)){var tt=nt[_e];_e==="style"?sb(g,tt):_e==="dangerouslySetInnerHTML"?(tt=tt?tt.__html:void 0,tt!=null&&nb(g,tt)):_e==="children"?typeof tt=="string"?(_!=="textarea"||tt!=="")&&ob(g,tt):typeof tt=="number"&&ob(g,""+tt):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(ea.hasOwnProperty(_e)?tt!=null&&_e==="onScroll"&&D("scroll",g):tt!=null&&ta(g,_e,tt,et))}switch(_){case"input":Va(g),db(g,j,!1);break;case"textarea":Va(g),jb(g);break;case"option":j.value!=null&&g.setAttribute("value",""+Sa(j.value));break;case"select":g.multiple=!!j.multiple,_e=j.value,_e!=null?fb(g,!!j.multiple,_e,!1):j.defaultValue!=null&&fb(g,!!j.multiple,j.defaultValue,!0);break;default:typeof $.onClick=="function"&&(g.onclick=Bf)}switch(_){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(b.flags|=4)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return S(b),null;case 6:if(g&&b.stateNode!=null)Cj(g,b,g.memoizedProps,j);else{if(typeof j!="string"&&b.stateNode===null)throw Error(p(166));if(_=xh(wh.current),xh(uh.current),Gg(b)){if(j=b.stateNode,_=b.memoizedProps,j[Of]=b,(_e=j.nodeValue!==_)&&(g=xg,g!==null))switch(g.tag){case 3:Af(j.nodeValue,_,(g.mode&1)!==0);break;case 5:g.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,_,(g.mode&1)!==0)}_e&&(b.flags|=4)}else j=(_.nodeType===9?_:_.ownerDocument).createTextNode(j),j[Of]=b,b.stateNode=j}return S(b),null;case 13:if(E(L),j=b.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(I&&yg!==null&&b.mode&1&&!(b.flags&128))Hg(),Ig(),b.flags|=98560,_e=!1;else if(_e=Gg(b),j!==null&&j.dehydrated!==null){if(g===null){if(!_e)throw Error(p(318));if(_e=b.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p(317));_e[Of]=b}else Ig(),!(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b),_e=!1}else zg!==null&&(Fj(zg),zg=null),_e=!0;if(!_e)return b.flags&65536?b:null}return b.flags&128?(b.lanes=_,b):(j=j!==null,j!==(g!==null&&g.memoizedState!==null)&&j&&(b.child.flags|=8192,b.mode&1&&(g===null||L.current&1?T===0&&(T=3):tj())),b.updateQueue!==null&&(b.flags|=4),S(b),null);case 4:return zh(),Aj(g,b),g===null&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:if(E(L),_e=b.memoizedState,_e===null)return S(b),null;if(j=(b.flags&128)!==0,et=_e.rendering,et===null)if(j)Dj(_e,!1);else{if(T!==0||g!==null&&g.flags&128)for(g=b.child;g!==null;){if(et=Ch(g),et!==null){for(b.flags|=128,Dj(_e,!1),j=et.updateQueue,j!==null&&(b.updateQueue=j,b.flags|=4),b.subtreeFlags=0,j=_,_=b.child;_!==null;)_e=_,g=j,_e.flags&=14680066,et=_e.alternate,et===null?(_e.childLanes=0,_e.lanes=g,_e.child=null,_e.subtreeFlags=0,_e.memoizedProps=null,_e.memoizedState=null,_e.updateQueue=null,_e.dependencies=null,_e.stateNode=null):(_e.childLanes=et.childLanes,_e.lanes=et.lanes,_e.child=et.child,_e.subtreeFlags=0,_e.deletions=null,_e.memoizedProps=et.memoizedProps,_e.memoizedState=et.memoizedState,_e.updateQueue=et.updateQueue,_e.type=et.type,g=et.dependencies,_e.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),_=_.sibling;return G(L,L.current&1|2),b.child}g=g.sibling}_e.tail!==null&&B()>Gj&&(b.flags|=128,j=!0,Dj(_e,!1),b.lanes=4194304)}else{if(!j)if(g=Ch(et),g!==null){if(b.flags|=128,j=!0,_=g.updateQueue,_!==null&&(b.updateQueue=_,b.flags|=4),Dj(_e,!0),_e.tail===null&&_e.tailMode==="hidden"&&!et.alternate&&!I)return S(b),null}else 2*B()-_e.renderingStartTime>Gj&&_!==1073741824&&(b.flags|=128,j=!0,Dj(_e,!1),b.lanes=4194304);_e.isBackwards?(et.sibling=b.child,b.child=et):(_=_e.last,_!==null?_.sibling=et:b.child=et,_e.last=et)}return _e.tail!==null?(b=_e.tail,_e.rendering=b,_e.tail=b.sibling,_e.renderingStartTime=B(),b.sibling=null,_=L.current,G(L,j?_&1|2:_&1),b):(S(b),null);case 22:case 23:return Hj(),j=b.memoizedState!==null,g!==null&&g.memoizedState!==null!==j&&(b.flags|=8192),j&&b.mode&1?fj&1073741824&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag))}function Ij(g,b){switch(wg(b),b.tag){case 1:return Zf(b.type)&&$f(),g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),g=b.flags,g&65536&&!(g&128)?(b.flags=g&-65537|128,b):null;case 5:return Bh(b),null;case 13:if(E(L),g=b.memoizedState,g!==null&&g.dehydrated!==null){if(b.alternate===null)throw Error(p(340));Ig()}return g=b.flags,g&65536?(b.flags=g&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(g,b){var _=g.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(j){W(g,b,j)}else _.current=null}function Mj(g,b,_){try{_()}catch(j){W(g,b,j)}}var Nj=!1;function Oj(g,b){if(Cf=dd,g=Me(),Ne(g)){if("selectionStart"in g)var _={start:g.selectionStart,end:g.selectionEnd};else e:{_=(_=g.ownerDocument)&&_.defaultView||window;var j=_.getSelection&&_.getSelection();if(j&&j.rangeCount!==0){_=j.anchorNode;var $=j.anchorOffset,_e=j.focusNode;j=j.focusOffset;try{_.nodeType,_e.nodeType}catch{_=null;break e}var et=0,nt=-1,tt=-1,rt=0,it=0,ht=g,ut=null;t:for(;;){for(var lt;ht!==_||$!==0&&ht.nodeType!==3||(nt=et+$),ht!==_e||j!==0&&ht.nodeType!==3||(tt=et+j),ht.nodeType===3&&(et+=ht.nodeValue.length),(lt=ht.firstChild)!==null;)ut=ht,ht=lt;for(;;){if(ht===g)break t;if(ut===_&&++rt===$&&(nt=et),ut===_e&&++it===j&&(tt=et),(lt=ht.nextSibling)!==null)break;ht=ut,ut=ht.parentNode}ht=lt}_=nt===-1||tt===-1?null:{start:nt,end:tt}}else _=null}_=_||{start:0,end:0}}else _=null;for(Df={focusedElem:g,selectionRange:_},dd=!1,V=b;V!==null;)if(b=V,g=b.child,(b.subtreeFlags&1028)!==0&&g!==null)g.return=b,V=g;else for(;V!==null;){b=V;try{var pt=b.alternate;if(b.flags&1024)switch(b.tag){case 0:case 11:case 15:break;case 1:if(pt!==null){var vt=pt.memoizedProps,yt=pt.memoizedState,st=b.stateNode,ot=st.getSnapshotBeforeUpdate(b.elementType===b.type?vt:Ci(b.type,vt),yt);st.__reactInternalSnapshotBeforeUpdate=ot}break;case 3:var mt=b.stateNode.containerInfo;mt.nodeType===1?mt.textContent="":mt.nodeType===9&&mt.documentElement&&mt.removeChild(mt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(ft){W(b,b.return,ft)}if(g=b.sibling,g!==null){g.return=b.return,V=g;break}V=b.return}return pt=Nj,Nj=!1,pt}function Pj(g,b,_){var j=b.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var $=j=j.next;do{if(($.tag&g)===g){var _e=$.destroy;$.destroy=void 0,_e!==void 0&&Mj(b,_,_e)}$=$.next}while($!==j)}}function Qj(g,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var _=b=b.next;do{if((_.tag&g)===g){var j=_.create;_.destroy=j()}_=_.next}while(_!==b)}}function Rj(g){var b=g.ref;if(b!==null){var _=g.stateNode;switch(g.tag){case 5:g=_;break;default:g=_}typeof b=="function"?b(g):b.current=g}}function Sj(g){var b=g.alternate;b!==null&&(g.alternate=null,Sj(b)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(b=g.stateNode,b!==null&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf])),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function Tj(g){return g.tag===5||g.tag===3||g.tag===4}function Uj(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||Tj(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function Vj(g,b,_){var j=g.tag;if(j===5||j===6)g=g.stateNode,b?_.nodeType===8?_.parentNode.insertBefore(g,b):_.insertBefore(g,b):(_.nodeType===8?(b=_.parentNode,b.insertBefore(g,_)):(b=_,b.appendChild(g)),_=_._reactRootContainer,_!=null||b.onclick!==null||(b.onclick=Bf));else if(j!==4&&(g=g.child,g!==null))for(Vj(g,b,_),g=g.sibling;g!==null;)Vj(g,b,_),g=g.sibling}function Wj(g,b,_){var j=g.tag;if(j===5||j===6)g=g.stateNode,b?_.insertBefore(g,b):_.appendChild(g);else if(j!==4&&(g=g.child,g!==null))for(Wj(g,b,_),g=g.sibling;g!==null;)Wj(g,b,_),g=g.sibling}var X=null,Xj=!1;function Yj(g,b,_){for(_=_.child;_!==null;)Zj(g,b,_),_=_.sibling}function Zj(g,b,_){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_)}catch{}switch(_.tag){case 5:U||Lj(_,b);case 6:var j=X,$=Xj;X=null,Yj(g,b,_),X=j,Xj=$,X!==null&&(Xj?(g=X,_=_.stateNode,g.nodeType===8?g.parentNode.removeChild(_):g.removeChild(_)):X.removeChild(_.stateNode));break;case 18:X!==null&&(Xj?(g=X,_=_.stateNode,g.nodeType===8?Kf(g.parentNode,_):g.nodeType===1&&Kf(g,_),bd(g)):Kf(X,_.stateNode));break;case 4:j=X,$=Xj,X=_.stateNode.containerInfo,Xj=!0,Yj(g,b,_),X=j,Xj=$;break;case 0:case 11:case 14:case 15:if(!U&&(j=_.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){$=j=j.next;do{var _e=$,et=_e.destroy;_e=_e.tag,et!==void 0&&(_e&2||_e&4)&&Mj(_,b,et),$=$.next}while($!==j)}Yj(g,b,_);break;case 1:if(!U&&(Lj(_,b),j=_.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=_.memoizedProps,j.state=_.memoizedState,j.componentWillUnmount()}catch(nt){W(_,b,nt)}Yj(g,b,_);break;case 21:Yj(g,b,_);break;case 22:_.mode&1?(U=(j=U)||_.memoizedState!==null,Yj(g,b,_),U=j):Yj(g,b,_);break;default:Yj(g,b,_)}}function ak(g){var b=g.updateQueue;if(b!==null){g.updateQueue=null;var _=g.stateNode;_===null&&(_=g.stateNode=new Kj),b.forEach(function(j){var $=bk.bind(null,g,j);_.has(j)||(_.add(j),j.then($,$))})}}function ck(g,b){var _=b.deletions;if(_!==null)for(var j=0;j<_.length;j++){var $=_[j];try{var _e=g,et=b,nt=et;e:for(;nt!==null;){switch(nt.tag){case 5:X=nt.stateNode,Xj=!1;break e;case 3:X=nt.stateNode.containerInfo,Xj=!0;break e;case 4:X=nt.stateNode.containerInfo,Xj=!0;break e}nt=nt.return}if(X===null)throw Error(p(160));Zj(_e,et,$),X=null,Xj=!1;var tt=$.alternate;tt!==null&&(tt.return=null),$.return=null}catch(rt){W($,b,rt)}}if(b.subtreeFlags&12854)for(b=b.child;b!==null;)dk(b,g),b=b.sibling}function dk(g,b){var _=g.alternate,j=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:if(ck(b,g),ek(g),j&4){try{Pj(3,g,g.return),Qj(3,g)}catch(vt){W(g,g.return,vt)}try{Pj(5,g,g.return)}catch(vt){W(g,g.return,vt)}}break;case 1:ck(b,g),ek(g),j&512&&_!==null&&Lj(_,_.return);break;case 5:if(ck(b,g),ek(g),j&512&&_!==null&&Lj(_,_.return),g.flags&32){var $=g.stateNode;try{ob($,"")}catch(vt){W(g,g.return,vt)}}if(j&4&&($=g.stateNode,$!=null)){var _e=g.memoizedProps,et=_!==null?_.memoizedProps:_e,nt=g.type,tt=g.updateQueue;if(g.updateQueue=null,tt!==null)try{nt==="input"&&_e.type==="radio"&&_e.name!=null&&ab($,_e),vb(nt,et);var rt=vb(nt,_e);for(et=0;et<tt.length;et+=2){var it=tt[et],ht=tt[et+1];it==="style"?sb($,ht):it==="dangerouslySetInnerHTML"?nb($,ht):it==="children"?ob($,ht):ta($,it,ht,rt)}switch(nt){case"input":bb($,_e);break;case"textarea":ib($,_e);break;case"select":var ut=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!_e.multiple;var lt=_e.value;lt!=null?fb($,!!_e.multiple,lt,!1):ut!==!!_e.multiple&&(_e.defaultValue!=null?fb($,!!_e.multiple,_e.defaultValue,!0):fb($,!!_e.multiple,_e.multiple?[]:"",!1))}$[Pf]=_e}catch(vt){W(g,g.return,vt)}}break;case 6:if(ck(b,g),ek(g),j&4){if(g.stateNode===null)throw Error(p(162));$=g.stateNode,_e=g.memoizedProps;try{$.nodeValue=_e}catch(vt){W(g,g.return,vt)}}break;case 3:if(ck(b,g),ek(g),j&4&&_!==null&&_.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(vt){W(g,g.return,vt)}break;case 4:ck(b,g),ek(g);break;case 13:ck(b,g),ek(g),$=g.child,$.flags&8192&&(_e=$.memoizedState!==null,$.stateNode.isHidden=_e,!_e||$.alternate!==null&&$.alternate.memoizedState!==null||(fk=B())),j&4&&ak(g);break;case 22:if(it=_!==null&&_.memoizedState!==null,g.mode&1?(U=(rt=U)||it,ck(b,g),U=rt):ck(b,g),ek(g),j&8192){if(rt=g.memoizedState!==null,(g.stateNode.isHidden=rt)&&!it&&g.mode&1)for(V=g,it=g.child;it!==null;){for(ht=V=it;V!==null;){switch(ut=V,lt=ut.child,ut.tag){case 0:case 11:case 14:case 15:Pj(4,ut,ut.return);break;case 1:Lj(ut,ut.return);var pt=ut.stateNode;if(typeof pt.componentWillUnmount=="function"){j=ut,_=ut.return;try{b=j,pt.props=b.memoizedProps,pt.state=b.memoizedState,pt.componentWillUnmount()}catch(vt){W(j,_,vt)}}break;case 5:Lj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){gk(ht);continue}}lt!==null?(lt.return=ut,V=lt):gk(ht)}it=it.sibling}e:for(it=null,ht=g;;){if(ht.tag===5){if(it===null){it=ht;try{$=ht.stateNode,rt?(_e=$.style,typeof _e.setProperty=="function"?_e.setProperty("display","none","important"):_e.display="none"):(nt=ht.stateNode,tt=ht.memoizedProps.style,et=tt!=null&&tt.hasOwnProperty("display")?tt.display:null,nt.style.display=rb("display",et))}catch(vt){W(g,g.return,vt)}}}else if(ht.tag===6){if(it===null)try{ht.stateNode.nodeValue=rt?"":ht.memoizedProps}catch(vt){W(g,g.return,vt)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===g)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===g)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===g)break e;it===ht&&(it=null),ht=ht.return}it===ht&&(it=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:ck(b,g),ek(g),j&4&&ak(g);break;case 21:break;default:ck(b,g),ek(g)}}function ek(g){var b=g.flags;if(b&2){try{e:{for(var _=g.return;_!==null;){if(Tj(_)){var j=_;break e}_=_.return}throw Error(p(160))}switch(j.tag){case 5:var $=j.stateNode;j.flags&32&&(ob($,""),j.flags&=-33);var _e=Uj(g);Wj(g,_e,$);break;case 3:case 4:var et=j.stateNode.containerInfo,nt=Uj(g);Vj(g,nt,et);break;default:throw Error(p(161))}}catch(tt){W(g,g.return,tt)}g.flags&=-3}b&4096&&(g.flags&=-4097)}function hk(g,b,_){V=g,ik(g)}function ik(g,b,_){for(var j=(g.mode&1)!==0;V!==null;){var $=V,_e=$.child;if($.tag===22&&j){var et=$.memoizedState!==null||Jj;if(!et){var nt=$.alternate,tt=nt!==null&&nt.memoizedState!==null||U;nt=Jj;var rt=U;if(Jj=et,(U=tt)&&!rt)for(V=$;V!==null;)et=V,tt=et.child,et.tag===22&&et.memoizedState!==null?jk($):tt!==null?(tt.return=et,V=tt):jk($);for(;_e!==null;)V=_e,ik(_e),_e=_e.sibling;V=$,Jj=nt,U=rt}kk(g)}else $.subtreeFlags&8772&&_e!==null?(_e.return=$,V=_e):kk(g)}}function kk(g){for(;V!==null;){var b=V;if(b.flags&8772){var _=b.alternate;try{if(b.flags&8772)switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var j=b.stateNode;if(b.flags&4&&!U)if(_===null)j.componentDidMount();else{var $=b.elementType===b.type?_.memoizedProps:Ci(b.type,_.memoizedProps);j.componentDidUpdate($,_.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var _e=b.updateQueue;_e!==null&&sh(b,_e,j);break;case 3:var et=b.updateQueue;if(et!==null){if(_=null,b.child!==null)switch(b.child.tag){case 5:_=b.child.stateNode;break;case 1:_=b.child.stateNode}sh(b,et,_)}break;case 5:var nt=b.stateNode;if(_===null&&b.flags&4){_=nt;var tt=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":tt.autoFocus&&_.focus();break;case"img":tt.src&&(_.src=tt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b.memoizedState===null){var rt=b.alternate;if(rt!==null){var it=rt.memoizedState;if(it!==null){var ht=it.dehydrated;ht!==null&&bd(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||b.flags&512&&Rj(b)}catch(ut){W(b,b.return,ut)}}if(b===g){V=null;break}if(_=b.sibling,_!==null){_.return=b.return,V=_;break}V=b.return}}function gk(g){for(;V!==null;){var b=V;if(b===g){V=null;break}var _=b.sibling;if(_!==null){_.return=b.return,V=_;break}V=b.return}}function jk(g){for(;V!==null;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var _=b.return;try{Qj(4,b)}catch(tt){W(b,_,tt)}break;case 1:var j=b.stateNode;if(typeof j.componentDidMount=="function"){var $=b.return;try{j.componentDidMount()}catch(tt){W(b,$,tt)}}var _e=b.return;try{Rj(b)}catch(tt){W(b,_e,tt)}break;case 5:var et=b.return;try{Rj(b)}catch(tt){W(b,et,tt)}}}catch(tt){W(b,b.return,tt)}if(b===g){V=null;break}var nt=b.sibling;if(nt!==null){nt.return=b.return,V=nt;break}V=b.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(g){return g.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(g=C,g!==0||(g=window.event,g=g===void 0?16:jd(g.type)),g):1}function gi(g,b,_,j){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(g,_,j),(!(K&2)||g!==Q)&&(g===Q&&(!(K&2)&&(qk|=_),T===4&&Ck(g,Z)),Dk(g,j),_===1&&K===0&&!(b.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(g,b){var _=g.callbackNode;wc(g,b);var j=uc(g,g===Q?Z:0);if(j===0)_!==null&&bc(_),g.callbackNode=null,g.callbackPriority=0;else if(b=j&-j,g.callbackPriority!==b){if(_!=null&&bc(_),b===1)g.tag===0?ig(Ek.bind(null,g)):hg(Ek.bind(null,g)),Jf(function(){!(K&6)&&jg()}),_=null;else{switch(Dc(j)){case 1:_=fc;break;case 4:_=gc;break;case 16:_=hc;break;case 536870912:_=jc;break;default:_=hc}_=Fk(_,Gk.bind(null,g))}g.callbackPriority=b,g.callbackNode=_}}function Gk(g,b){if(Ak=-1,Bk=0,K&6)throw Error(p(327));var _=g.callbackNode;if(Hk()&&g.callbackNode!==_)return null;var j=uc(g,g===Q?Z:0);if(j===0)return null;if(j&30||j&g.expiredLanes||b)b=Ik(g,j);else{b=j;var $=K;K|=2;var _e=Jk();(Q!==g||Z!==b)&&(uk=null,Gj=B()+500,Kk(g,b));do try{Lk();break}catch(nt){Mk(g,nt)}while(!0);$g(),mk.current=_e,K=$,Y!==null?b=0:(Q=null,Z=0,b=T)}if(b!==0){if(b===2&&($=xc(g),$!==0&&(j=$,b=Nk(g,$))),b===1)throw _=pk,Kk(g,0),Ck(g,j),Dk(g,B()),_;if(b===6)Ck(g,j);else{if($=g.current.alternate,!(j&30)&&!Ok($)&&(b=Ik(g,j),b===2&&(_e=xc(g),_e!==0&&(j=_e,b=Nk(g,_e))),b===1))throw _=pk,Kk(g,0),Ck(g,j),Dk(g,B()),_;switch(g.finishedWork=$,g.finishedLanes=j,b){case 0:case 1:throw Error(p(345));case 2:Pk(g,tk,uk);break;case 3:if(Ck(g,j),(j&130023424)===j&&(b=fk+500-B(),10<b)){if(uc(g,0)!==0)break;if($=g.suspendedLanes,($&j)!==j){R(),g.pingedLanes|=g.suspendedLanes&$;break}g.timeoutHandle=Ff(Pk.bind(null,g,tk,uk),b);break}Pk(g,tk,uk);break;case 4:if(Ck(g,j),(j&4194240)===j)break;for(b=g.eventTimes,$=-1;0<j;){var et=31-oc(j);_e=1<<et,et=b[et],et>$&&($=et),j&=~_e}if(j=$,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*lk(j/1960))-j,10<j){g.timeoutHandle=Ff(Pk.bind(null,g,tk,uk),j);break}Pk(g,tk,uk);break;case 5:Pk(g,tk,uk);break;default:throw Error(p(329))}}}return Dk(g,B()),g.callbackNode===_?Gk.bind(null,g):null}function Nk(g,b){var _=sk;return g.current.memoizedState.isDehydrated&&(Kk(g,b).flags|=256),g=Ik(g,b),g!==2&&(b=tk,tk=_,b!==null&&Fj(b)),g}function Fj(g){tk===null?tk=g:tk.push.apply(tk,g)}function Ok(g){for(var b=g;;){if(b.flags&16384){var _=b.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var j=0;j<_.length;j++){var $=_[j],_e=$.getSnapshot;$=$.value;try{if(!He(_e(),$))return!1}catch{return!1}}}if(_=b.child,b.subtreeFlags&16384&&_!==null)_.return=b,b=_;else{if(b===g)break;for(;b.sibling===null;){if(b.return===null||b.return===g)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Ck(g,b){for(b&=~rk,b&=~qk,g.suspendedLanes|=b,g.pingedLanes&=~b,g=g.expirationTimes;0<b;){var _=31-oc(b),j=1<<_;g[_]=-1,b&=~j}}function Ek(g){if(K&6)throw Error(p(327));Hk();var b=uc(g,0);if(!(b&1))return Dk(g,B()),null;var _=Ik(g,b);if(g.tag!==0&&_===2){var j=xc(g);j!==0&&(b=j,_=Nk(g,j))}if(_===1)throw _=pk,Kk(g,0),Ck(g,b),Dk(g,B()),_;if(_===6)throw Error(p(345));return g.finishedWork=g.current.alternate,g.finishedLanes=b,Pk(g,tk,uk),Dk(g,B()),null}function Qk(g,b){var _=K;K|=1;try{return g(b)}finally{K=_,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(g){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var b=K;K|=1;var _=ok.transition,j=C;try{if(ok.transition=null,C=1,g)return g()}finally{C=j,ok.transition=_,K=b,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(g,b){g.finishedWork=null,g.finishedLanes=0;var _=g.timeoutHandle;if(_!==-1&&(g.timeoutHandle=-1,Gf(_)),Y!==null)for(_=Y.return;_!==null;){var j=_;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(j);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(j.type._context);break;case 22:case 23:Hj()}_=_.return}if(Q=g,Y=g=Pg(g.current,null),Z=fj=b,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(b=0;b<fh.length;b++)if(_=fh[b],j=_.interleaved,j!==null){_.interleaved=null;var $=j.next,_e=_.pending;if(_e!==null){var et=_e.next;_e.next=$,j.next=et}_.pending=j}fh=null}return g}function Mk(g,b){do{var _=Y;try{if($g(),Fh.current=Rh,Ih){for(var j=M.memoizedState;j!==null;){var $=j.queue;$!==null&&($.pending=null),j=j.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,_===null||_.return===null){T=1,pk=b,Y=null;break}e:{var _e=g,et=_.return,nt=_,tt=b;if(b=Z,nt.flags|=32768,tt!==null&&typeof tt=="object"&&typeof tt.then=="function"){var rt=tt,it=nt,ht=it.tag;if(!(it.mode&1)&&(ht===0||ht===11||ht===15)){var ut=it.alternate;ut?(it.updateQueue=ut.updateQueue,it.memoizedState=ut.memoizedState,it.lanes=ut.lanes):(it.updateQueue=null,it.memoizedState=null)}var lt=Ui(et);if(lt!==null){lt.flags&=-257,Vi(lt,et,nt,_e,b),lt.mode&1&&Si(_e,rt,b),b=lt,tt=rt;var pt=b.updateQueue;if(pt===null){var vt=new Set;vt.add(tt),b.updateQueue=vt}else pt.add(tt);break e}else{if(!(b&1)){Si(_e,rt,b),tj();break e}tt=Error(p(426))}}else if(I&&nt.mode&1){var yt=Ui(et);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Vi(yt,et,nt,_e,b),Jg(Ji(tt,nt));break e}}_e=tt=Ji(tt,nt),T!==4&&(T=2),sk===null?sk=[_e]:sk.push(_e),_e=et;do{switch(_e.tag){case 3:_e.flags|=65536,b&=-b,_e.lanes|=b;var st=Ni(_e,tt,b);ph(_e,st);break e;case 1:nt=tt;var ot=_e.type,mt=_e.stateNode;if(!(_e.flags&128)&&(typeof ot.getDerivedStateFromError=="function"||mt!==null&&typeof mt.componentDidCatch=="function"&&(Ri===null||!Ri.has(mt)))){_e.flags|=65536,b&=-b,_e.lanes|=b;var ft=Qi(_e,nt,b);ph(_e,ft);break e}}_e=_e.return}while(_e!==null)}Sk(_)}catch(ct){b=ct,Y===_&&_!==null&&(Y=_=_.return);continue}break}while(!0)}function Jk(){var g=mk.current;return mk.current=Rh,g===null?Rh:g}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(g,b){var _=K;K|=2;var j=Jk();(Q!==g||Z!==b)&&(uk=null,Kk(g,b));do try{Tk();break}catch($){Mk(g,$)}while(!0);if($g(),K=_,mk.current=j,Y!==null)throw Error(p(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(g){var b=Vk(g.alternate,g,fj);g.memoizedProps=g.pendingProps,b===null?Sk(g):Y=b,nk.current=null}function Sk(g){var b=g;do{var _=b.alternate;if(g=b.return,b.flags&32768){if(_=Ij(_,b),_!==null){_.flags&=32767,Y=_;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{T=6,Y=null;return}}else if(_=Ej(_,b,fj),_!==null){Y=_;return}if(b=b.sibling,b!==null){Y=b;return}Y=b=g}while(b!==null);T===0&&(T=5)}function Pk(g,b,_){var j=C,$=ok.transition;try{ok.transition=null,C=1,Wk(g,b,_,j)}finally{ok.transition=$,C=j}return null}function Wk(g,b,_,j){do Hk();while(wk!==null);if(K&6)throw Error(p(327));_=g.finishedWork;var $=g.finishedLanes;if(_===null)return null;if(g.finishedWork=null,g.finishedLanes=0,_===g.current)throw Error(p(177));g.callbackNode=null,g.callbackPriority=0;var _e=_.lanes|_.childLanes;if(Bc(g,_e),g===Q&&(Y=Q=null,Z=0),!(_.subtreeFlags&2064)&&!(_.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),_e=(_.flags&15990)!==0,_.subtreeFlags&15990||_e){_e=ok.transition,ok.transition=null;var et=C;C=1;var nt=K;K|=4,nk.current=null,Oj(g,_),dk(_,g),Oe(Df),dd=!!Cf,Df=Cf=null,g.current=_,hk(_),dc(),K=nt,C=et,ok.transition=_e}else g.current=_;if(vk&&(vk=!1,wk=g,xk=$),_e=g.pendingLanes,_e===0&&(Ri=null),mc(_.stateNode),Dk(g,B()),b!==null)for(j=g.onRecoverableError,_=0;_<b.length;_++)$=b[_],j($.value,{componentStack:$.stack,digest:$.digest});if(Oi)throw Oi=!1,g=Pi,Pi=null,g;return xk&1&&g.tag!==0&&Hk(),_e=g.pendingLanes,_e&1?g===zk?yk++:(yk=0,zk=g):yk=0,jg(),null}function Hk(){if(wk!==null){var g=Dc(xk),b=ok.transition,_=C;try{if(ok.transition=null,C=16>g?16:g,wk===null)var j=!1;else{if(g=wk,wk=null,xk=0,K&6)throw Error(p(331));var $=K;for(K|=4,V=g.current;V!==null;){var _e=V,et=_e.child;if(V.flags&16){var nt=_e.deletions;if(nt!==null){for(var tt=0;tt<nt.length;tt++){var rt=nt[tt];for(V=rt;V!==null;){var it=V;switch(it.tag){case 0:case 11:case 15:Pj(8,it,_e)}var ht=it.child;if(ht!==null)ht.return=it,V=ht;else for(;V!==null;){it=V;var ut=it.sibling,lt=it.return;if(Sj(it),it===rt){V=null;break}if(ut!==null){ut.return=lt,V=ut;break}V=lt}}}var pt=_e.alternate;if(pt!==null){var vt=pt.child;if(vt!==null){pt.child=null;do{var yt=vt.sibling;vt.sibling=null,vt=yt}while(vt!==null)}}V=_e}}if(_e.subtreeFlags&2064&&et!==null)et.return=_e,V=et;else e:for(;V!==null;){if(_e=V,_e.flags&2048)switch(_e.tag){case 0:case 11:case 15:Pj(9,_e,_e.return)}var st=_e.sibling;if(st!==null){st.return=_e.return,V=st;break e}V=_e.return}}var ot=g.current;for(V=ot;V!==null;){et=V;var mt=et.child;if(et.subtreeFlags&2064&&mt!==null)mt.return=et,V=mt;else e:for(et=ot;V!==null;){if(nt=V,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Qj(9,nt)}}catch(ct){W(nt,nt.return,ct)}if(nt===et){V=null;break e}var ft=nt.sibling;if(ft!==null){ft.return=nt.return,V=ft;break e}V=nt.return}}if(K=$,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,g)}catch{}j=!0}return j}finally{C=_,ok.transition=b}}return!1}function Xk(g,b,_){b=Ji(_,b),b=Ni(g,b,1),g=nh(g,b,1),b=R(),g!==null&&(Ac(g,1,b),Dk(g,b))}function W(g,b,_){if(g.tag===3)Xk(g,g,_);else for(;b!==null;){if(b.tag===3){Xk(b,g,_);break}else if(b.tag===1){var j=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ri===null||!Ri.has(j))){g=Ji(_,g),g=Qi(b,g,1),b=nh(b,g,1),g=R(),b!==null&&(Ac(b,1,g),Dk(b,g));break}}b=b.return}}function Ti(g,b,_){var j=g.pingCache;j!==null&&j.delete(b),b=R(),g.pingedLanes|=g.suspendedLanes&_,Q===g&&(Z&_)===_&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(g,0):rk|=_),Dk(g,b)}function Yk(g,b){b===0&&(g.mode&1?(b=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):b=1);var _=R();g=ih(g,b),g!==null&&(Ac(g,b,_),Dk(g,_))}function uj(g){var b=g.memoizedState,_=0;b!==null&&(_=b.retryLane),Yk(g,_)}function bk(g,b){var _=0;switch(g.tag){case 13:var j=g.stateNode,$=g.memoizedState;$!==null&&(_=$.retryLane);break;case 19:j=g.stateNode;break;default:throw Error(p(314))}j!==null&&j.delete(b),Yk(g,_)}var Vk;Vk=function(g,b,_){if(g!==null)if(g.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(!(g.lanes&_)&&!(b.flags&128))return dh=!1,yj(g,b,_);dh=!!(g.flags&131072)}else dh=!1,I&&b.flags&1048576&&ug(b,ng,b.index);switch(b.lanes=0,b.tag){case 2:var j=b.type;ij(g,b),g=b.pendingProps;var $=Yf(b,H.current);ch(b,_),$=Nh(null,b,j,g,$,_);var _e=Sh();return b.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Zf(j)?(_e=!0,cg(b)):_e=!1,b.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,kh(b),$.updater=Ei,b.stateNode=$,$._reactInternals=b,Ii(b,j,g,_),b=jj(null,b,j,!0,_e,_)):(b.tag=0,I&&_e&&vg(b),Xi(null,b,$,_),b=b.child),b;case 16:j=b.elementType;e:{switch(ij(g,b),g=b.pendingProps,$=j._init,j=$(j._payload),b.type=j,$=b.tag=Zk(j),g=Ci(j,g),$){case 0:b=cj(null,b,j,g,_);break e;case 1:b=hj(null,b,j,g,_);break e;case 11:b=Yi(null,b,j,g,_);break e;case 14:b=$i(null,b,j,Ci(j.type,g),_);break e}throw Error(p(306,j,""))}return b;case 0:return j=b.type,$=b.pendingProps,$=b.elementType===j?$:Ci(j,$),cj(g,b,j,$,_);case 1:return j=b.type,$=b.pendingProps,$=b.elementType===j?$:Ci(j,$),hj(g,b,j,$,_);case 3:e:{if(kj(b),g===null)throw Error(p(387));j=b.pendingProps,_e=b.memoizedState,$=_e.element,lh(g,b),qh(b,j,null,_);var et=b.memoizedState;if(j=et.element,_e.isDehydrated)if(_e={element:j,isDehydrated:!1,cache:et.cache,pendingSuspenseBoundaries:et.pendingSuspenseBoundaries,transitions:et.transitions},b.updateQueue.baseState=_e,b.memoizedState=_e,b.flags&256){$=Ji(Error(p(423)),b),b=lj(g,b,j,_,$);break e}else if(j!==$){$=Ji(Error(p(424)),b),b=lj(g,b,j,_,$);break e}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,_=Vg(b,null,j,_),b.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Ig(),j===$){b=Zi(g,b,_);break e}Xi(g,b,j,_)}b=b.child}return b;case 5:return Ah(b),g===null&&Eg(b),j=b.type,$=b.pendingProps,_e=g!==null?g.memoizedProps:null,et=$.children,Ef(j,$)?et=null:_e!==null&&Ef(j,_e)&&(b.flags|=32),gj(g,b),Xi(g,b,et,_),b.child;case 6:return g===null&&Eg(b),null;case 13:return oj(g,b,_);case 4:return yh(b,b.stateNode.containerInfo),j=b.pendingProps,g===null?b.child=Ug(b,null,j,_):Xi(g,b,j,_),b.child;case 11:return j=b.type,$=b.pendingProps,$=b.elementType===j?$:Ci(j,$),Yi(g,b,j,$,_);case 7:return Xi(g,b,b.pendingProps,_),b.child;case 8:return Xi(g,b,b.pendingProps.children,_),b.child;case 12:return Xi(g,b,b.pendingProps.children,_),b.child;case 10:e:{if(j=b.type._context,$=b.pendingProps,_e=b.memoizedProps,et=$.value,G(Wg,j._currentValue),j._currentValue=et,_e!==null)if(He(_e.value,et)){if(_e.children===$.children&&!Wf.current){b=Zi(g,b,_);break e}}else for(_e=b.child,_e!==null&&(_e.return=b);_e!==null;){var nt=_e.dependencies;if(nt!==null){et=_e.child;for(var tt=nt.firstContext;tt!==null;){if(tt.context===j){if(_e.tag===1){tt=mh(-1,_&-_),tt.tag=2;var rt=_e.updateQueue;if(rt!==null){rt=rt.shared;var it=rt.pending;it===null?tt.next=tt:(tt.next=it.next,it.next=tt),rt.pending=tt}}_e.lanes|=_,tt=_e.alternate,tt!==null&&(tt.lanes|=_),bh(_e.return,_,b),nt.lanes|=_;break}tt=tt.next}}else if(_e.tag===10)et=_e.type===b.type?null:_e.child;else if(_e.tag===18){if(et=_e.return,et===null)throw Error(p(341));et.lanes|=_,nt=et.alternate,nt!==null&&(nt.lanes|=_),bh(et,_,b),et=_e.sibling}else et=_e.child;if(et!==null)et.return=_e;else for(et=_e;et!==null;){if(et===b){et=null;break}if(_e=et.sibling,_e!==null){_e.return=et.return,et=_e;break}et=et.return}_e=et}Xi(g,b,$.children,_),b=b.child}return b;case 9:return $=b.type,j=b.pendingProps.children,ch(b,_),$=eh($),j=j($),b.flags|=1,Xi(g,b,j,_),b.child;case 14:return j=b.type,$=Ci(j,b.pendingProps),$=Ci(j.type,$),$i(g,b,j,$,_);case 15:return bj(g,b,b.type,b.pendingProps,_);case 17:return j=b.type,$=b.pendingProps,$=b.elementType===j?$:Ci(j,$),ij(g,b),b.tag=1,Zf(j)?(g=!0,cg(b)):g=!1,ch(b,_),Gi(b,j,$),Ii(b,j,$,_),jj(null,b,j,!0,g,_);case 19:return xj(g,b,_);case 22:return dj(g,b,_)}throw Error(p(156,b.tag))};function Fk(g,b){return ac(g,b)}function $k(g,b,_,j){this.tag=g,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(g,b,_,j){return new $k(g,b,_,j)}function aj(g){return g=g.prototype,!(!g||!g.isReactComponent)}function Zk(g){if(typeof g=="function")return aj(g)?1:0;if(g!=null){if(g=g.$$typeof,g===Da)return 11;if(g===Ga)return 14}return 2}function Pg(g,b){var _=g.alternate;return _===null?(_=Bg(g.tag,b,g.key,g.mode),_.elementType=g.elementType,_.type=g.type,_.stateNode=g.stateNode,_.alternate=g,g.alternate=_):(_.pendingProps=b,_.type=g.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=g.flags&14680064,_.childLanes=g.childLanes,_.lanes=g.lanes,_.child=g.child,_.memoizedProps=g.memoizedProps,_.memoizedState=g.memoizedState,_.updateQueue=g.updateQueue,b=g.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},_.sibling=g.sibling,_.index=g.index,_.ref=g.ref,_}function Rg(g,b,_,j,$,_e){var et=2;if(j=g,typeof g=="function")aj(g)&&(et=1);else if(typeof g=="string")et=5;else e:switch(g){case ya:return Tg(_.children,$,_e,b);case za:et=8,$|=8;break;case Aa:return g=Bg(12,_,b,$|2),g.elementType=Aa,g.lanes=_e,g;case Ea:return g=Bg(13,_,b,$),g.elementType=Ea,g.lanes=_e,g;case Fa:return g=Bg(19,_,b,$),g.elementType=Fa,g.lanes=_e,g;case Ia:return pj(_,$,_e,b);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case Ba:et=10;break e;case Ca:et=9;break e;case Da:et=11;break e;case Ga:et=14;break e;case Ha:et=16,j=null;break e}throw Error(p(130,g==null?g:typeof g,""))}return b=Bg(et,_,b,$),b.elementType=g,b.type=j,b.lanes=_e,b}function Tg(g,b,_,j){return g=Bg(7,g,j,b),g.lanes=_,g}function pj(g,b,_,j){return g=Bg(22,g,j,b),g.elementType=Ia,g.lanes=_,g.stateNode={isHidden:!1},g}function Qg(g,b,_){return g=Bg(6,g,null,b),g.lanes=_,g}function Sg(g,b,_){return b=Bg(4,g.children!==null?g.children:[],g.key,b),b.lanes=_,b.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},b}function al(g,b,_,j,$){this.tag=b,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function bl(g,b,_,j,$,_e,et,nt,tt){return g=new al(g,b,_,nt,tt),b===1?(b=1,_e===!0&&(b|=8)):b=0,_e=Bg(3,null,null,b),g.current=_e,_e.stateNode=g,_e.memoizedState={element:j,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(_e),g}function cl(g,b,_){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:g,containerInfo:b,implementation:_}}function dl(g){if(!g)return Vf;g=g._reactInternals;e:{if(Vb(g)!==g||g.tag!==1)throw Error(p(170));var b=g;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(p(171))}if(g.tag===1){var _=g.type;if(Zf(_))return bg(g,_,b)}return b}function el(g,b,_,j,$,_e,et,nt,tt){return g=bl(_,j,!0,g,$,_e,et,nt,tt),g.context=dl(null),_=g.current,j=R(),$=yi(_),_e=mh(j,$),_e.callback=b??null,nh(_,_e,$),g.current.lanes=$,Ac(g,$,j),Dk(g,j),g}function fl(g,b,_,j){var $=b.current,_e=R(),et=yi($);return _=dl(_),b.context===null?b.context=_:b.pendingContext=_,b=mh(_e,et),b.payload={element:g},j=j===void 0?null:j,j!==null&&(b.callback=j),g=nh($,b,et),g!==null&&(gi(g,$,et,_e),oh(g,$,et)),et}function gl(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return g.child.stateNode;default:return g.child.stateNode}}function hl(g,b){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var _=g.retryLane;g.retryLane=_!==0&&_<b?_:b}}function il(g,b){hl(g,b),(g=g.alternate)&&hl(g,b)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(g){console.error(g)};function ll(g){this._internalRoot=g}ml.prototype.render=ll.prototype.render=function(g){var b=this._internalRoot;if(b===null)throw Error(p(409));fl(g,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var g=this._internalRoot;if(g!==null){this._internalRoot=null;var b=g.containerInfo;Rk(function(){fl(null,g,null,null)}),b[uf]=null}};function ml(g){this._internalRoot=g}ml.prototype.unstable_scheduleHydration=function(g){if(g){var b=Hc();g={blockedOn:null,target:g,priority:b};for(var _=0;_<Qc.length&&b!==0&&b<Qc[_].priority;_++);Qc.splice(_,0,g),_===0&&Vc(g)}};function nl(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)}function ol(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11&&(g.nodeType!==8||g.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(g,b,_,j,$){if($){if(typeof j=="function"){var _e=j;j=function(){var rt=gl(et);_e.call(rt)}}var et=el(b,j,g,0,null,!1,!1,"",pl);return g._reactRootContainer=et,g[uf]=et.current,sf(g.nodeType===8?g.parentNode:g),Rk(),et}for(;$=g.lastChild;)g.removeChild($);if(typeof j=="function"){var nt=j;j=function(){var rt=gl(tt);nt.call(rt)}}var tt=bl(g,0,!1,null,null,!1,!1,"",pl);return g._reactRootContainer=tt,g[uf]=tt.current,sf(g.nodeType===8?g.parentNode:g),Rk(function(){fl(b,tt,_,j)}),tt}function rl(g,b,_,j,$){var _e=_._reactRootContainer;if(_e){var et=_e;if(typeof $=="function"){var nt=$;$=function(){var tt=gl(et);nt.call(tt)}}fl(b,et,g,$)}else et=ql(_,b,g,$,j);return gl(et)}Ec=function(g){switch(g.tag){case 3:var b=g.stateNode;if(b.current.memoizedState.isDehydrated){var _=tc(b.pendingLanes);_!==0&&(Cc(b,_|1),Dk(b,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var j=ih(g,1);if(j!==null){var $=R();gi(j,g,1,$)}}),il(g,1)}};Fc=function(g){if(g.tag===13){var b=ih(g,134217728);if(b!==null){var _=R();gi(b,g,134217728,_)}il(g,134217728)}};Gc=function(g){if(g.tag===13){var b=yi(g),_=ih(g,b);if(_!==null){var j=R();gi(_,g,b,j)}il(g,b)}};Hc=function(){return C};Ic=function(g,b){var _=C;try{return C=g,b()}finally{C=_}};yb=function(g,b,_){switch(b){case"input":if(bb(g,_),b=_.name,_.type==="radio"&&b!=null){for(_=g;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<_.length;b++){var j=_[b];if(j!==g&&j.form===g.form){var $=Db(j);if(!$)throw Error(p(90));Wa(j),bb(j,$)}}}break;case"textarea":ib(g,_);break;case"select":b=_.value,b!=null&&fb(g,!!_.multiple,b,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(g){return g=Zb(g),g===null?null:g.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(g,b){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(g,b,null,_)};reactDom_production_min.createRoot=function(g,b){if(!nl(g))throw Error(p(299));var _=!1,j="",$=kl;return b!=null&&(b.unstable_strictMode===!0&&(_=!0),b.identifierPrefix!==void 0&&(j=b.identifierPrefix),b.onRecoverableError!==void 0&&($=b.onRecoverableError)),b=bl(g,1,!1,null,null,_,!1,j,$),g[uf]=b.current,sf(g.nodeType===8?g.parentNode:g),new ll(b)};reactDom_production_min.findDOMNode=function(g){if(g==null)return null;if(g.nodeType===1)return g;var b=g._reactInternals;if(b===void 0)throw typeof g.render=="function"?Error(p(188)):(g=Object.keys(g).join(","),Error(p(268,g)));return g=Zb(b),g=g===null?null:g.stateNode,g};reactDom_production_min.flushSync=function(g){return Rk(g)};reactDom_production_min.hydrate=function(g,b,_){if(!ol(b))throw Error(p(200));return rl(null,g,b,!0,_)};reactDom_production_min.hydrateRoot=function(g,b,_){if(!nl(g))throw Error(p(405));var j=_!=null&&_.hydratedSources||null,$=!1,_e="",et=kl;if(_!=null&&(_.unstable_strictMode===!0&&($=!0),_.identifierPrefix!==void 0&&(_e=_.identifierPrefix),_.onRecoverableError!==void 0&&(et=_.onRecoverableError)),b=el(b,null,g,1,_??null,$,!1,_e,et),g[uf]=b.current,sf(g),j)for(g=0;g<j.length;g++)_=j[g],$=_._getVersion,$=$(_._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[_,$]:b.mutableSourceEagerHydrationData.push(_,$);return new ml(b)};reactDom_production_min.render=function(g,b,_){if(!ol(b))throw Error(p(200));return rl(null,g,b,!1,_)};reactDom_production_min.unmountComponentAtNode=function(g){if(!ol(g))throw Error(p(40));return g._reactRootContainer?(Rk(function(){rl(null,null,g,!1,function(){g._reactRootContainer=null,g[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(g,b,_,j){if(!ol(_))throw Error(p(200));if(g==null||g._reactInternals===void 0)throw Error(p(38));return rl(g,b,_,!1,j)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(g){console.error(g)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const __vite_import_meta_env__$1={},createStoreImpl=g=>{let b;const _=new Set,j=(it,ht)=>{const ut=typeof it=="function"?it(b):it;if(!Object.is(ut,b)){const lt=b;b=ht??(typeof ut!="object"||ut===null)?ut:Object.assign({},b,ut),_.forEach(pt=>pt(b,lt))}},$=()=>b,tt={setState:j,getState:$,getInitialState:()=>rt,subscribe:it=>(_.add(it),()=>_.delete(it)),destroy:()=>{(__vite_import_meta_env__$1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),_.clear()}},rt=b=g(j,$,tt);return tt},createStore=g=>g?createStoreImpl(g):createStoreImpl;var withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$2=React$1.useDebugValue;function useSyncExternalStore$2(g,b){var _=b(),j=useState({inst:{value:_,getSnapshot:b}}),$=j[0].inst,_e=j[1];return useLayoutEffect(function(){$.value=_,$.getSnapshot=b,checkIfSnapshotChanged($)&&_e({inst:$})},[g,_,b]),useEffect$1(function(){return checkIfSnapshotChanged($)&&_e({inst:$}),g(function(){checkIfSnapshotChanged($)&&_e({inst:$})})},[g]),useDebugValue$2(_),_}function checkIfSnapshotChanged(g){var b=g.getSnapshot;g=g.value;try{var _=b();return!objectIs$1(g,_)}catch{return!0}}function useSyncExternalStore$1(g,b){return b()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue$1=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(g,b,_,j,$){var _e=useRef(null);if(_e.current===null){var et={hasValue:!1,value:null};_e.current=et}else et=_e.current;_e=useMemo(function(){function tt(lt){if(!rt){if(rt=!0,it=lt,lt=j(lt),$!==void 0&&et.hasValue){var pt=et.value;if($(pt,lt))return ht=pt}return ht=lt}if(pt=ht,objectIs(it,lt))return pt;var vt=j(lt);return $!==void 0&&$(pt,vt)?(it=lt,pt):(it=lt,ht=vt)}var rt=!1,it,ht,ut=_===void 0?null:_;return[function(){return tt(b())},ut===null?void 0:function(){return tt(ut())}]},[b,_,j,$]);var nt=useSyncExternalStore(g,_e[0],_e[1]);return useEffect(function(){et.hasValue=!0,et.value=nt},[nt]),useDebugValue$1(nt),nt};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),__vite_import_meta_env__={},{useDebugValue}=React$2,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports;let didWarnAboutEqualityFn=!1;const identity=g=>g;function useStore(g,b=identity,_){(__vite_import_meta_env__?"production":void 0)!=="production"&&_&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const j=useSyncExternalStoreWithSelector(g.subscribe,g.getState,g.getServerState||g.getInitialState,b,_);return useDebugValue(j),j}const createImpl=g=>{(__vite_import_meta_env__?"production":void 0)!=="production"&&typeof g!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const b=typeof g=="function"?createStore(g):g,_=(j,$)=>useStore(b,j,$);return Object.assign(_,b),_},create=g=>g?createImpl(g):createImpl,useAppStore=create((g,b)=>({selectedFile:null,documentUrl:null,totalPages:0,processingStatus:{status:"idle"},redactionSuggestions:new Map,currentPage:1,selectedProfile:"quick",sidebarOpen:!0,selectedRedaction:null,setSelectedFile:_=>g({selectedFile:_}),setDocumentUrl:_=>g({documentUrl:_}),setTotalPages:_=>g({totalPages:_}),setProcessingStatus:_=>g({processingStatus:_}),addPageRedactions:(_,j)=>{const $=b().redactionSuggestions,_e=new Map($);_e.set(_,j),g({redactionSuggestions:_e})},toggleRedactionAcceptance:(_,j)=>{const $=b().redactionSuggestions,_e=$.get(_);if(_e){const et=_e.map(tt=>tt.id===j?{...tt,accepted:!tt.accepted}:tt),nt=new Map($);nt.set(_,et),g({redactionSuggestions:nt})}},acceptAllRedactions:()=>{const _=b().redactionSuggestions,j=new Map;_.forEach(($,_e)=>{const et=$.map(nt=>({...nt,accepted:!0}));j.set(_e,et)}),g({redactionSuggestions:j})},acceptPageRedactions:_=>{const j=b().redactionSuggestions,$=j.get(_);if($){const _e=$.map(nt=>({...nt,accepted:!0})),et=new Map(j);et.set(_,_e),g({redactionSuggestions:et})}},setCurrentPage:_=>g({currentPage:_}),setSelectedProfile:_=>g({selectedProfile:_}),setSidebarOpen:_=>g({sidebarOpen:_}),setSelectedRedaction:_=>g({selectedRedaction:_}),reset:()=>g({selectedFile:null,documentUrl:null,totalPages:0,processingStatus:{status:"idle"},redactionSuggestions:new Map,currentPage:1,selectedProfile:"quick",sidebarOpen:!0,selectedRedaction:null})})),useAudioStore=create((g,b)=>({selectedAudioFile:null,audioUrl:null,duration:0,processingStatus:{status:"idle"},transcript:[],formattedTranscript:"",piiSuggestions:[],redactions:[],currentTime:0,isPlaying:!1,volume:1,selectedRegion:null,selectedPII:null,setSelectedAudioFile:_=>g({selectedAudioFile:_}),setAudioUrl:_=>g({audioUrl:_}),setDuration:_=>g({duration:_}),setProcessingStatus:_=>g({processingStatus:_}),setTranscript:_=>g({transcript:_}),setFormattedTranscript:_=>g({formattedTranscript:_}),setPiiSuggestions:_=>g({piiSuggestions:_}),setRedactions:_=>g({redactions:_}),setCurrentTime:_=>g({currentTime:_}),setIsPlaying:_=>g({isPlaying:_}),setVolume:_=>g({volume:_}),setSelectedRegion:_=>g({selectedRegion:_}),setSelectedPII:_=>g({selectedPII:_}),togglePIIAcceptance:_=>g(j=>{const $=j.piiSuggestions.find(nt=>nt.id===_);if(!$)return j;const _e=j.piiSuggestions.map(nt=>nt.id===_?{...nt,accepted:!nt.accepted}:nt);let et=[...j.redactions];if($.accepted)et=et.filter(nt=>nt.pii_id!==$.id),console.log("Removing redaction for PII:",$.text);else{const nt={id:crypto.randomUUID(),start_time:$.start_time,end_time:$.end_time,action:"beep",pii_id:$.id};et.push(nt),console.log("Adding redaction for PII:",$.text,nt)}return{piiSuggestions:_e,redactions:et}}),acceptAllPII:()=>g(_=>{const j=[];return _.piiSuggestions.forEach(_e=>{_e.accepted||_.redactions.find(nt=>nt.pii_id===_e.id)||j.push({id:crypto.randomUUID(),start_time:_e.start_time,end_time:_e.end_time,action:"beep",pii_id:_e.id})}),console.log("Accept All PII: Creating",j.length,"new redactions"),console.log("New redactions:",j),{piiSuggestions:_.piiSuggestions.map(_e=>({..._e,accepted:!0})),redactions:[..._.redactions,...j]}}),addRedaction:_=>{const j={..._,id:crypto.randomUUID()},$=b().redactions;g({redactions:[...$,j]})},removeRedaction:_=>{const $=b().redactions.filter(_e=>_e.id!==_);g({redactions:$})},reset:()=>g({selectedAudioFile:null,audioUrl:null,duration:0,processingStatus:{status:"idle"},transcript:[],formattedTranscript:"",piiSuggestions:[],redactions:[],currentTime:0,isPlaying:!1,volume:1,selectedRegion:null,selectedPII:null})}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=g=>g.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(g,b)=>{const _=reactExports.forwardRef(({color:j="currentColor",size:$=24,strokeWidth:_e=2,absoluteStrokeWidth:et,className:nt="",children:tt,...rt},it)=>reactExports.createElement("svg",{ref:it,...defaultAttributes,width:$,height:$,stroke:j,strokeWidth:et?Number(_e)*24/Number($):_e,className:["lucide",`lucide-${toKebabCase(g)}`,nt].join(" "),...rt},[...b.map(([ht,ut])=>reactExports.createElement(ht,ut)),...Array.isArray(tt)?tt:[tt]]));return _.displayName=`${g}`,_};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AlertCircle=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CheckCircle=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EyeOff=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileDown=createLucideIcon("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader2=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mic=createLucideIcon("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pause=createLucideIcon("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Play=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Volume2=createLucideIcon("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomIn=createLucideIcon("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZoomOut=createLucideIcon("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function setRef(g,b){if(typeof g=="function")return g(b);g!=null&&(g.current=b)}function composeRefs(...g){return b=>{let _=!1;const j=g.map($=>{const _e=setRef($,b);return!_&&typeof _e=="function"&&(_=!0),_e});if(_)return()=>{for(let $=0;$<j.length;$++){const _e=j[$];typeof _e=="function"?_e():setRef(g[$],null)}}}}function useComposedRefs(...g){return reactExports.useCallback(composeRefs(...g),g)}function createSlot(g){const b=createSlotClone(g),_=reactExports.forwardRef((j,$)=>{const{children:_e,...et}=j,nt=reactExports.Children.toArray(_e),tt=nt.find(isSlottable);if(tt){const rt=tt.props.children,it=nt.map(ht=>ht===tt?reactExports.Children.count(rt)>1?reactExports.Children.only(null):reactExports.isValidElement(rt)?rt.props.children:null:ht);return jsxRuntimeExports.jsx(b,{...et,ref:$,children:reactExports.isValidElement(rt)?reactExports.cloneElement(rt,void 0,it):null})}return jsxRuntimeExports.jsx(b,{...et,ref:$,children:_e})});return _.displayName=`${g}.Slot`,_}var Slot=createSlot("Slot");function createSlotClone(g){const b=reactExports.forwardRef((_,j)=>{const{children:$,..._e}=_;if(reactExports.isValidElement($)){const et=getElementRef$1($),nt=mergeProps(_e,$.props);return $.type!==reactExports.Fragment&&(nt.ref=j?composeRefs(j,et):et),reactExports.cloneElement($,nt)}return reactExports.Children.count($)>1?reactExports.Children.only(null):null});return b.displayName=`${g}.SlotClone`,b}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(g){return reactExports.isValidElement(g)&&typeof g.type=="function"&&"__radixId"in g.type&&g.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(g,b){const _={...b};for(const j in b){const $=g[j],_e=b[j];/^on[A-Z]/.test(j)?$&&_e?_[j]=(...nt)=>{const tt=_e(...nt);return $(...nt),tt}:$&&(_[j]=$):j==="style"?_[j]={...$,..._e}:j==="className"&&(_[j]=[$,_e].filter(Boolean).join(" "))}return{...g,..._}}function getElementRef$1(g){var j,$;let b=(j=Object.getOwnPropertyDescriptor(g.props,"ref"))==null?void 0:j.get,_=b&&"isReactWarning"in b&&b.isReactWarning;return _?g.ref:(b=($=Object.getOwnPropertyDescriptor(g,"ref"))==null?void 0:$.get,_=b&&"isReactWarning"in b&&b.isReactWarning,_?g.props.ref:g.props.ref||g.ref)}function r$2(g){var b,_,j="";if(typeof g=="string"||typeof g=="number")j+=g;else if(typeof g=="object")if(Array.isArray(g)){var $=g.length;for(b=0;b<$;b++)g[b]&&(_=r$2(g[b]))&&(j&&(j+=" "),j+=_)}else for(_ in g)g[_]&&(j&&(j+=" "),j+=_);return j}function clsx(){for(var g,b,_=0,j="",$=arguments.length;_<$;_++)(g=arguments[_])&&(b=r$2(g))&&(j&&(j+=" "),j+=b);return j}const falsyToString=g=>typeof g=="boolean"?`${g}`:g===0?"0":g,cx=clsx,cva=(g,b)=>_=>{var j;if((b==null?void 0:b.variants)==null)return cx(g,_==null?void 0:_.class,_==null?void 0:_.className);const{variants:$,defaultVariants:_e}=b,et=Object.keys($).map(rt=>{const it=_==null?void 0:_[rt],ht=_e==null?void 0:_e[rt];if(it===null)return null;const ut=falsyToString(it)||falsyToString(ht);return $[rt][ut]}),nt=_&&Object.entries(_).reduce((rt,it)=>{let[ht,ut]=it;return ut===void 0||(rt[ht]=ut),rt},{}),tt=b==null||(j=b.compoundVariants)===null||j===void 0?void 0:j.reduce((rt,it)=>{let{class:ht,className:ut,...lt}=it;return Object.entries(lt).every(pt=>{let[vt,yt]=pt;return Array.isArray(yt)?yt.includes({..._e,...nt}[vt]):{..._e,...nt}[vt]===yt})?[...rt,ht,ut]:rt},[]);return cx(g,et,tt,_==null?void 0:_.class,_==null?void 0:_.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=g=>{const b=createClassMap(g),{conflictingClassGroups:_,conflictingClassGroupModifiers:j}=g;return{getClassGroupId:et=>{const nt=et.split(CLASS_PART_SEPARATOR);return nt[0]===""&&nt.length!==1&&nt.shift(),getGroupRecursive(nt,b)||getGroupIdForArbitraryProperty(et)},getConflictingClassGroupIds:(et,nt)=>{const tt=_[et]||[];return nt&&j[et]?[...tt,...j[et]]:tt}}},getGroupRecursive=(g,b)=>{var et;if(g.length===0)return b.classGroupId;const _=g[0],j=b.nextPart.get(_),$=j?getGroupRecursive(g.slice(1),j):void 0;if($)return $;if(b.validators.length===0)return;const _e=g.join(CLASS_PART_SEPARATOR);return(et=b.validators.find(({validator:nt})=>nt(_e)))==null?void 0:et.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=g=>{if(arbitraryPropertyRegex.test(g)){const b=arbitraryPropertyRegex.exec(g)[1],_=b==null?void 0:b.substring(0,b.indexOf(":"));if(_)return"arbitrary.."+_}},createClassMap=g=>{const{theme:b,prefix:_}=g,j={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(g.classGroups),_).forEach(([_e,et])=>{processClassesRecursively(et,j,_e,b)}),j},processClassesRecursively=(g,b,_,j)=>{g.forEach($=>{if(typeof $=="string"){const _e=$===""?b:getPart(b,$);_e.classGroupId=_;return}if(typeof $=="function"){if(isThemeGetter($)){processClassesRecursively($(j),b,_,j);return}b.validators.push({validator:$,classGroupId:_});return}Object.entries($).forEach(([_e,et])=>{processClassesRecursively(et,getPart(b,_e),_,j)})})},getPart=(g,b)=>{let _=g;return b.split(CLASS_PART_SEPARATOR).forEach(j=>{_.nextPart.has(j)||_.nextPart.set(j,{nextPart:new Map,validators:[]}),_=_.nextPart.get(j)}),_},isThemeGetter=g=>g.isThemeGetter,getPrefixedClassGroupEntries=(g,b)=>b?g.map(([_,j])=>{const $=j.map(_e=>typeof _e=="string"?b+_e:typeof _e=="object"?Object.fromEntries(Object.entries(_e).map(([et,nt])=>[b+et,nt])):_e);return[_,$]}):g,createLruCache=g=>{if(g<1)return{get:()=>{},set:()=>{}};let b=0,_=new Map,j=new Map;const $=(_e,et)=>{_.set(_e,et),b++,b>g&&(b=0,j=_,_=new Map)};return{get(_e){let et=_.get(_e);if(et!==void 0)return et;if((et=j.get(_e))!==void 0)return $(_e,et),et},set(_e,et){_.has(_e)?_.set(_e,et):$(_e,et)}}},IMPORTANT_MODIFIER="!",createParseClassName=g=>{const{separator:b,experimentalParseClassName:_}=g,j=b.length===1,$=b[0],_e=b.length,et=nt=>{const tt=[];let rt=0,it=0,ht;for(let yt=0;yt<nt.length;yt++){let st=nt[yt];if(rt===0){if(st===$&&(j||nt.slice(yt,yt+_e)===b)){tt.push(nt.slice(it,yt)),it=yt+_e;continue}if(st==="/"){ht=yt;continue}}st==="["?rt++:st==="]"&&rt--}const ut=tt.length===0?nt:nt.substring(it),lt=ut.startsWith(IMPORTANT_MODIFIER),pt=lt?ut.substring(1):ut,vt=ht&&ht>it?ht-it:void 0;return{modifiers:tt,hasImportantModifier:lt,baseClassName:pt,maybePostfixModifierPosition:vt}};return _?nt=>_({className:nt,parseClassName:et}):et},sortModifiers=g=>{if(g.length<=1)return g;const b=[];let _=[];return g.forEach(j=>{j[0]==="["?(b.push(..._.sort(),j),_=[]):_.push(j)}),b.push(..._.sort()),b},createConfigUtils=g=>({cache:createLruCache(g.cacheSize),parseClassName:createParseClassName(g),...createClassGroupUtils(g)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(g,b)=>{const{parseClassName:_,getClassGroupId:j,getConflictingClassGroupIds:$}=b,_e=[],et=g.trim().split(SPLIT_CLASSES_REGEX);let nt="";for(let tt=et.length-1;tt>=0;tt-=1){const rt=et[tt],{modifiers:it,hasImportantModifier:ht,baseClassName:ut,maybePostfixModifierPosition:lt}=_(rt);let pt=!!lt,vt=j(pt?ut.substring(0,lt):ut);if(!vt){if(!pt){nt=rt+(nt.length>0?" "+nt:nt);continue}if(vt=j(ut),!vt){nt=rt+(nt.length>0?" "+nt:nt);continue}pt=!1}const yt=sortModifiers(it).join(":"),st=ht?yt+IMPORTANT_MODIFIER:yt,ot=st+vt;if(_e.includes(ot))continue;_e.push(ot);const mt=$(vt,pt);for(let ft=0;ft<mt.length;++ft){const ct=mt[ft];_e.push(st+ct)}nt=rt+(nt.length>0?" "+nt:nt)}return nt};function twJoin(){let g=0,b,_,j="";for(;g<arguments.length;)(b=arguments[g++])&&(_=toValue(b))&&(j&&(j+=" "),j+=_);return j}const toValue=g=>{if(typeof g=="string")return g;let b,_="";for(let j=0;j<g.length;j++)g[j]&&(b=toValue(g[j]))&&(_&&(_+=" "),_+=b);return _};function createTailwindMerge(g,...b){let _,j,$,_e=et;function et(tt){const rt=b.reduce((it,ht)=>ht(it),g());return _=createConfigUtils(rt),j=_.cache.get,$=_.cache.set,_e=nt,nt(tt)}function nt(tt){const rt=j(tt);if(rt)return rt;const it=mergeClassList(tt,_);return $(tt,it),it}return function(){return _e(twJoin.apply(null,arguments))}}const fromTheme=g=>{const b=_=>_[g]||[];return b.isThemeGetter=!0,b},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength=g=>isNumber$1(g)||stringLengths.has(g)||fractionRegex.test(g),isArbitraryLength=g=>getIsArbitraryValue(g,"length",isLengthOnly),isNumber$1=g=>!!g&&!Number.isNaN(Number(g)),isArbitraryNumber=g=>getIsArbitraryValue(g,"number",isNumber$1),isInteger=g=>!!g&&Number.isInteger(Number(g)),isPercent=g=>g.endsWith("%")&&isNumber$1(g.slice(0,-1)),isArbitraryValue=g=>arbitraryValueRegex.test(g),isTshirtSize=g=>tshirtUnitRegex.test(g),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=g=>getIsArbitraryValue(g,sizeLabels,isNever),isArbitraryPosition=g=>getIsArbitraryValue(g,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=g=>getIsArbitraryValue(g,imageLabels,isImage),isArbitraryShadow=g=>getIsArbitraryValue(g,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(g,b,_)=>{const j=arbitraryValueRegex.exec(g);return j?j[1]?typeof b=="string"?j[1]===b:b.has(j[1]):_(j[2]):!1},isLengthOnly=g=>lengthUnitRegex.test(g)&&!colorFunctionRegex.test(g),isNever=()=>!1,isShadow=g=>shadowRegex.test(g),isImage=g=>imageRegex.test(g),getDefaultConfig=()=>{const g=fromTheme("colors"),b=fromTheme("spacing"),_=fromTheme("blur"),j=fromTheme("brightness"),$=fromTheme("borderColor"),_e=fromTheme("borderRadius"),et=fromTheme("borderSpacing"),nt=fromTheme("borderWidth"),tt=fromTheme("contrast"),rt=fromTheme("grayscale"),it=fromTheme("hueRotate"),ht=fromTheme("invert"),ut=fromTheme("gap"),lt=fromTheme("gradientColorStops"),pt=fromTheme("gradientColorStopPositions"),vt=fromTheme("inset"),yt=fromTheme("margin"),st=fromTheme("opacity"),ot=fromTheme("padding"),mt=fromTheme("saturate"),ft=fromTheme("scale"),ct=fromTheme("sepia"),xt=fromTheme("skew"),dt=fromTheme("space"),gt=fromTheme("translate"),St=()=>["auto","contain","none"],kt=()=>["auto","hidden","clip","visible","scroll"],bt=()=>["auto",isArbitraryValue,b],wt=()=>[isArbitraryValue,b],Tt=()=>["",isLength,isArbitraryLength],Ht=()=>["auto",isNumber$1,isArbitraryValue],Bt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Wt=()=>["solid","dashed","dotted","double","none"],Dt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],It=()=>["start","end","center","between","around","evenly","stretch"],At=()=>["","0",isArbitraryValue],Ft=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Vt=()=>[isNumber$1,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:Vt(),borderColor:[g],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:wt(),borderWidth:Tt(),contrast:Vt(),grayscale:At(),hueRotate:Vt(),invert:At(),gap:wt(),gradientColorStops:[g],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:bt(),margin:bt(),opacity:Vt(),padding:wt(),saturate:Vt(),scale:Vt(),sepia:At(),skew:Vt(),space:wt(),translate:wt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Ft()}],"break-before":[{"break-before":Ft()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Bt(),isArbitraryValue]}],overflow:[{overflow:kt()}],"overflow-x":[{"overflow-x":kt()}],"overflow-y":[{"overflow-y":kt()}],overscroll:[{overscroll:St()}],"overscroll-x":[{"overscroll-x":St()}],"overscroll-y":[{"overscroll-y":St()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[vt]}],"inset-x":[{"inset-x":[vt]}],"inset-y":[{"inset-y":[vt]}],start:[{start:[vt]}],end:[{end:[vt]}],top:[{top:[vt]}],right:[{right:[vt]}],bottom:[{bottom:[vt]}],left:[{left:[vt]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:bt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:At()}],shrink:[{shrink:At()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":Ht()}],"col-end":[{"col-end":Ht()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":Ht()}],"row-end":[{"row-end":Ht()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[ut]}],"gap-x":[{"gap-x":[ut]}],"gap-y":[{"gap-y":[ut]}],"justify-content":[{justify:["normal",...It()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...It(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...It(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[ot]}],px:[{px:[ot]}],py:[{py:[ot]}],ps:[{ps:[ot]}],pe:[{pe:[ot]}],pt:[{pt:[ot]}],pr:[{pr:[ot]}],pb:[{pb:[ot]}],pl:[{pl:[ot]}],m:[{m:[yt]}],mx:[{mx:[yt]}],my:[{my:[yt]}],ms:[{ms:[yt]}],me:[{me:[yt]}],mt:[{mt:[yt]}],mr:[{mr:[yt]}],mb:[{mb:[yt]}],ml:[{ml:[yt]}],"space-x":[{"space-x":[dt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[dt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,b]}],"min-w":[{"min-w":[isArbitraryValue,b,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,b,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,b,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,b,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,b,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,b,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$1,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[g]}],"placeholder-opacity":[{"placeholder-opacity":[st]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[g]}],"text-opacity":[{"text-opacity":[st]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Wt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[g]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:wt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[st]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Bt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[g]}],"gradient-from-pos":[{from:[pt]}],"gradient-via-pos":[{via:[pt]}],"gradient-to-pos":[{to:[pt]}],"gradient-from":[{from:[lt]}],"gradient-via":[{via:[lt]}],"gradient-to":[{to:[lt]}],rounded:[{rounded:[_e]}],"rounded-s":[{"rounded-s":[_e]}],"rounded-e":[{"rounded-e":[_e]}],"rounded-t":[{"rounded-t":[_e]}],"rounded-r":[{"rounded-r":[_e]}],"rounded-b":[{"rounded-b":[_e]}],"rounded-l":[{"rounded-l":[_e]}],"rounded-ss":[{"rounded-ss":[_e]}],"rounded-se":[{"rounded-se":[_e]}],"rounded-ee":[{"rounded-ee":[_e]}],"rounded-es":[{"rounded-es":[_e]}],"rounded-tl":[{"rounded-tl":[_e]}],"rounded-tr":[{"rounded-tr":[_e]}],"rounded-br":[{"rounded-br":[_e]}],"rounded-bl":[{"rounded-bl":[_e]}],"border-w":[{border:[nt]}],"border-w-x":[{"border-x":[nt]}],"border-w-y":[{"border-y":[nt]}],"border-w-s":[{"border-s":[nt]}],"border-w-e":[{"border-e":[nt]}],"border-w-t":[{"border-t":[nt]}],"border-w-r":[{"border-r":[nt]}],"border-w-b":[{"border-b":[nt]}],"border-w-l":[{"border-l":[nt]}],"border-opacity":[{"border-opacity":[st]}],"border-style":[{border:[...Wt(),"hidden"]}],"divide-x":[{"divide-x":[nt]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[nt]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[st]}],"divide-style":[{divide:Wt()}],"border-color":[{border:[$]}],"border-color-x":[{"border-x":[$]}],"border-color-y":[{"border-y":[$]}],"border-color-s":[{"border-s":[$]}],"border-color-e":[{"border-e":[$]}],"border-color-t":[{"border-t":[$]}],"border-color-r":[{"border-r":[$]}],"border-color-b":[{"border-b":[$]}],"border-color-l":[{"border-l":[$]}],"divide-color":[{divide:[$]}],"outline-style":[{outline:["",...Wt()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[g]}],"ring-w":[{ring:Tt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[g]}],"ring-opacity":[{"ring-opacity":[st]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[g]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[st]}],"mix-blend":[{"mix-blend":[...Dt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Dt()}],filter:[{filter:["","none"]}],blur:[{blur:[_]}],brightness:[{brightness:[j]}],contrast:[{contrast:[tt]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[rt]}],"hue-rotate":[{"hue-rotate":[it]}],invert:[{invert:[ht]}],saturate:[{saturate:[mt]}],sepia:[{sepia:[ct]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[_]}],"backdrop-brightness":[{"backdrop-brightness":[j]}],"backdrop-contrast":[{"backdrop-contrast":[tt]}],"backdrop-grayscale":[{"backdrop-grayscale":[rt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it]}],"backdrop-invert":[{"backdrop-invert":[ht]}],"backdrop-opacity":[{"backdrop-opacity":[st]}],"backdrop-saturate":[{"backdrop-saturate":[mt]}],"backdrop-sepia":[{"backdrop-sepia":[ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[et]}],"border-spacing-x":[{"border-spacing-x":[et]}],"border-spacing-y":[{"border-spacing-y":[et]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:Vt()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:Vt()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[ft]}],"scale-x":[{"scale-x":[ft]}],"scale-y":[{"scale-y":[ft]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[gt]}],"translate-y":[{"translate-y":[gt]}],"skew-x":[{"skew-x":[xt]}],"skew-y":[{"skew-y":[xt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",g]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[g]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":wt()}],"scroll-mx":[{"scroll-mx":wt()}],"scroll-my":[{"scroll-my":wt()}],"scroll-ms":[{"scroll-ms":wt()}],"scroll-me":[{"scroll-me":wt()}],"scroll-mt":[{"scroll-mt":wt()}],"scroll-mr":[{"scroll-mr":wt()}],"scroll-mb":[{"scroll-mb":wt()}],"scroll-ml":[{"scroll-ml":wt()}],"scroll-p":[{"scroll-p":wt()}],"scroll-px":[{"scroll-px":wt()}],"scroll-py":[{"scroll-py":wt()}],"scroll-ps":[{"scroll-ps":wt()}],"scroll-pe":[{"scroll-pe":wt()}],"scroll-pt":[{"scroll-pt":wt()}],"scroll-pr":[{"scroll-pr":wt()}],"scroll-pb":[{"scroll-pb":wt()}],"scroll-pl":[{"scroll-pl":wt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[g,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[g,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...g){return twMerge(clsx(g))}const buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=reactExports.forwardRef(({className:g,variant:b,size:_,asChild:j=!1,...$},_e)=>{const et=j?Slot:"button";return jsxRuntimeExports.jsx(et,{className:cn(buttonVariants({variant:b,size:_,className:g})),ref:_e,...$})});Button.displayName="Button";function HomeScreen({onSelectMode:g}){return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl w-full text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Guardian Redact"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600",children:"Your Private, Offline Redaction Suite"})]}),jsxRuntimeExports.jsx("div",{className:"mb-16",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl text-gray-700 mb-8",children:"Choose a tool to get started:"})}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 cursor-pointer hover:shadow-xl transition-shadow border-2 border-transparent hover:border-blue-200",onClick:()=>g("document"),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-blue-100 rounded-full p-6 mb-6",children:jsxRuntimeExports.jsx(FileText,{className:"w-12 h-12 text-blue-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Redact a Document"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Analyze PDFs, automatically identify and redact sensitive information. Support multilanguage documents."}),jsxRuntimeExports.jsx(Button,{className:"mt-6 w-full",onClick:b=>{b.stopPropagation(),g("document")},children:"Start Document Redaction"})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 cursor-pointer hover:shadow-xl transition-shadow border-2 border-transparent hover:border-green-200",onClick:()=>g("audio"),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"bg-green-100 rounded-full p-6 mb-6",children:jsxRuntimeExports.jsx(Mic,{className:"w-12 h-12 text-green-600"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Redact an Audio File"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-center leading-relaxed",children:"Transcribe and analyze MP3 files. Silence or Beep sections containing sensitive information."}),jsxRuntimeExports.jsx(Button,{className:"mt-6 w-full bg-green-600 hover:bg-green-700",onClick:b=>{b.stopPropagation(),g("audio")},children:"Start Audio Redaction"})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-16 text-sm text-gray-500",children:jsxRuntimeExports.jsx("p",{children:"All processing happens locally on your device. Your files never leave your computer."})})]})})}function uid(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function transformCallback(g,b=!1){const _=uid(),j=`_${_}`;return Object.defineProperty(window,j,{value:$=>(b&&Reflect.deleteProperty(window,j),g==null?void 0:g($)),writable:!1,configurable:!0}),_}async function invoke(g,b={}){return new Promise((_,j)=>{const $=transformCallback(et=>{_(et),Reflect.deleteProperty(window,`_${_e}`)},!0),_e=transformCallback(et=>{j(et),Reflect.deleteProperty(window,`_${$}`)},!0);window.__TAURI_IPC__({cmd:g,callback:$,error:_e,...b})})}const FileUploadScreen=({onBack:g})=>{const{setSelectedFile:b,setDocumentUrl:_,setSelectedProfile:j,selectedProfile:$}=useAppStore(),_e=reactExports.useCallback(async rt=>{if(rt&&rt.type==="application/pdf")try{const it=await rt.arrayBuffer(),ht=new Uint8Array(it),ut=await invoke("save_temp_file",{fileName:rt.name,fileData:Array.from(ht)}),lt=Object.assign(rt,{tempPath:ut});b(lt);const pt=URL.createObjectURL(rt);_(pt),console.log("File saved to temp location:",ut)}catch(it){console.error("Error saving file:",it),b(rt);const ht=URL.createObjectURL(rt);_(ht)}else alert("Please select a PDF file.")},[b,_]),et=reactExports.useCallback(rt=>{rt.preventDefault();const it=Array.from(rt.dataTransfer.files);it.length>0&&_e(it[0])},[_e]),nt=reactExports.useCallback(rt=>{rt.preventDefault()},[]),tt=reactExports.useCallback(rt=>{const it=rt.target.files;it&&it.length>0&&_e(it[0])},[_e]);return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col",children:[g&&jsxRuntimeExports.jsx("div",{className:"flex items-center p-6 bg-white shadow-sm",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:g,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Home"]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl w-full text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Guardian Redact"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-muted-foreground mb-2",children:"Privacy-first document redaction powered by Gemma 3n AI"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Your documents never leave your device. All processing happens offline."})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Choose Redaction Profile"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 justify-center",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>j("quick"),className:`p-4 border-2 rounded-lg transition-colors ${$==="quick"?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"}`,children:[jsxRuntimeExports.jsx("div",{className:"font-semibold mb-2",children:"Quick Scan"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Fast analysis for common sensitive data"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>j("deep"),className:`p-4 border-2 rounded-lg transition-colors ${$==="deep"?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-primary/5"}`,children:[jsxRuntimeExports.jsx("div",{className:"font-semibold mb-2",children:"🔍 Deep Analysis [Future] "}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"Comprehensive analysis using Advanced Gemma 3n Model (Future)"})]})]})]}),jsxRuntimeExports.jsx("div",{onDrop:et,onDragOver:nt,className:"border-2 border-dashed border-border rounded-lg p-12 hover:border-primary/50 transition-colors cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-primary/10 rounded-full mb-4",children:jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-primary"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Upload PDF Document"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:"Drag and drop your PDF here, or click to browse"}),jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf",onChange:tt,className:"hidden",id:"file-input"}),jsxRuntimeExports.jsxs("label",{htmlFor:"file-input",className:"inline-flex items-center px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors cursor-pointer",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 mr-2"}),"Choose PDF File"]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 p-4 bg-muted rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"100% Offline Processing"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Your document is processed entirely on your device using local AI models. No data is sent to external servers."})]})]})})]})};function createContextScope(g,b=[]){let _=[];function j(_e,et){const nt=reactExports.createContext(et),tt=_.length;_=[..._,et];const rt=ht=>{var st;const{scope:ut,children:lt,...pt}=ht,vt=((st=ut==null?void 0:ut[g])==null?void 0:st[tt])||nt,yt=reactExports.useMemo(()=>pt,Object.values(pt));return jsxRuntimeExports.jsx(vt.Provider,{value:yt,children:lt})};rt.displayName=_e+"Provider";function it(ht,ut){var vt;const lt=((vt=ut==null?void 0:ut[g])==null?void 0:vt[tt])||nt,pt=reactExports.useContext(lt);if(pt)return pt;if(et!==void 0)return et;throw new Error(`\`${ht}\` must be used within \`${_e}\``)}return[rt,it]}const $=()=>{const _e=_.map(et=>reactExports.createContext(et));return function(nt){const tt=(nt==null?void 0:nt[g])||_e;return reactExports.useMemo(()=>({[`__scope${g}`]:{...nt,[g]:tt}}),[nt,tt])}};return $.scopeName=g,[j,composeContextScopes($,...b)]}function composeContextScopes(...g){const b=g[0];if(g.length===1)return b;const _=()=>{const j=g.map($=>({useScope:$(),scopeName:$.scopeName}));return function(_e){const et=j.reduce((nt,{useScope:tt,scopeName:rt})=>{const ht=tt(_e)[`__scope${rt}`];return{...nt,...ht}},{});return reactExports.useMemo(()=>({[`__scope${b.scopeName}`]:et}),[et])}};return _.scopeName=b.scopeName,_}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((g,b)=>{const _=createSlot(`Primitive.${b}`),j=reactExports.forwardRef(($,_e)=>{const{asChild:et,...nt}=$,tt=et?_:b;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(tt,{...nt,ref:_e})});return j.displayName=`Primitive.${b}`,{...g,[b]:j}},{}),PROGRESS_NAME="Progress",DEFAULT_MAX=100,[createProgressContext,createProgressScope]=createContextScope(PROGRESS_NAME),[ProgressProvider,useProgressContext]=createProgressContext(PROGRESS_NAME),Progress$1=reactExports.forwardRef((g,b)=>{const{__scopeProgress:_,value:j=null,max:$,getValueLabel:_e=defaultGetValueLabel,...et}=g;($||$===0)&&!isValidMaxNumber($)&&console.error(getInvalidMaxError(`${$}`,"Progress"));const nt=isValidMaxNumber($)?$:DEFAULT_MAX;j!==null&&!isValidValueNumber(j,nt)&&console.error(getInvalidValueError(`${j}`,"Progress"));const tt=isValidValueNumber(j,nt)?j:null,rt=isNumber(tt)?_e(tt,nt):void 0;return jsxRuntimeExports.jsx(ProgressProvider,{scope:_,value:tt,max:nt,children:jsxRuntimeExports.jsx(Primitive.div,{"aria-valuemax":nt,"aria-valuemin":0,"aria-valuenow":isNumber(tt)?tt:void 0,"aria-valuetext":rt,role:"progressbar","data-state":getProgressState(tt,nt),"data-value":tt??void 0,"data-max":nt,...et,ref:b})})});Progress$1.displayName=PROGRESS_NAME;var INDICATOR_NAME="ProgressIndicator",ProgressIndicator=reactExports.forwardRef((g,b)=>{const{__scopeProgress:_,...j}=g,$=useProgressContext(INDICATOR_NAME,_);return jsxRuntimeExports.jsx(Primitive.div,{"data-state":getProgressState($.value,$.max),"data-value":$.value??void 0,"data-max":$.max,...j,ref:b})});ProgressIndicator.displayName=INDICATOR_NAME;function defaultGetValueLabel(g,b){return`${Math.round(g/b*100)}%`}function getProgressState(g,b){return g==null?"indeterminate":g===b?"complete":"loading"}function isNumber(g){return typeof g=="number"}function isValidMaxNumber(g){return isNumber(g)&&!isNaN(g)&&g>0}function isValidValueNumber(g,b){return isNumber(g)&&!isNaN(g)&&g<=b&&g>=0}function getInvalidMaxError(g,b){return`Invalid prop \`max\` of value \`${g}\` supplied to \`${b}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DEFAULT_MAX}\`.`}function getInvalidValueError(g,b){return`Invalid prop \`value\` of value \`${g}\` supplied to \`${b}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DEFAULT_MAX} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Root$2=Progress$1,Indicator=ProgressIndicator;const Progress=reactExports.forwardRef(({className:g,value:b,..._},j)=>jsxRuntimeExports.jsx(Root$2,{ref:j,className:cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",g),..._,children:jsxRuntimeExports.jsx(Indicator,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})}));Progress.displayName=Root$2.displayName;const Card=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",g),...b}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("flex flex-col space-y-1.5 p-6",g),...b}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsx("h3",{ref:_,className:cn("text-2xl font-semibold leading-none tracking-tight",g),...b}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsx("p",{ref:_,className:cn("text-sm text-muted-foreground",g),...b}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("p-6 pt-0",g),...b}));CardContent.displayName="CardContent";const CardFooter=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsx("div",{ref:_,className:cn("flex items-center p-6 pt-0",g),...b}));CardFooter.displayName="CardFooter";const badgeVariants=cva("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:g,variant:b,..._}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:b}),g),..._})}function createCollection(g){const b=g+"CollectionProvider",[_,j]=createContextScope(b),[$,_e]=_(b,{collectionRef:{current:null},itemMap:new Map}),et=vt=>{const{scope:yt,children:st}=vt,ot=React$2.useRef(null),mt=React$2.useRef(new Map).current;return jsxRuntimeExports.jsx($,{scope:yt,itemMap:mt,collectionRef:ot,children:st})};et.displayName=b;const nt=g+"CollectionSlot",tt=createSlot(nt),rt=React$2.forwardRef((vt,yt)=>{const{scope:st,children:ot}=vt,mt=_e(nt,st),ft=useComposedRefs(yt,mt.collectionRef);return jsxRuntimeExports.jsx(tt,{ref:ft,children:ot})});rt.displayName=nt;const it=g+"CollectionItemSlot",ht="data-radix-collection-item",ut=createSlot(it),lt=React$2.forwardRef((vt,yt)=>{const{scope:st,children:ot,...mt}=vt,ft=React$2.useRef(null),ct=useComposedRefs(yt,ft),xt=_e(it,st);return React$2.useEffect(()=>(xt.itemMap.set(ft,{ref:ft,...mt}),()=>void xt.itemMap.delete(ft))),jsxRuntimeExports.jsx(ut,{[ht]:"",ref:ct,children:ot})});lt.displayName=it;function pt(vt){const yt=_e(g+"CollectionConsumer",vt);return React$2.useCallback(()=>{const ot=yt.collectionRef.current;if(!ot)return[];const mt=Array.from(ot.querySelectorAll(`[${ht}]`));return Array.from(yt.itemMap.values()).sort((xt,dt)=>mt.indexOf(xt.ref.current)-mt.indexOf(dt.ref.current))},[yt.collectionRef,yt.itemMap])}return[{Provider:et,Slot:rt,ItemSlot:lt},pt,j]}function composeEventHandlers$1(g,b,{checkForDefaultPrevented:_=!0}={}){return function($){if(g==null||g($),_===!1||!$.defaultPrevented)return b==null?void 0:b($)}}var useLayoutEffect2=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},useInsertionEffect=React$3[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:g,defaultProp:b,onChange:_=()=>{},caller:j}){const[$,_e,et]=useUncontrolledState({defaultProp:b,onChange:_}),nt=g!==void 0,tt=nt?g:$;{const it=reactExports.useRef(g!==void 0);reactExports.useEffect(()=>{const ht=it.current;ht!==nt&&console.warn(`${j} is changing from ${ht?"controlled":"uncontrolled"} to ${nt?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),it.current=nt},[nt,j])}const rt=reactExports.useCallback(it=>{var ht;if(nt){const ut=isFunction(it)?it(g):it;ut!==g&&((ht=et.current)==null||ht.call(et,ut))}else _e(it)},[nt,g,_e,et]);return[tt,rt]}function useUncontrolledState({defaultProp:g,onChange:b}){const[_,j]=reactExports.useState(g),$=reactExports.useRef(_),_e=reactExports.useRef(b);return useInsertionEffect(()=>{_e.current=b},[b]),reactExports.useEffect(()=>{var et;$.current!==_&&((et=_e.current)==null||et.call(_e,_),$.current=_)},[_,$]),[_,j,_e]}function isFunction(g){return typeof g=="function"}function useStateMachine(g,b){return reactExports.useReducer((_,j)=>b[_][j]??_,g)}var Presence=g=>{const{present:b,children:_}=g,j=usePresence(b),$=typeof _=="function"?_({present:j.isPresent}):reactExports.Children.only(_),_e=useComposedRefs(j.ref,getElementRef($));return typeof _=="function"||j.isPresent?reactExports.cloneElement($,{ref:_e}):null};Presence.displayName="Presence";function usePresence(g){const[b,_]=reactExports.useState(),j=reactExports.useRef(null),$=reactExports.useRef(g),_e=reactExports.useRef("none"),et=g?"mounted":"unmounted",[nt,tt]=useStateMachine(et,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const rt=getAnimationName(j.current);_e.current=nt==="mounted"?rt:"none"},[nt]),useLayoutEffect2(()=>{const rt=j.current,it=$.current;if(it!==g){const ut=_e.current,lt=getAnimationName(rt);g?tt("MOUNT"):lt==="none"||(rt==null?void 0:rt.display)==="none"?tt("UNMOUNT"):tt(it&&ut!==lt?"ANIMATION_OUT":"UNMOUNT"),$.current=g}},[g,tt]),useLayoutEffect2(()=>{if(b){let rt;const it=b.ownerDocument.defaultView??window,ht=lt=>{const vt=getAnimationName(j.current).includes(lt.animationName);if(lt.target===b&&vt&&(tt("ANIMATION_END"),!$.current)){const yt=b.style.animationFillMode;b.style.animationFillMode="forwards",rt=it.setTimeout(()=>{b.style.animationFillMode==="forwards"&&(b.style.animationFillMode=yt)})}},ut=lt=>{lt.target===b&&(_e.current=getAnimationName(j.current))};return b.addEventListener("animationstart",ut),b.addEventListener("animationcancel",ht),b.addEventListener("animationend",ht),()=>{it.clearTimeout(rt),b.removeEventListener("animationstart",ut),b.removeEventListener("animationcancel",ht),b.removeEventListener("animationend",ht)}}else tt("ANIMATION_END")},[b,tt]),{isPresent:["mounted","unmountSuspended"].includes(nt),ref:reactExports.useCallback(rt=>{j.current=rt?getComputedStyle(rt):null,_(rt)},[])}}function getAnimationName(g){return(g==null?void 0:g.animationName)||"none"}function getElementRef(g){var j,$;let b=(j=Object.getOwnPropertyDescriptor(g.props,"ref"))==null?void 0:j.get,_=b&&"isReactWarning"in b&&b.isReactWarning;return _?g.ref:(b=($=Object.getOwnPropertyDescriptor(g,"ref"))==null?void 0:$.get,_=b&&"isReactWarning"in b&&b.isReactWarning,_?g.props.ref:g.props.ref||g.ref)}var useReactId=React$3[" useId ".trim().toString()]||(()=>{}),count=0;function useId(g){const[b,_]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{_(j=>j??String(count++))},[g]),b?`radix-${b}`:""}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext,createCollapsibleScope]=createContextScope(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible=reactExports.forwardRef((g,b)=>{const{__scopeCollapsible:_,open:j,defaultOpen:$,disabled:_e,onOpenChange:et,...nt}=g,[tt,rt]=useControllableState({prop:j,defaultProp:$??!1,onChange:et,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:_,disabled:_e,contentId:useId(),open:tt,onOpenToggle:reactExports.useCallback(()=>rt(it=>!it),[rt]),children:jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$1(tt),"data-disabled":_e?"":void 0,...nt,ref:b})})});Collapsible.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$1="CollapsibleTrigger",CollapsibleTrigger=reactExports.forwardRef((g,b)=>{const{__scopeCollapsible:_,...j}=g,$=useCollapsibleContext(TRIGGER_NAME$1,_);return jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-controls":$.contentId,"aria-expanded":$.open||!1,"data-state":getState$1($.open),"data-disabled":$.disabled?"":void 0,disabled:$.disabled,...j,ref:b,onClick:composeEventHandlers$1(g.onClick,$.onOpenToggle)})});CollapsibleTrigger.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="CollapsibleContent",CollapsibleContent=reactExports.forwardRef((g,b)=>{const{forceMount:_,...j}=g,$=useCollapsibleContext(CONTENT_NAME$1,g.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:_||$.open,children:({present:_e})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...j,ref:b,present:_e})})});CollapsibleContent.displayName=CONTENT_NAME$1;var CollapsibleContentImpl=reactExports.forwardRef((g,b)=>{const{__scopeCollapsible:_,present:j,children:$,..._e}=g,et=useCollapsibleContext(CONTENT_NAME$1,_),[nt,tt]=reactExports.useState(j),rt=reactExports.useRef(null),it=useComposedRefs(b,rt),ht=reactExports.useRef(0),ut=ht.current,lt=reactExports.useRef(0),pt=lt.current,vt=et.open||nt,yt=reactExports.useRef(vt),st=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const ot=requestAnimationFrame(()=>yt.current=!1);return()=>cancelAnimationFrame(ot)},[]),useLayoutEffect2(()=>{const ot=rt.current;if(ot){st.current=st.current||{transitionDuration:ot.style.transitionDuration,animationName:ot.style.animationName},ot.style.transitionDuration="0s",ot.style.animationName="none";const mt=ot.getBoundingClientRect();ht.current=mt.height,lt.current=mt.width,yt.current||(ot.style.transitionDuration=st.current.transitionDuration,ot.style.animationName=st.current.animationName),tt(j)}},[et.open,j]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":getState$1(et.open),"data-disabled":et.disabled?"":void 0,id:et.contentId,hidden:!vt,..._e,ref:it,style:{"--radix-collapsible-content-height":ut?`${ut}px`:void 0,"--radix-collapsible-content-width":pt?`${pt}px`:void 0,...g.style},children:vt&&$})});function getState$1(g){return g?"open":"closed"}var Root$1=Collapsible,Trigger=CollapsibleTrigger,Content=CollapsibleContent,DirectionContext=reactExports.createContext(void 0);function useDirection(g){const b=reactExports.useContext(DirectionContext);return g||b||"ltr"}var ACCORDION_NAME="Accordion",ACCORDION_KEYS=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(ACCORDION_NAME),[createAccordionContext,createAccordionScope]=createContextScope(ACCORDION_NAME,[createCollectionScope$1,createCollapsibleScope]),useCollapsibleScope=createCollapsibleScope(),Accordion$1=React$2.forwardRef((g,b)=>{const{type:_,...j}=g,$=j,_e=j;return jsxRuntimeExports.jsx(Collection$1.Provider,{scope:g.__scopeAccordion,children:_==="multiple"?jsxRuntimeExports.jsx(AccordionImplMultiple,{..._e,ref:b}):jsxRuntimeExports.jsx(AccordionImplSingle,{...$,ref:b})})});Accordion$1.displayName=ACCORDION_NAME;var[AccordionValueProvider,useAccordionValueContext]=createAccordionContext(ACCORDION_NAME),[AccordionCollapsibleProvider,useAccordionCollapsibleContext]=createAccordionContext(ACCORDION_NAME,{collapsible:!1}),AccordionImplSingle=React$2.forwardRef((g,b)=>{const{value:_,defaultValue:j,onValueChange:$=()=>{},collapsible:_e=!1,...et}=g,[nt,tt]=useControllableState({prop:_,defaultProp:j??"",onChange:$,caller:ACCORDION_NAME});return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:g.__scopeAccordion,value:React$2.useMemo(()=>nt?[nt]:[],[nt]),onItemOpen:tt,onItemClose:React$2.useCallback(()=>_e&&tt(""),[_e,tt]),children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:g.__scopeAccordion,collapsible:_e,children:jsxRuntimeExports.jsx(AccordionImpl,{...et,ref:b})})})}),AccordionImplMultiple=React$2.forwardRef((g,b)=>{const{value:_,defaultValue:j,onValueChange:$=()=>{},..._e}=g,[et,nt]=useControllableState({prop:_,defaultProp:j??[],onChange:$,caller:ACCORDION_NAME}),tt=React$2.useCallback(it=>nt((ht=[])=>[...ht,it]),[nt]),rt=React$2.useCallback(it=>nt((ht=[])=>ht.filter(ut=>ut!==it)),[nt]);return jsxRuntimeExports.jsx(AccordionValueProvider,{scope:g.__scopeAccordion,value:et,onItemOpen:tt,onItemClose:rt,children:jsxRuntimeExports.jsx(AccordionCollapsibleProvider,{scope:g.__scopeAccordion,collapsible:!0,children:jsxRuntimeExports.jsx(AccordionImpl,{..._e,ref:b})})})}),[AccordionImplProvider,useAccordionContext]=createAccordionContext(ACCORDION_NAME),AccordionImpl=React$2.forwardRef((g,b)=>{const{__scopeAccordion:_,disabled:j,dir:$,orientation:_e="vertical",...et}=g,nt=React$2.useRef(null),tt=useComposedRefs(nt,b),rt=useCollection$1(_),ht=useDirection($)==="ltr",ut=composeEventHandlers$1(g.onKeyDown,lt=>{var gt;if(!ACCORDION_KEYS.includes(lt.key))return;const pt=lt.target,vt=rt().filter(St=>{var kt;return!((kt=St.ref.current)!=null&&kt.disabled)}),yt=vt.findIndex(St=>St.ref.current===pt),st=vt.length;if(yt===-1)return;lt.preventDefault();let ot=yt;const mt=0,ft=st-1,ct=()=>{ot=yt+1,ot>ft&&(ot=mt)},xt=()=>{ot=yt-1,ot<mt&&(ot=ft)};switch(lt.key){case"Home":ot=mt;break;case"End":ot=ft;break;case"ArrowRight":_e==="horizontal"&&(ht?ct():xt());break;case"ArrowDown":_e==="vertical"&&ct();break;case"ArrowLeft":_e==="horizontal"&&(ht?xt():ct());break;case"ArrowUp":_e==="vertical"&&xt();break}const dt=ot%st;(gt=vt[dt].ref.current)==null||gt.focus()});return jsxRuntimeExports.jsx(AccordionImplProvider,{scope:_,disabled:j,direction:$,orientation:_e,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:_,children:jsxRuntimeExports.jsx(Primitive.div,{...et,"data-orientation":_e,ref:tt,onKeyDown:j?void 0:ut})})})}),ITEM_NAME="AccordionItem",[AccordionItemProvider,useAccordionItemContext]=createAccordionContext(ITEM_NAME),AccordionItem$1=React$2.forwardRef((g,b)=>{const{__scopeAccordion:_,value:j,...$}=g,_e=useAccordionContext(ITEM_NAME,_),et=useAccordionValueContext(ITEM_NAME,_),nt=useCollapsibleScope(_),tt=useId(),rt=j&&et.value.includes(j)||!1,it=_e.disabled||g.disabled;return jsxRuntimeExports.jsx(AccordionItemProvider,{scope:_,open:rt,disabled:it,triggerId:tt,children:jsxRuntimeExports.jsx(Root$1,{"data-orientation":_e.orientation,"data-state":getState(rt),...nt,...$,ref:b,disabled:it,open:rt,onOpenChange:ht=>{ht?et.onItemOpen(j):et.onItemClose(j)}})})});AccordionItem$1.displayName=ITEM_NAME;var HEADER_NAME="AccordionHeader",AccordionHeader=React$2.forwardRef((g,b)=>{const{__scopeAccordion:_,...j}=g,$=useAccordionContext(ACCORDION_NAME,_),_e=useAccordionItemContext(HEADER_NAME,_);return jsxRuntimeExports.jsx(Primitive.h3,{"data-orientation":$.orientation,"data-state":getState(_e.open),"data-disabled":_e.disabled?"":void 0,...j,ref:b})});AccordionHeader.displayName=HEADER_NAME;var TRIGGER_NAME="AccordionTrigger",AccordionTrigger$1=React$2.forwardRef((g,b)=>{const{__scopeAccordion:_,...j}=g,$=useAccordionContext(ACCORDION_NAME,_),_e=useAccordionItemContext(TRIGGER_NAME,_),et=useAccordionCollapsibleContext(TRIGGER_NAME,_),nt=useCollapsibleScope(_);return jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:_,children:jsxRuntimeExports.jsx(Trigger,{"aria-disabled":_e.open&&!et.collapsible||void 0,"data-orientation":$.orientation,id:_e.triggerId,...nt,...j,ref:b})})});AccordionTrigger$1.displayName=TRIGGER_NAME;var CONTENT_NAME="AccordionContent",AccordionContent$1=React$2.forwardRef((g,b)=>{const{__scopeAccordion:_,...j}=g,$=useAccordionContext(ACCORDION_NAME,_),_e=useAccordionItemContext(CONTENT_NAME,_),et=useCollapsibleScope(_);return jsxRuntimeExports.jsx(Content,{role:"region","aria-labelledby":_e.triggerId,"data-orientation":$.orientation,...et,...j,ref:b,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...g.style}})});AccordionContent$1.displayName=CONTENT_NAME;function getState(g){return g?"open":"closed"}var Root2=Accordion$1,Item=AccordionItem$1,Header=AccordionHeader,Trigger2=AccordionTrigger$1,Content2=AccordionContent$1;const Accordion=Root2,AccordionItem=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsx(Item,{ref:_,className:cn("border-b",g),...b}));AccordionItem.displayName="AccordionItem";const AccordionTrigger=reactExports.forwardRef(({className:g,children:b,..._},j)=>jsxRuntimeExports.jsx(Header,{className:"flex",children:jsxRuntimeExports.jsxs(Trigger2,{ref:j,className:cn("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",g),..._,children:[b,jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));AccordionTrigger.displayName=Trigger2.displayName;const AccordionContent=reactExports.forwardRef(({className:g,children:b,..._},j)=>jsxRuntimeExports.jsx(Content2,{ref:j,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",..._,children:jsxRuntimeExports.jsx("div",{className:cn("pb-4 pt-0",g),children:b})}));AccordionContent.displayName=Content2.displayName;const RedactionSidebar=()=>{const{redactionSuggestions:g,toggleRedactionAcceptance:b,acceptAllRedactions:_,acceptPageRedactions:j,setSelectedRedaction:$,selectedRedaction:_e,setCurrentPage:et}=useAppStore(),nt=()=>{const lt=[];return g.forEach((pt,vt)=>{pt.length>0&&lt.push({page:vt,suggestions:pt})}),lt.sort((pt,vt)=>pt.page-vt.page)},tt=()=>{let lt=0;return g.forEach(pt=>{lt+=pt.length}),lt},rt=()=>{let lt=0;return g.forEach(pt=>{lt+=pt.filter(vt=>vt.accepted).length}),lt},it=lt=>{switch(lt){case"PII":return"bg-red-100 text-red-800";case"CONTACT":return"bg-blue-100 text-blue-800";case"FINANCIAL":return"bg-green-100 text-green-800";case"MEDICAL":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},ht=lt=>{$(lt),et(lt.coordinates.page)},ut=nt();return ut.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b flex-shrink-0",children:jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Redaction Suggestions"})}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-center",children:"Suggestions will appear here as pages are processed."})})]}):jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"Redaction Suggestions"}),jsxRuntimeExports.jsx(Button,{onClick:_,size:"sm",className:"h-8",disabled:tt()===0,children:"Approve All"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:[tt()," found"]}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsxs("span",{children:[rt()," accepted"]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:jsxRuntimeExports.jsx(Accordion,{type:"multiple",className:"w-full",children:ut.map(({page:lt,suggestions:pt})=>jsxRuntimeExports.jsxs(AccordionItem,{value:`page-${lt}`,children:[jsxRuntimeExports.jsx(AccordionTrigger,{className:"hover:no-underline",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between w-full mr-4",children:[jsxRuntimeExports.jsxs("span",{children:["Page ",lt]}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[pt.length," items"]})]})}),jsxRuntimeExports.jsx(AccordionContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-3",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>j(lt),size:"sm",variant:"outline",disabled:pt.every(vt=>vt.accepted)||pt.length===0,children:["Accept All on Page ",lt]})}),pt.map(vt=>jsxRuntimeExports.jsxs(Card,{className:`cursor-pointer transition-colors ${(_e==null?void 0:_e.id)===vt.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>ht(vt),children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Badge,{className:it(vt.category),children:vt.category}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(vt.confidence*100),"% confidence"]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"pt-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mb-2 break-words",children:vt.text}),vt.reason&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:vt.reason}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:vt.accepted?"default":"outline",onClick:yt=>{yt.stopPropagation(),b(lt,vt.id)},className:"flex-1",children:vt.accepted?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 mr-1"}),"Accepted"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 mr-1"}),"Accept"]})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:yt=>{yt.stopPropagation(),ht(vt)},children:jsxRuntimeExports.jsx(Eye,{className:"w-3 h-3"})})]})]})]},vt.id))]})})]},lt))})})]})};function commonjsRequire(g){throw new Error('Could not dynamically require "'+g+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(b,_){module.exports=b.pdfjsLib=_()})(globalThis,()=>(()=>{var __webpack_modules__=[,(g,b)=>{var $n;Object.defineProperty(b,"__esModule",{value:!0}),b.VerbosityLevel=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.RenderingIntentFlag=b.PromiseCapability=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.PageActionEventType=b.OPS=b.MissingPDFException=b.MAX_IMAGE_SIZE_TO_CACHE=b.LINE_FACTOR=b.LINE_DESCENT_FACTOR=b.InvalidPDFException=b.ImageKind=b.IDENTITY_MATRIX=b.FormatError=b.FeatureTest=b.FONT_IDENTITY_MATRIX=b.DocumentActionEventType=b.CMapCompressionType=b.BaseException=b.BASELINE_FACTOR=b.AnnotationType=b.AnnotationReplyType=b.AnnotationPrefix=b.AnnotationMode=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationEditorType=b.AnnotationEditorPrefix=b.AnnotationEditorParamsType=b.AnnotationBorderStyleType=b.AnnotationActionEventType=b.AbortException=void 0,b.assert=At,b.bytesToString=on,b.createValidAbsoluteUrl=Vt,b.getModificationDate=yn,b.getUuid=kn,b.getVerbosityLevel=Bt,b.info=Wt,b.isArrayBuffer=Ut,b.isArrayEqual=bn,b.isNodeJS=void 0,b.normalizeUnicode=wn,b.objectFromMap=mn,b.objectSize=pn,b.setVerbosityLevel=Ht,b.shadow=Pt,b.string32=fn,b.stringToBytes=ln,b.stringToPDFString=dn,b.stringToUTF8String=xn,b.unreachable=It,b.utf8StringToString=Zt,b.warn=Dt;const _=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");b.isNodeJS=_;const j=[1,0,0,1,0,0];b.IDENTITY_MATRIX=j;const $=[.001,0,0,.001,0,0];b.FONT_IDENTITY_MATRIX=$;const _e=1e7;b.MAX_IMAGE_SIZE_TO_CACHE=_e;const et=1.35;b.LINE_FACTOR=et;const nt=.35;b.LINE_DESCENT_FACTOR=nt;const tt=nt/et;b.BASELINE_FACTOR=tt;const rt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};b.RenderingIntentFlag=rt;const it={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};b.AnnotationMode=it;const ht="pdfjs_internal_editor_";b.AnnotationEditorPrefix=ht;const ut={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};b.AnnotationEditorType=ut;const lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};b.AnnotationEditorParamsType=lt;const pt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};b.PermissionFlag=pt;const vt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.TextRenderingMode=vt;const yt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.ImageKind=yt;const st={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.AnnotationType=st;const ot={GROUP:"Group",REPLY:"R"};b.AnnotationReplyType=ot;const mt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};b.AnnotationFlag=mt;const ft={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationFieldFlag=ft;const ct={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.AnnotationBorderStyleType=ct;const xt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};b.AnnotationActionEventType=xt;const dt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};b.DocumentActionEventType=dt;const gt={O:"PageOpen",C:"PageClose"};b.PageActionEventType=gt;const St={ERRORS:0,WARNINGS:1,INFOS:5};b.VerbosityLevel=St;const kt={NONE:0,BINARY:1};b.CMapCompressionType=kt;const bt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.OPS=bt;const wt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};b.PasswordResponses=wt;let Tt=St.WARNINGS;function Ht(gn){Number.isInteger(gn)&&(Tt=gn)}function Bt(){return Tt}function Wt(gn){Tt>=St.INFOS&&console.log(`Info: ${gn}`)}function Dt(gn){Tt>=St.WARNINGS&&console.log(`Warning: ${gn}`)}function It(gn){throw new Error(gn)}function At(gn,tn){gn||It(tn)}function Ft(gn){switch(gn==null?void 0:gn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Vt(gn,tn=null,rn=null){if(!gn)return null;try{if(rn&&typeof gn=="string"){if(rn.addDefaultProtocol&&gn.startsWith("www.")){const Un=gn.match(/\./g);(Un==null?void 0:Un.length)>=2&&(gn=`http://${gn}`)}if(rn.tryConvertEncoding)try{gn=xn(gn)}catch{}}const An=tn?new URL(gn,tn):new URL(gn);if(Ft(An))return An}catch{}return null}function Pt(gn,tn,rn,An=!1){return Object.defineProperty(gn,tn,{value:rn,enumerable:!An,configurable:!0,writable:!1}),rn}const Et=function(){function tn(rn,An){this.constructor===tn&&It("Cannot initialize BaseException."),this.message=rn,this.name=An}return tn.prototype=new Error,tn.constructor=tn,tn}();b.BaseException=Et;class _t extends Et{constructor(tn,rn){super(tn,"PasswordException"),this.code=rn}}b.PasswordException=_t;class Ct extends Et{constructor(tn,rn){super(tn,"UnknownErrorException"),this.details=rn}}b.UnknownErrorException=Ct;class Mt extends Et{constructor(tn){super(tn,"InvalidPDFException")}}b.InvalidPDFException=Mt;class Nt extends Et{constructor(tn){super(tn,"MissingPDFException")}}b.MissingPDFException=Nt;class zt extends Et{constructor(tn,rn){super(tn,"UnexpectedResponseException"),this.status=rn}}b.UnexpectedResponseException=zt;class Xt extends Et{constructor(tn){super(tn,"FormatError")}}b.FormatError=Xt;class Jt extends Et{constructor(tn){super(tn,"AbortException")}}b.AbortException=Jt;function on(gn){(typeof gn!="object"||(gn==null?void 0:gn.length)===void 0)&&It("Invalid argument for bytesToString");const tn=gn.length,rn=8192;if(tn<rn)return String.fromCharCode.apply(null,gn);const An=[];for(let Un=0;Un<tn;Un+=rn){const Vn=Math.min(Un+rn,tn),$t=gn.subarray(Un,Vn);An.push(String.fromCharCode.apply(null,$t))}return An.join("")}function ln(gn){typeof gn!="string"&&It("Invalid argument for stringToBytes");const tn=gn.length,rn=new Uint8Array(tn);for(let An=0;An<tn;++An)rn[An]=gn.charCodeAt(An)&255;return rn}function fn(gn){return String.fromCharCode(gn>>24&255,gn>>16&255,gn>>8&255,gn&255)}function pn(gn){return Object.keys(gn).length}function mn(gn){const tn=Object.create(null);for(const[rn,An]of gn)tn[rn]=An;return tn}function Yt(){const gn=new Uint8Array(4);return gn[0]=1,new Uint32Array(gn.buffer,0,1)[0]===1}function Kt(){try{return new Function(""),!0}catch{return!1}}class Rt{static get isLittleEndian(){return Pt(this,"isLittleEndian",Yt())}static get isEvalSupported(){return Pt(this,"isEvalSupported",Kt())}static get isOffscreenCanvasSupported(){return Pt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?Pt(this,"platform",{isWin:!1,isMac:!1}):Pt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var tn,rn;return Pt(this,"isCSSRoundSupported",(rn=(tn=globalThis.CSS)==null?void 0:tn.supports)==null?void 0:rn.call(tn,"width: round(1.5px, 1px)"))}}b.FeatureTest=Rt;const Ot=[...Array(256).keys()].map(gn=>gn.toString(16).padStart(2,"0"));class qt{static makeHexColor(tn,rn,An){return`#${Ot[tn]}${Ot[rn]}${Ot[An]}`}static scaleMinMax(tn,rn){let An;tn[0]?(tn[0]<0&&(An=rn[0],rn[0]=rn[1],rn[1]=An),rn[0]*=tn[0],rn[1]*=tn[0],tn[3]<0&&(An=rn[2],rn[2]=rn[3],rn[3]=An),rn[2]*=tn[3],rn[3]*=tn[3]):(An=rn[0],rn[0]=rn[2],rn[2]=An,An=rn[1],rn[1]=rn[3],rn[3]=An,tn[1]<0&&(An=rn[2],rn[2]=rn[3],rn[3]=An),rn[2]*=tn[1],rn[3]*=tn[1],tn[2]<0&&(An=rn[0],rn[0]=rn[1],rn[1]=An),rn[0]*=tn[2],rn[1]*=tn[2]),rn[0]+=tn[4],rn[1]+=tn[4],rn[2]+=tn[5],rn[3]+=tn[5]}static transform(tn,rn){return[tn[0]*rn[0]+tn[2]*rn[1],tn[1]*rn[0]+tn[3]*rn[1],tn[0]*rn[2]+tn[2]*rn[3],tn[1]*rn[2]+tn[3]*rn[3],tn[0]*rn[4]+tn[2]*rn[5]+tn[4],tn[1]*rn[4]+tn[3]*rn[5]+tn[5]]}static applyTransform(tn,rn){const An=tn[0]*rn[0]+tn[1]*rn[2]+rn[4],Un=tn[0]*rn[1]+tn[1]*rn[3]+rn[5];return[An,Un]}static applyInverseTransform(tn,rn){const An=rn[0]*rn[3]-rn[1]*rn[2],Un=(tn[0]*rn[3]-tn[1]*rn[2]+rn[2]*rn[5]-rn[4]*rn[3])/An,Vn=(-tn[0]*rn[1]+tn[1]*rn[0]+rn[4]*rn[1]-rn[5]*rn[0])/An;return[Un,Vn]}static getAxialAlignedBoundingBox(tn,rn){const An=this.applyTransform(tn,rn),Un=this.applyTransform(tn.slice(2,4),rn),Vn=this.applyTransform([tn[0],tn[3]],rn),$t=this.applyTransform([tn[2],tn[1]],rn);return[Math.min(An[0],Un[0],Vn[0],$t[0]),Math.min(An[1],Un[1],Vn[1],$t[1]),Math.max(An[0],Un[0],Vn[0],$t[0]),Math.max(An[1],Un[1],Vn[1],$t[1])]}static inverseTransform(tn){const rn=tn[0]*tn[3]-tn[1]*tn[2];return[tn[3]/rn,-tn[1]/rn,-tn[2]/rn,tn[0]/rn,(tn[2]*tn[5]-tn[4]*tn[3])/rn,(tn[4]*tn[1]-tn[5]*tn[0])/rn]}static singularValueDecompose2dScale(tn){const rn=[tn[0],tn[2],tn[1],tn[3]],An=tn[0]*rn[0]+tn[1]*rn[2],Un=tn[0]*rn[1]+tn[1]*rn[3],Vn=tn[2]*rn[0]+tn[3]*rn[2],$t=tn[2]*rn[1]+tn[3]*rn[3],hn=(An+$t)/2,_n=Math.sqrt((An+$t)**2-4*(An*$t-Vn*Un))/2,Tn=hn+_n||1,Dn=hn-_n||1;return[Math.sqrt(Tn),Math.sqrt(Dn)]}static normalizeRect(tn){const rn=tn.slice(0);return tn[0]>tn[2]&&(rn[0]=tn[2],rn[2]=tn[0]),tn[1]>tn[3]&&(rn[1]=tn[3],rn[3]=tn[1]),rn}static intersect(tn,rn){const An=Math.max(Math.min(tn[0],tn[2]),Math.min(rn[0],rn[2])),Un=Math.min(Math.max(tn[0],tn[2]),Math.max(rn[0],rn[2]));if(An>Un)return null;const Vn=Math.max(Math.min(tn[1],tn[3]),Math.min(rn[1],rn[3])),$t=Math.min(Math.max(tn[1],tn[3]),Math.max(rn[1],rn[3]));return Vn>$t?null:[An,Vn,Un,$t]}static bezierBoundingBox(tn,rn,An,Un,Vn,$t,hn,_n){const Tn=[],Dn=[[],[]];let Cn,Lt,jt,Gt,an,un,vn,En;for(let On=0;On<2;++On){if(On===0?(Lt=6*tn-12*An+6*Vn,Cn=-3*tn+9*An-9*Vn+3*hn,jt=3*An-3*tn):(Lt=6*rn-12*Un+6*$t,Cn=-3*rn+9*Un-9*$t+3*_n,jt=3*Un-3*rn),Math.abs(Cn)<1e-12){if(Math.abs(Lt)<1e-12)continue;Gt=-jt/Lt,0<Gt&&Gt<1&&Tn.push(Gt);continue}vn=Lt*Lt-4*jt*Cn,En=Math.sqrt(vn),!(vn<0)&&(an=(-Lt+En)/(2*Cn),0<an&&an<1&&Tn.push(an),un=(-Lt-En)/(2*Cn),0<un&&un<1&&Tn.push(un))}let jn=Tn.length,Rn;const Sn=jn;for(;jn--;)Gt=Tn[jn],Rn=1-Gt,Dn[0][jn]=Rn*Rn*Rn*tn+3*Rn*Rn*Gt*An+3*Rn*Gt*Gt*Vn+Gt*Gt*Gt*hn,Dn[1][jn]=Rn*Rn*Rn*rn+3*Rn*Rn*Gt*Un+3*Rn*Gt*Gt*$t+Gt*Gt*Gt*_n;return Dn[0][Sn]=tn,Dn[1][Sn]=rn,Dn[0][Sn+1]=hn,Dn[1][Sn+1]=_n,Dn[0].length=Dn[1].length=Sn+2,[Math.min(...Dn[0]),Math.min(...Dn[1]),Math.max(...Dn[0]),Math.max(...Dn[1])]}}b.Util=qt;const en=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function dn(gn){if(gn[0]>="ï"){let rn;if(gn[0]==="þ"&&gn[1]==="ÿ"?rn="utf-16be":gn[0]==="ÿ"&&gn[1]==="þ"?rn="utf-16le":gn[0]==="ï"&&gn[1]==="»"&&gn[2]==="¿"&&(rn="utf-8"),rn)try{const An=new TextDecoder(rn,{fatal:!0}),Un=ln(gn);return An.decode(Un)}catch(An){Dt(`stringToPDFString: "${An}".`)}}const tn=[];for(let rn=0,An=gn.length;rn<An;rn++){const Un=en[gn.charCodeAt(rn)];tn.push(Un?String.fromCharCode(Un):gn.charAt(rn))}return tn.join("")}function xn(gn){return decodeURIComponent(escape(gn))}function Zt(gn){return unescape(encodeURIComponent(gn))}function Ut(gn){return typeof gn=="object"&&(gn==null?void 0:gn.byteLength)!==void 0}function bn(gn,tn){if(gn.length!==tn.length)return!1;for(let rn=0,An=gn.length;rn<An;rn++)if(gn[rn]!==tn[rn])return!1;return!0}function yn(gn=new Date){return[gn.getUTCFullYear().toString(),(gn.getUTCMonth()+1).toString().padStart(2,"0"),gn.getUTCDate().toString().padStart(2,"0"),gn.getUTCHours().toString().padStart(2,"0"),gn.getUTCMinutes().toString().padStart(2,"0"),gn.getUTCSeconds().toString().padStart(2,"0")].join("")}class In{constructor(){nn(this,$n,!1);this.promise=new Promise((tn,rn)=>{this.resolve=An=>{sn(this,$n,!0),tn(An)},this.reject=An=>{sn(this,$n,!0),rn(An)}})}get settled(){return at(this,$n)}}$n=new WeakMap,b.PromiseCapability=In;let Nn=null,Fn=null;function wn(gn){return Nn||(Nn=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Fn=new Map([["ﬅ","ſt"]])),gn.replaceAll(Nn,(tn,rn,An)=>rn?rn.normalize("NFKC"):Fn.get(An))}function kn(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const gn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(gn);else for(let tn=0;tn<32;tn++)gn[tn]=Math.floor(Math.random()*255);return on(gn)}const zn="pdfjs_internal_id_";b.AnnotationPrefix=zn},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var g,_,j,$,tr,fr,nt,tt,rt,it,ht,ut,lt,pt,vt,mr,st,ot,Pr,ft,ct;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(dt){if(typeof dt=="string"||dt instanceof URL?dt={url:dt}:(0,_util.isArrayBuffer)(dt)&&(dt={data:dt}),typeof dt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!dt.url&&!dt.data&&!dt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const gt=new PDFDocumentLoadingTask,{docId:St}=gt,kt=dt.url?getUrlProp(dt.url):null,bt=dt.data?getDataProp(dt.data):null,wt=dt.httpHeaders||null,Tt=dt.withCredentials===!0,Ht=dt.password??null,Bt=dt.range instanceof PDFDataRangeTransport?dt.range:null,Wt=Number.isInteger(dt.rangeChunkSize)&&dt.rangeChunkSize>0?dt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Dt=dt.worker instanceof PDFWorker?dt.worker:null;const It=dt.verbosity,At=typeof dt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(dt.docBaseUrl)?dt.docBaseUrl:null,Ft=typeof dt.cMapUrl=="string"?dt.cMapUrl:null,Vt=dt.cMapPacked!==!1,Pt=dt.CMapReaderFactory||DefaultCMapReaderFactory,Et=typeof dt.standardFontDataUrl=="string"?dt.standardFontDataUrl:null,_t=dt.StandardFontDataFactory||DefaultStandardFontDataFactory,Ct=dt.stopAtErrors!==!0,Mt=Number.isInteger(dt.maxImageSize)&&dt.maxImageSize>-1?dt.maxImageSize:-1,Nt=dt.isEvalSupported!==!1,zt=typeof dt.isOffscreenCanvasSupported=="boolean"?dt.isOffscreenCanvasSupported:!_util.isNodeJS,Xt=Number.isInteger(dt.canvasMaxAreaInBytes)?dt.canvasMaxAreaInBytes:-1,Jt=typeof dt.disableFontFace=="boolean"?dt.disableFontFace:_util.isNodeJS,on=dt.fontExtraProperties===!0,ln=dt.enableXfa===!0,fn=dt.ownerDocument||globalThis.document,pn=dt.disableRange===!0,mn=dt.disableStream===!0,Yt=dt.disableAutoFetch===!0,Kt=dt.pdfBug===!0,Rt=Bt?Bt.length:dt.length??NaN,Ot=typeof dt.useSystemFonts=="boolean"?dt.useSystemFonts:!_util.isNodeJS&&!Jt,qt=typeof dt.useWorkerFetch=="boolean"?dt.useWorkerFetch:Pt===_display_utils.DOMCMapReaderFactory&&_t===_display_utils.DOMStandardFontDataFactory&&Ft&&Et&&(0,_display_utils.isValidFetchUrl)(Ft,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Et,document.baseURI),en=dt.canvasFactory||new DefaultCanvasFactory({ownerDocument:fn}),dn=dt.filterFactory||new DefaultFilterFactory({docId:St,ownerDocument:fn}),xn=null;(0,_util.setVerbosityLevel)(It);const Zt={canvasFactory:en,filterFactory:dn};if(qt||(Zt.cMapReaderFactory=new Pt({baseUrl:Ft,isCompressed:Vt}),Zt.standardFontDataFactory=new _t({baseUrl:Et})),!Dt){const yn={verbosity:It,port:_worker_options.GlobalWorkerOptions.workerPort};Dt=yn.port?PDFWorker.fromPort(yn):new PDFWorker(yn),gt._worker=Dt}const Ut={docId:St,apiVersion:"3.11.174",data:bt,password:Ht,disableAutoFetch:Yt,rangeChunkSize:Wt,length:Rt,docBaseUrl:At,enableXfa:ln,evaluatorOptions:{maxImageSize:Mt,disableFontFace:Jt,ignoreErrors:Ct,isEvalSupported:Nt,isOffscreenCanvasSupported:zt,canvasMaxAreaInBytes:Xt,fontExtraProperties:on,useSystemFonts:Ot,cMapUrl:qt?Ft:null,standardFontDataUrl:qt?Et:null}},bn={ignoreErrors:Ct,isEvalSupported:Nt,disableFontFace:Jt,fontExtraProperties:on,enableXfa:ln,ownerDocument:fn,disableAutoFetch:Yt,pdfBug:Kt,styleElement:xn};return Dt.promise.then(function(){if(gt.destroyed)throw new Error("Loading aborted");const yn=_fetchDocument(Dt,Ut),In=new Promise(function(Nn){let Fn;Bt?Fn=new _transport_stream.PDFDataTransportStream({length:Rt,initialData:Bt.initialData,progressiveDone:Bt.progressiveDone,contentDispositionFilename:Bt.contentDispositionFilename,disableRange:pn,disableStream:mn},Bt):bt||(Fn=(kn=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(kn):(0,_display_utils.isValidFetchUrl)(kn.url)?new _displayFetch_stream.PDFFetchStream(kn):new _displayNetwork.PDFNetworkStream(kn))({url:kt,length:Rt,httpHeaders:wt,withCredentials:Tt,rangeChunkSize:Wt,disableRange:pn,disableStream:mn})),Nn(Fn)});return Promise.all([yn,In]).then(function([Nn,Fn]){if(gt.destroyed)throw new Error("Loading aborted");const wn=new _message_handler.MessageHandler(St,Nn,Dt.port),kn=new WorkerTransport(wn,gt,Fn,bn,Zt);gt._transport=kn,wn.send("Ready",null)})}).catch(gt._capability.reject),gt}async function _fetchDocument(dt,gt){if(dt.destroyed)throw new Error("Worker was destroyed");const St=await dt.messageHandler.sendWithPromise("GetDocRequest",gt,gt.data?[gt.data.buffer]:null);if(dt.destroyed)throw new Error("Worker was destroyed");return St}function getUrlProp(dt){if(dt instanceof URL)return dt.href;try{return new URL(dt,window.location).href}catch{if(_util.isNodeJS&&typeof dt=="string")return dt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(dt){if(_util.isNodeJS&&typeof Buffer<"u"&&dt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(dt instanceof Uint8Array&&dt.byteLength===dt.buffer.byteLength)return dt;if(typeof dt=="string")return(0,_util.stringToBytes)(dt);if(typeof dt=="object"&&!isNaN(dt==null?void 0:dt.length)||(0,_util.isArrayBuffer)(dt))return new Uint8Array(dt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const b=class b{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${or(b,g)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var gt,St,kt;this.destroyed=!0;try{(gt=this._worker)!=null&&gt.port&&(this._worker._pendingDestroy=!0),await((St=this._transport)==null?void 0:St.destroy())}catch(bt){throw(kt=this._worker)!=null&&kt.port&&delete this._worker._pendingDestroy,bt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};g=new WeakMap,nn(b,g,0);let PDFDocumentLoadingTask=b;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(gt,St,kt=!1,bt=null){this.length=gt,this.initialData=St,this.progressiveDone=kt,this.contentDispositionFilename=bt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(gt){this._rangeListeners.push(gt)}addProgressListener(gt){this._progressListeners.push(gt)}addProgressiveReadListener(gt){this._progressiveReadListeners.push(gt)}addProgressiveDoneListener(gt){this._progressiveDoneListeners.push(gt)}onDataRange(gt,St){for(const kt of this._rangeListeners)kt(gt,St)}onDataProgress(gt,St){this._readyCapability.promise.then(()=>{for(const kt of this._progressListeners)kt(gt,St)})}onDataProgressiveRead(gt){this._readyCapability.promise.then(()=>{for(const St of this._progressiveReadListeners)St(gt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const gt of this._progressiveDoneListeners)gt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(gt,St){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(gt,St){this._pdfInfo=gt,this._transport=St,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(kt=>{if(!kt)return kt;const bt=[];for(const wt in kt)bt.push(...kt[wt]);return bt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(gt){return this._transport.getPage(gt)}getPageIndex(gt){return this._transport.getPageIndex(gt)}getDestinations(){return this._transport.getDestinations()}getDestination(gt){return this._transport.getDestination(gt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(gt=!1){return this._transport.startCleanup(gt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(gt,St,kt,bt=!1){nn(this,$);nn(this,_,null);nn(this,j,!1);this._pageIndex=gt,this._pageInfo=St,this._transport=kt,this._stats=bt?new _display_utils.StatTimer:null,this._pdfBug=bt,this.commonObjs=kt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:gt,rotation:St=this.rotate,offsetX:kt=0,offsetY:bt=0,dontFlip:wt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:gt,rotation:St,offsetX:kt,offsetY:bt,dontFlip:wt})}getAnnotations({intent:gt="display"}={}){const St=this._transport.getRenderingIntent(gt);return this._transport.getAnnotations(this._pageIndex,St.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var gt;return((gt=this._transport._htmlForXfa)==null?void 0:gt.children[this._pageIndex])||null}render({canvasContext:gt,viewport:St,intent:kt="display",annotationMode:bt=_util.AnnotationMode.ENABLE,transform:wt=null,background:Tt=null,optionalContentConfigPromise:Ht=null,annotationCanvasMap:Bt=null,pageColors:Wt=null,printAnnotationStorage:Dt=null}){var _t,Ct;(_t=this._stats)==null||_t.time("Overall");const It=this._transport.getRenderingIntent(kt,bt,Dt);sn(this,j,!1),Qt(this,$,fr).call(this),Ht||(Ht=this._transport.getOptionalContentConfig());let At=this._intentStates.get(It.cacheKey);At||(At=Object.create(null),this._intentStates.set(It.cacheKey,At)),At.streamReaderCancelTimeout&&(clearTimeout(At.streamReaderCancelTimeout),At.streamReaderCancelTimeout=null);const Ft=!!(It.renderingIntent&_util.RenderingIntentFlag.PRINT);At.displayReadyCapability||(At.displayReadyCapability=new _util.PromiseCapability,At.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ct=this._stats)==null||Ct.time("Page Request"),this._pumpOperatorList(It));const Vt=Mt=>{var Nt,zt;At.renderTasks.delete(Pt),(this._maybeCleanupAfterRender||Ft)&&sn(this,j,!0),Qt(this,$,tr).call(this,!Ft),Mt?(Pt.capability.reject(Mt),this._abortOperatorList({intentState:At,reason:Mt instanceof Error?Mt:new Error(Mt)})):Pt.capability.resolve(),(Nt=this._stats)==null||Nt.timeEnd("Rendering"),(zt=this._stats)==null||zt.timeEnd("Overall")},Pt=new InternalRenderTask({callback:Vt,params:{canvasContext:gt,viewport:St,transform:wt,background:Tt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Bt,operatorList:At.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ft,pdfBug:this._pdfBug,pageColors:Wt});(At.renderTasks||(At.renderTasks=new Set)).add(Pt);const Et=Pt.task;return Promise.all([At.displayReadyCapability.promise,Ht]).then(([Mt,Nt])=>{var zt;if(this.destroyed){Vt();return}(zt=this._stats)==null||zt.time("Rendering"),Pt.initializeGraphics({transparency:Mt,optionalContentConfig:Nt}),Pt.operatorListChanged()}).catch(Vt),Et}getOperatorList({intent:gt="display",annotationMode:St=_util.AnnotationMode.ENABLE,printAnnotationStorage:kt=null}={}){var Bt;function bt(){Tt.operatorList.lastChunk&&(Tt.opListReadCapability.resolve(Tt.operatorList),Tt.renderTasks.delete(Ht))}const wt=this._transport.getRenderingIntent(gt,St,kt,!0);let Tt=this._intentStates.get(wt.cacheKey);Tt||(Tt=Object.create(null),this._intentStates.set(wt.cacheKey,Tt));let Ht;return Tt.opListReadCapability||(Ht=Object.create(null),Ht.operatorListChanged=bt,Tt.opListReadCapability=new _util.PromiseCapability,(Tt.renderTasks||(Tt.renderTasks=new Set)).add(Ht),Tt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Bt=this._stats)==null||Bt.time("Page Request"),this._pumpOperatorList(wt)),Tt.opListReadCapability.promise}streamTextContent({includeMarkedContent:gt=!1,disableNormalization:St=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:gt===!0,disableNormalization:St===!0},{highWaterMark:100,size(bt){return bt.items.length}})}getTextContent(gt={}){if(this._transport._htmlForXfa)return this.getXfa().then(kt=>_xfa_text.XfaText.textContent(kt));const St=this.streamTextContent(gt);return new Promise(function(kt,bt){function wt(){Tt.read().then(function({value:Bt,done:Wt}){if(Wt){kt(Ht);return}Object.assign(Ht.styles,Bt.styles),Ht.items.push(...Bt.items),wt()},bt)}const Tt=St.getReader(),Ht={items:[],styles:Object.create(null)};wt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const gt=[];for(const St of this._intentStates.values())if(this._abortOperatorList({intentState:St,reason:new Error("Page was destroyed."),force:!0}),!St.opListReadCapability)for(const kt of St.renderTasks)gt.push(kt.completed),kt.cancel();return this.objs.clear(),sn(this,j,!1),Qt(this,$,fr).call(this),Promise.all(gt)}cleanup(gt=!1){sn(this,j,!0);const St=Qt(this,$,tr).call(this,!1);return gt&&St&&this._stats&&(this._stats=new _display_utils.StatTimer),St}_startRenderPage(gt,St){var bt,wt;const kt=this._intentStates.get(St);kt&&((bt=this._stats)==null||bt.timeEnd("Page Request"),(wt=kt.displayReadyCapability)==null||wt.resolve(gt))}_renderPageChunk(gt,St){for(let kt=0,bt=gt.length;kt<bt;kt++)St.operatorList.fnArray.push(gt.fnArray[kt]),St.operatorList.argsArray.push(gt.argsArray[kt]);St.operatorList.lastChunk=gt.lastChunk,St.operatorList.separateAnnots=gt.separateAnnots;for(const kt of St.renderTasks)kt.operatorListChanged();gt.lastChunk&&Qt(this,$,tr).call(this,!0)}_pumpOperatorList({renderingIntent:gt,cacheKey:St,annotationStorageSerializable:kt}){const{map:bt,transfers:wt}=kt,Ht=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:gt,cacheKey:St,annotationStorage:bt},wt).getReader(),Bt=this._intentStates.get(St);Bt.streamReader=Ht;const Wt=()=>{Ht.read().then(({value:Dt,done:It})=>{if(It){Bt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Dt,Bt),Wt())},Dt=>{if(Bt.streamReader=null,!this._transport.destroyed){if(Bt.operatorList){Bt.operatorList.lastChunk=!0;for(const It of Bt.renderTasks)It.operatorListChanged();Qt(this,$,tr).call(this,!0)}if(Bt.displayReadyCapability)Bt.displayReadyCapability.reject(Dt);else if(Bt.opListReadCapability)Bt.opListReadCapability.reject(Dt);else throw Dt}})};Wt()}_abortOperatorList({intentState:gt,reason:St,force:kt=!1}){if(gt.streamReader){if(gt.streamReaderCancelTimeout&&(clearTimeout(gt.streamReaderCancelTimeout),gt.streamReaderCancelTimeout=null),!kt){if(gt.renderTasks.size>0)return;if(St instanceof _display_utils.RenderingCancelledException){let bt=RENDERING_CANCELLED_TIMEOUT;St.extraDelay>0&&St.extraDelay<1e3&&(bt+=St.extraDelay),gt.streamReaderCancelTimeout=setTimeout(()=>{gt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:gt,reason:St,force:!0})},bt);return}}if(gt.streamReader.cancel(new _util.AbortException(St.message)).catch(()=>{}),gt.streamReader=null,!this._transport.destroyed){for(const[bt,wt]of this._intentStates)if(wt===gt){this._intentStates.delete(bt);break}this.cleanup()}}}get stats(){return this._stats}}_=new WeakMap,j=new WeakMap,$=new WeakSet,tr=function(gt=!1){if(Qt(this,$,fr).call(this),!at(this,j)||this.destroyed)return!1;if(gt)return sn(this,_,setTimeout(()=>{sn(this,_,null),Qt(this,$,tr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:St,operatorList:kt}of this._intentStates.values())if(St.size>0||!kt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),sn(this,j,!1),!0},fr=function(){at(this,_)&&(clearTimeout(at(this,_)),sn(this,_,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){nn(this,nt,new Set);nn(this,tt,Promise.resolve())}postMessage(gt,St){const kt={data:structuredClone(gt,St?{transfer:St}:null)};at(this,tt).then(()=>{for(const bt of at(this,nt))bt.call(this,kt)})}addEventListener(gt,St){at(this,nt).add(St)}removeEventListener(gt,St){at(this,nt).delete(St)}terminate(){at(this,nt).clear()}}nt=new WeakMap,tt=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const dt=(rt=document==null?void 0:document.currentScript)==null?void 0:rt.src;dt&&(PDFWorkerUtil.fallbackWorkerSrc=dt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(dt,gt){let St;try{if(St=new URL(dt),!St.origin||St.origin==="null")return!1}catch{return!1}const kt=new URL(gt,St);return St.origin===kt.origin},PDFWorkerUtil.createCDNWrapper=function(dt){const gt=`importScripts("${dt}");`;return URL.createObjectURL(new Blob([gt]))}}const _PDFWorker=class _PDFWorker{constructor({name:dt=null,port:gt=null,verbosity:St=(0,_util.getVerbosityLevel)()}={}){var kt;if(this.name=dt,this.destroyed=!1,this.verbosity=St,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,gt){if((kt=at(_PDFWorker,it))!=null&&kt.has(gt))throw new Error("Cannot use more than one PDFWorker per port.");(at(_PDFWorker,it)||sn(_PDFWorker,it,new WeakMap)).set(gt,this),this._initializeFromPort(gt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(dt){this._port=dt,this._messageHandler=new _message_handler.MessageHandler("main","worker",dt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:dt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,dt)||(dt=PDFWorkerUtil.createCDNWrapper(new URL(dt,window.location).href));const gt=new Worker(dt),St=new _message_handler.MessageHandler("main","worker",gt),kt=()=>{gt.removeEventListener("error",bt),St.destroy(),gt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},bt=()=>{this._webWorker||kt()};gt.addEventListener("error",bt),St.on("test",Tt=>{if(gt.removeEventListener("error",bt),this.destroyed){kt();return}Tt?(this._messageHandler=St,this._port=gt,this._webWorker=gt,this._readyCapability.resolve(),St.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),St.destroy(),gt.terminate())}),St.on("ready",Tt=>{if(gt.removeEventListener("error",bt),this.destroyed){kt();return}try{wt()}catch{this._setupFakeWorker()}});const wt=()=>{const Tt=new Uint8Array;St.send("test",Tt,[Tt.buffer])};wt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(dt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const gt=new LoopbackPort;this._port=gt;const St=`fake${PDFWorkerUtil.fakeWorkerId++}`,kt=new _message_handler.MessageHandler(St+"_worker",St,gt);dt.setup(kt,gt);const bt=new _message_handler.MessageHandler(St,St+"_worker",gt);this._messageHandler=bt,this._readyCapability.resolve(),bt.send("configure",{verbosity:this.verbosity})}).catch(dt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${dt.message}".`))})}destroy(){var dt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(dt=at(_PDFWorker,it))==null||dt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(dt){var St;if(!(dt!=null&&dt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const gt=(St=at(this,it))==null?void 0:St.get(dt.port);if(gt){if(gt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return gt}return new _PDFWorker(dt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var dt;try{return((dt=globalThis.pdfjsWorker)==null?void 0:dt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};it=new WeakMap,nn(_PDFWorker,it);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(gt,St,kt,bt,wt){nn(this,vt);nn(this,ht,new Map);nn(this,ut,new Map);nn(this,lt,new Map);nn(this,pt,null);this.messageHandler=gt,this.loadingTask=St,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:bt.ownerDocument,styleElement:bt.styleElement}),this._params=bt,this.canvasFactory=wt.canvasFactory,this.filterFactory=wt.filterFactory,this.cMapReaderFactory=wt.cMapReaderFactory,this.standardFontDataFactory=wt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=kt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(gt,St=_util.AnnotationMode.ENABLE,kt=null,bt=!1){let wt=_util.RenderingIntentFlag.DISPLAY,Tt=_annotation_storage.SerializableEmpty;switch(gt){case"any":wt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":wt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${gt}`)}switch(St){case _util.AnnotationMode.DISABLE:wt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:wt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:wt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Tt=(wt&_util.RenderingIntentFlag.PRINT&&kt instanceof _annotation_storage.PrintAnnotationStorage?kt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${St}`)}return bt&&(wt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:wt,cacheKey:`${wt}_${Tt.hash}`,annotationStorageSerializable:Tt}}destroy(){var kt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(kt=at(this,pt))==null||kt.reject(new Error("Worker was destroyed during onPassword callback"));const gt=[];for(const bt of at(this,ut).values())gt.push(bt._destroy());at(this,ut).clear(),at(this,lt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const St=this.messageHandler.sendWithPromise("Terminate",null);return gt.push(St),Promise.all(gt).then(()=>{var bt;this.commonObjs.clear(),this.fontLoader.clear(),at(this,ht).clear(),this.filterFactory.destroy(),(bt=this._networkStream)==null||bt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:gt,loadingTask:St}=this;gt.on("GetReader",(kt,bt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=wt=>{this._lastProgress={loaded:wt.loaded,total:wt.total}},bt.onPull=()=>{this._fullReader.read().then(function({value:wt,done:Tt}){if(Tt){bt.close();return}(0,_util.assert)(wt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(wt),1,[wt])}).catch(wt=>{bt.error(wt)})},bt.onCancel=wt=>{this._fullReader.cancel(wt),bt.ready.catch(Tt=>{if(!this.destroyed)throw Tt})}}),gt.on("ReaderHeadersReady",kt=>{const bt=new _util.PromiseCapability,wt=this._fullReader;return wt.headersReady.then(()=>{var Tt;(!wt.isStreamingSupported||!wt.isRangeSupported)&&(this._lastProgress&&((Tt=St.onProgress)==null||Tt.call(St,this._lastProgress)),wt.onProgress=Ht=>{var Bt;(Bt=St.onProgress)==null||Bt.call(St,{loaded:Ht.loaded,total:Ht.total})}),bt.resolve({isStreamingSupported:wt.isStreamingSupported,isRangeSupported:wt.isRangeSupported,contentLength:wt.contentLength})},bt.reject),bt.promise}),gt.on("GetRangeReader",(kt,bt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const wt=this._networkStream.getRangeReader(kt.begin,kt.end);if(!wt){bt.close();return}bt.onPull=()=>{wt.read().then(function({value:Tt,done:Ht}){if(Ht){bt.close();return}(0,_util.assert)(Tt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(Tt),1,[Tt])}).catch(Tt=>{bt.error(Tt)})},bt.onCancel=Tt=>{wt.cancel(Tt),bt.ready.catch(Ht=>{if(!this.destroyed)throw Ht})}}),gt.on("GetDoc",({pdfInfo:kt})=>{this._numPages=kt.numPages,this._htmlForXfa=kt.htmlForXfa,delete kt.htmlForXfa,St._capability.resolve(new PDFDocumentProxy(kt,this))}),gt.on("DocException",function(kt){let bt;switch(kt.name){case"PasswordException":bt=new _util.PasswordException(kt.message,kt.code);break;case"InvalidPDFException":bt=new _util.InvalidPDFException(kt.message);break;case"MissingPDFException":bt=new _util.MissingPDFException(kt.message);break;case"UnexpectedResponseException":bt=new _util.UnexpectedResponseException(kt.message,kt.status);break;case"UnknownErrorException":bt=new _util.UnknownErrorException(kt.message,kt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}St._capability.reject(bt)}),gt.on("PasswordRequest",kt=>{if(sn(this,pt,new _util.PromiseCapability),St.onPassword){const bt=wt=>{wt instanceof Error?at(this,pt).reject(wt):at(this,pt).resolve({password:wt})};try{St.onPassword(bt,kt.code)}catch(wt){at(this,pt).reject(wt)}}else at(this,pt).reject(new _util.PasswordException(kt.message,kt.code));return at(this,pt).promise}),gt.on("DataLoaded",kt=>{var bt;(bt=St.onProgress)==null||bt.call(St,{loaded:kt.length,total:kt.length}),this.downloadInfoCapability.resolve(kt)}),gt.on("StartRenderPage",kt=>{if(this.destroyed)return;at(this,ut).get(kt.pageIndex)._startRenderPage(kt.transparency,kt.cacheKey)}),gt.on("commonobj",([kt,bt,wt])=>{var Tt;if(!this.destroyed&&!this.commonObjs.has(kt))switch(bt){case"Font":const Ht=this._params;if("error"in wt){const Dt=wt.error;(0,_util.warn)(`Error during font loading: ${Dt}`),this.commonObjs.resolve(kt,Dt);break}const Bt=Ht.pdfBug&&((Tt=globalThis.FontInspector)!=null&&Tt.enabled)?(Dt,It)=>globalThis.FontInspector.fontAdded(Dt,It):null,Wt=new _font_loader.FontFaceObject(wt,{isEvalSupported:Ht.isEvalSupported,disableFontFace:Ht.disableFontFace,ignoreErrors:Ht.ignoreErrors,inspectFont:Bt});this.fontLoader.bind(Wt).catch(Dt=>gt.sendWithPromise("FontFallback",{id:kt})).finally(()=>{!Ht.fontExtraProperties&&Wt.data&&(Wt.data=null),this.commonObjs.resolve(kt,Wt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(kt,wt);break;default:throw new Error(`Got unknown common object type ${bt}`)}}),gt.on("obj",([kt,bt,wt,Tt])=>{var Bt;if(this.destroyed)return;const Ht=at(this,ut).get(bt);if(!Ht.objs.has(kt))switch(wt){case"Image":if(Ht.objs.resolve(kt,Tt),Tt){let Wt;if(Tt.bitmap){const{width:Dt,height:It}=Tt;Wt=Dt*It*4}else Wt=((Bt=Tt.data)==null?void 0:Bt.length)||0;Wt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ht._maybeCleanupAfterRender=!0)}break;case"Pattern":Ht.objs.resolve(kt,Tt);break;default:throw new Error(`Got unknown object type ${wt}`)}}),gt.on("DocProgress",kt=>{var bt;this.destroyed||(bt=St.onProgress)==null||bt.call(St,{loaded:kt.loaded,total:kt.total})}),gt.on("FetchBuiltInCMap",kt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(kt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),gt.on("FetchStandardFontData",kt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(kt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var kt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:gt,transfers:St}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:gt,filename:((kt=this._fullReader)==null?void 0:kt.filename)??null},St).finally(()=>{this.annotationStorage.resetModified()})}getPage(gt){if(!Number.isInteger(gt)||gt<=0||gt>this._numPages)return Promise.reject(new Error("Invalid page request."));const St=gt-1,kt=at(this,lt).get(St);if(kt)return kt;const bt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:St}).then(wt=>{if(this.destroyed)throw new Error("Transport destroyed");const Tt=new PDFPageProxy(St,wt,this,this._params.pdfBug);return at(this,ut).set(St,Tt),Tt});return at(this,lt).set(St,bt),bt}getPageIndex(gt){return typeof gt!="object"||gt===null||!Number.isInteger(gt.num)||gt.num<0||!Number.isInteger(gt.gen)||gt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:gt.num,gen:gt.gen})}getAnnotations(gt,St){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:gt,intent:St})}getFieldObjects(){return Qt(this,vt,mr).call(this,"GetFieldObjects")}hasJSActions(){return Qt(this,vt,mr).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(gt){return typeof gt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:gt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Qt(this,vt,mr).call(this,"GetDocJSActions")}getPageJSActions(gt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:gt})}getStructTree(gt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:gt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(gt=>new _optional_content_config.OptionalContentConfig(gt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const gt="GetMetadata",St=at(this,ht).get(gt);if(St)return St;const kt=this.messageHandler.sendWithPromise(gt,null).then(bt=>{var wt,Tt;return{info:bt[0],metadata:bt[1]?new _metadata.Metadata(bt[1]):null,contentDispositionFilename:((wt=this._fullReader)==null?void 0:wt.filename)??null,contentLength:((Tt=this._fullReader)==null?void 0:Tt.contentLength)??null}});return at(this,ht).set(gt,kt),kt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(gt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const St of at(this,ut).values())if(!St.cleanup())throw new Error(`startCleanup: Page ${St.pageNumber} is currently rendering.`);this.commonObjs.clear(),gt||this.fontLoader.clear(),at(this,ht).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:gt,enableXfa:St}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:gt,enableXfa:St})}}ht=new WeakMap,ut=new WeakMap,lt=new WeakMap,pt=new WeakMap,vt=new WeakSet,mr=function(gt,St=null){const kt=at(this,ht).get(gt);if(kt)return kt;const bt=this.messageHandler.sendWithPromise(gt,St);return at(this,ht).set(gt,bt),bt};class PDFObjects{constructor(){nn(this,ot);nn(this,st,Object.create(null))}get(gt,St=null){if(St){const bt=Qt(this,ot,Pr).call(this,gt);return bt.capability.promise.then(()=>St(bt.data)),null}const kt=at(this,st)[gt];if(!(kt!=null&&kt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${gt}.`);return kt.data}has(gt){const St=at(this,st)[gt];return(St==null?void 0:St.capability.settled)||!1}resolve(gt,St=null){const kt=Qt(this,ot,Pr).call(this,gt);kt.data=St,kt.capability.resolve()}clear(){var gt;for(const St in at(this,st)){const{data:kt}=at(this,st)[St];(gt=kt==null?void 0:kt.bitmap)==null||gt.close()}sn(this,st,Object.create(null))}}st=new WeakMap,ot=new WeakSet,Pr=function(gt){var St;return(St=at(this,st))[gt]||(St[gt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(gt){nn(this,ft,null);sn(this,ft,gt),this.onContinue=null}get promise(){return at(this,ft).capability.promise}cancel(gt=0){at(this,ft).cancel(null,gt)}get separateAnnots(){const{separateAnnots:gt}=at(this,ft).operatorList;if(!gt)return!1;const{annotationCanvasMap:St}=at(this,ft);return gt.form||gt.canvas&&(St==null?void 0:St.size)>0}}ft=new WeakMap,exports.RenderTask=RenderTask;const xt=class xt{constructor({callback:gt,params:St,objs:kt,commonObjs:bt,annotationCanvasMap:wt,operatorList:Tt,pageIndex:Ht,canvasFactory:Bt,filterFactory:Wt,useRequestAnimationFrame:Dt=!1,pdfBug:It=!1,pageColors:At=null}){this.callback=gt,this.params=St,this.objs=kt,this.commonObjs=bt,this.annotationCanvasMap=wt,this.operatorListIdx=null,this.operatorList=Tt,this._pageIndex=Ht,this.canvasFactory=Bt,this.filterFactory=Wt,this._pdfBug=It,this.pageColors=At,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Dt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=St.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:gt=!1,optionalContentConfig:St}){var Ht,Bt;if(this.cancelled)return;if(this._canvas){if(at(xt,ct).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");at(xt,ct).add(this._canvas)}this._pdfBug&&((Ht=globalThis.StepperManager)!=null&&Ht.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:kt,viewport:bt,transform:wt,background:Tt}=this.params;this.gfx=new _canvas.CanvasGraphics(kt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:St},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:wt,viewport:bt,transparency:gt,background:Tt}),this.operatorListIdx=0,this.graphicsReady=!0,(Bt=this.graphicsReadyCallback)==null||Bt.call(this)}cancel(gt=null,St=0){var kt;this.running=!1,this.cancelled=!0,(kt=this.gfx)==null||kt.endDrawing(),at(xt,ct).delete(this._canvas),this.callback(gt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,St))}operatorListChanged(){var gt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(gt=this.stepper)==null||gt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),at(xt,ct).delete(this._canvas),this.callback())))}};ct=new WeakMap,nn(xt,ct,new WeakSet);let InternalRenderTask=xt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(g,b,_)=>{var rt,it,ht,ds,lt;Object.defineProperty(b,"__esModule",{value:!0}),b.SerializableEmpty=b.PrintAnnotationStorage=b.AnnotationStorage=void 0;var j=_(1),$=_(4),_e=_(8);const et=Object.freeze({map:null,hash:"",transfers:void 0});b.SerializableEmpty=et;class nt{constructor(){nn(this,ht);nn(this,rt,!1);nn(this,it,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(vt,yt){const st=at(this,it).get(vt);return st===void 0?yt:Object.assign(yt,st)}getRawValue(vt){return at(this,it).get(vt)}remove(vt){if(at(this,it).delete(vt),at(this,it).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const yt of at(this,it).values())if(yt instanceof $.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(vt,yt){const st=at(this,it).get(vt);let ot=!1;if(st!==void 0)for(const[mt,ft]of Object.entries(yt))st[mt]!==ft&&(ot=!0,st[mt]=ft);else ot=!0,at(this,it).set(vt,yt);ot&&Qt(this,ht,ds).call(this),yt instanceof $.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(yt.constructor._type)}has(vt){return at(this,it).has(vt)}getAll(){return at(this,it).size>0?(0,j.objectFromMap)(at(this,it)):null}setAll(vt){for(const[yt,st]of Object.entries(vt))this.setValue(yt,st)}get size(){return at(this,it).size}resetModified(){at(this,rt)&&(sn(this,rt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new tt(this)}get serializable(){if(at(this,it).size===0)return et;const vt=new Map,yt=new _e.MurmurHash3_64,st=[],ot=Object.create(null);let mt=!1;for(const[ft,ct]of at(this,it)){const xt=ct instanceof $.AnnotationEditor?ct.serialize(!1,ot):ct;xt&&(vt.set(ft,xt),yt.update(`${ft}:${JSON.stringify(xt)}`),mt||(mt=!!xt.bitmap))}if(mt)for(const ft of vt.values())ft.bitmap&&st.push(ft.bitmap);return vt.size>0?{map:vt,hash:yt.hexdigest(),transfers:st}:et}}rt=new WeakMap,it=new WeakMap,ht=new WeakSet,ds=function(){at(this,rt)||(sn(this,rt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},b.AnnotationStorage=nt;class tt extends nt{constructor(yt){super();nn(this,lt);const{map:st,hash:ot,transfers:mt}=yt.serializable,ft=structuredClone(st,mt?{transfer:mt}:null);sn(this,lt,{map:ft,hash:ot,transfers:mt})}get print(){(0,j.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return at(this,lt)}}lt=new WeakMap,b.PrintAnnotationStorage=tt},(g,b,_)=>{var tt,rt,it,ht,ut,lt,pt,vt,yt,st,ot,mt,ft,ct,xt,Tr,jr,St,Mr,Dr,ps,hs,fs,Ir,ms;Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationEditor=void 0;var j=_(5),$=_(1),_e=_(6);const Dt=class Dt{constructor(At){nn(this,xt);nn(this,tt,"");nn(this,rt,!1);nn(this,it,null);nn(this,ht,null);nn(this,ut,null);nn(this,lt,!1);nn(this,pt,null);nn(this,vt,this.focusin.bind(this));nn(this,yt,this.focusout.bind(this));nn(this,st,!1);nn(this,ot,!1);nn(this,mt,!1);Gn(this,"_initialOptions",Object.create(null));Gn(this,"_uiManager",null);Gn(this,"_focusEventsAllowed",!0);Gn(this,"_l10nPromise",null);nn(this,ft,!1);nn(this,ct,Dt._zIndex++);this.constructor===Dt&&(0,$.unreachable)("Cannot initialize AnnotationEditor."),this.parent=At.parent,this.id=At.id,this.width=this.height=null,this.pageIndex=At.parent.pageIndex,this.name=At.name,this.div=null,this._uiManager=At.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=At.isCentered,this._structTreeParentId=null;const{rotation:Ft,rawDims:{pageWidth:Vt,pageHeight:Pt,pageX:Et,pageY:_t}}=this.parent.viewport;this.rotation=Ft,this.pageRotation=(360+Ft-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Vt,Pt],this.pageTranslation=[Et,_t];const[Ct,Mt]=this.parentDimensions;this.x=At.x/Ct,this.y=At.y/Mt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,$.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(At){const Ft=new nt({id:At.parent.getNextId(),parent:At.parent,uiManager:At._uiManager});Ft.annotationElementId=At.annotationElementId,Ft.deleted=!0,Ft._uiManager.addToAnnotationStorage(Ft)}static initialize(At,Ft=null){if(Dt._l10nPromise||(Dt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Pt=>[Pt,At.get(Pt)]))),Ft!=null&&Ft.strings)for(const Pt of Ft.strings)Dt._l10nPromise.set(Pt,At.get(Pt));if(Dt._borderLineWidth!==-1)return;const Vt=getComputedStyle(document.documentElement);Dt._borderLineWidth=parseFloat(Vt.getPropertyValue("--outline-width"))||0}static updateDefaultParams(At,Ft){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(At){return!1}static paste(At,Ft){(0,$.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return at(this,ft)}set _isDraggable(At){var Ft;sn(this,ft,At),(Ft=this.div)==null||Ft.classList.toggle("draggable",At)}center(){const[At,Ft]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ft/(At*2),this.y+=this.width*At/(Ft*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ft/(At*2),this.y-=this.width*At/(Ft*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(At){this._uiManager.addCommands(At)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=at(this,ct)}setParent(At){At!==null&&(this.pageIndex=At.pageIndex,this.pageDimensions=At.pageDimensions),this.parent=At}focusin(At){this._focusEventsAllowed&&(at(this,st)?sn(this,st,!1):this.parent.setSelected(this))}focusout(At){var Vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ft=At.relatedTarget;Ft!=null&&Ft.closest(`#${this.id}`)||(At.preventDefault(),(Vt=this.parent)!=null&&Vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(At,Ft,Vt,Pt){const[Et,_t]=this.parentDimensions;[Vt,Pt]=this.screenToPageTranslation(Vt,Pt),this.x=(At+Vt)/Et,this.y=(Ft+Pt)/_t,this.fixAndSetPosition()}translate(At,Ft){Qt(this,xt,Tr).call(this,this.parentDimensions,At,Ft)}translateInPage(At,Ft){Qt(this,xt,Tr).call(this,this.pageDimensions,At,Ft),this.div.scrollIntoView({block:"nearest"})}drag(At,Ft){const[Vt,Pt]=this.parentDimensions;if(this.x+=At/Vt,this.y+=Ft/Pt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Nt,y:zt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Nt,zt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Et,y:_t}=this;const[Ct,Mt]=Qt(this,xt,jr).call(this);Et+=Ct,_t+=Mt,this.div.style.left=`${(100*Et).toFixed(2)}%`,this.div.style.top=`${(100*_t).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[At,Ft]=this.pageDimensions;let{x:Vt,y:Pt,width:Et,height:_t}=this;switch(Et*=At,_t*=Ft,Vt*=At,Pt*=Ft,this.rotation){case 0:Vt=Math.max(0,Math.min(At-Et,Vt)),Pt=Math.max(0,Math.min(Ft-_t,Pt));break;case 90:Vt=Math.max(0,Math.min(At-_t,Vt)),Pt=Math.min(Ft,Math.max(Et,Pt));break;case 180:Vt=Math.min(At,Math.max(Et,Vt)),Pt=Math.min(Ft,Math.max(_t,Pt));break;case 270:Vt=Math.min(At,Math.max(_t,Vt)),Pt=Math.max(0,Math.min(Ft-Et,Pt));break}this.x=Vt/=At,this.y=Pt/=Ft;const[Ct,Mt]=Qt(this,xt,jr).call(this);Vt+=Ct,Pt+=Mt;const{style:Nt}=this.div;Nt.left=`${(100*Vt).toFixed(2)}%`,Nt.top=`${(100*Pt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(At,Ft){var Vt;return Qt(Vt=Dt,St,Mr).call(Vt,At,Ft,this.parentRotation)}pageTranslationToScreen(At,Ft){var Vt;return Qt(Vt=Dt,St,Mr).call(Vt,At,Ft,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:At,pageDimensions:[Ft,Vt]}=this,Pt=Ft*At,Et=Vt*At;return $.FeatureTest.isCSSRoundSupported?[Math.round(Pt),Math.round(Et)]:[Pt,Et]}setDims(At,Ft){var Et;const[Vt,Pt]=this.parentDimensions;this.div.style.width=`${(100*At/Vt).toFixed(2)}%`,at(this,lt)||(this.div.style.height=`${(100*Ft/Pt).toFixed(2)}%`),(Et=at(this,it))==null||Et.classList.toggle("small",At<Dt.SMALL_EDITOR_SIZE||Ft<Dt.SMALL_EDITOR_SIZE)}fixDims(){const{style:At}=this.div,{height:Ft,width:Vt}=At,Pt=Vt.endsWith("%"),Et=!at(this,lt)&&Ft.endsWith("%");if(Pt&&Et)return;const[_t,Ct]=this.parentDimensions;Pt||(At.width=`${(100*parseFloat(Vt)/_t).toFixed(2)}%`),!at(this,lt)&&!Et&&(At.height=`${(100*parseFloat(Ft)/Ct).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(at(this,it))return;const At=sn(this,it,document.createElement("button"));At.className="altText";const Ft=await Dt._l10nPromise.get("editor_alt_text_button_label");At.textContent=Ft,At.setAttribute("aria-label",Ft),At.tabIndex="0",At.addEventListener("contextmenu",_e.noContextMenu),At.addEventListener("pointerdown",Vt=>Vt.stopPropagation()),At.addEventListener("click",Vt=>{Vt.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),At.addEventListener("keydown",Vt=>{Vt.target===At&&Vt.key==="Enter"&&(Vt.preventDefault(),this._uiManager.editAltText(this))}),Qt(this,xt,Ir).call(this),this.div.append(At),Dt.SMALL_EDITOR_SIZE||(Dt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(At.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:at(this,tt),decorative:at(this,rt)}}set altTextData({altText:At,decorative:Ft}){at(this,tt)===At&&at(this,rt)===Ft||(sn(this,tt,At),sn(this,rt,Ft),Qt(this,xt,Ir).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",at(this,vt)),this.div.addEventListener("focusout",at(this,yt));const[At,Ft]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Ft/At).toFixed(2)}%`,this.div.style.maxHeight=`${(100*At/Ft).toFixed(2)}%`);const[Vt,Pt]=this.getInitialTranslation();return this.translate(Vt,Pt),(0,j.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(At){const{isMac:Ft}=$.FeatureTest.platform;if(At.button!==0||At.ctrlKey&&Ft){At.preventDefault();return}sn(this,st,!0),Qt(this,xt,ms).call(this,At)}moveInDOM(){var At;(At=this.parent)==null||At.moveEditorInDOM(this)}_setParentAndPosition(At,Ft,Vt){At.changeParent(this),this.x=Ft,this.y=Vt,this.fixAndSetPosition()}getRect(At,Ft){const Vt=this.parentScale,[Pt,Et]=this.pageDimensions,[_t,Ct]=this.pageTranslation,Mt=At/Vt,Nt=Ft/Vt,zt=this.x*Pt,Xt=this.y*Et,Jt=this.width*Pt,on=this.height*Et;switch(this.rotation){case 0:return[zt+Mt+_t,Et-Xt-Nt-on+Ct,zt+Mt+Jt+_t,Et-Xt-Nt+Ct];case 90:return[zt+Nt+_t,Et-Xt+Mt+Ct,zt+Nt+on+_t,Et-Xt+Mt+Jt+Ct];case 180:return[zt-Mt-Jt+_t,Et-Xt+Nt+Ct,zt-Mt+_t,Et-Xt+Nt+on+Ct];case 270:return[zt-Nt-on+_t,Et-Xt-Mt-Jt+Ct,zt-Nt+_t,Et-Xt-Mt+Ct];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(At,Ft){const[Vt,Pt,Et,_t]=At,Ct=Et-Vt,Mt=_t-Pt;switch(this.rotation){case 0:return[Vt,Ft-_t,Ct,Mt];case 90:return[Vt,Ft-Pt,Mt,Ct];case 180:return[Et,Ft-Pt,Ct,Mt];case 270:return[Et,Ft-_t,Mt,Ct];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){sn(this,mt,!0)}disableEditMode(){sn(this,mt,!1)}isInEditMode(){return at(this,mt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var At,Ft;(At=this.div)==null||At.addEventListener("focusin",at(this,vt)),(Ft=this.div)==null||Ft.addEventListener("focusout",at(this,yt))}serialize(At=!1,Ft=null){(0,$.unreachable)("An editor must be serializable")}static deserialize(At,Ft,Vt){const Pt=new this.prototype.constructor({parent:Ft,id:Ft.getNextId(),uiManager:Vt});Pt.rotation=At.rotation;const[Et,_t]=Pt.pageDimensions,[Ct,Mt,Nt,zt]=Pt.getRectInCurrentCoords(At.rect,_t);return Pt.x=Ct/Et,Pt.y=Mt/_t,Pt.width=Nt/Et,Pt.height=zt/_t,Pt}remove(){var At;this.div.removeEventListener("focusin",at(this,vt)),this.div.removeEventListener("focusout",at(this,yt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(At=at(this,it))==null||At.remove(),sn(this,it,null),sn(this,ht,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Qt(this,xt,ps).call(this),at(this,pt).classList.remove("hidden"))}select(){var At;this.makeResizable(),(At=this.div)==null||At.classList.add("selectedEditor")}unselect(){var At,Ft,Vt;(At=at(this,pt))==null||At.classList.add("hidden"),(Ft=this.div)==null||Ft.classList.remove("selectedEditor"),(Vt=this.div)!=null&&Vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(At,Ft){}disableEditing(){at(this,it)&&(at(this,it).hidden=!0)}enableEditing(){at(this,it)&&(at(this,it).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return at(this,ot)}set isEditing(At){sn(this,ot,At),this.parent&&(At?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(At,Ft){sn(this,lt,!0);const Vt=At/Ft,{style:Pt}=this.div;Pt.aspectRatio=Vt,Pt.height="auto"}static get MIN_SIZE(){return 16}};tt=new WeakMap,rt=new WeakMap,it=new WeakMap,ht=new WeakMap,ut=new WeakMap,lt=new WeakMap,pt=new WeakMap,vt=new WeakMap,yt=new WeakMap,st=new WeakMap,ot=new WeakMap,mt=new WeakMap,ft=new WeakMap,ct=new WeakMap,xt=new WeakSet,Tr=function([At,Ft],Vt,Pt){[Vt,Pt]=this.screenToPageTranslation(Vt,Pt),this.x+=Vt/At,this.y+=Pt/Ft,this.fixAndSetPosition()},jr=function(){const[At,Ft]=this.parentDimensions,{_borderLineWidth:Vt}=Dt,Pt=Vt/At,Et=Vt/Ft;switch(this.rotation){case 90:return[-Pt,Et];case 180:return[Pt,Et];case 270:return[Pt,-Et];default:return[-Pt,-Et]}},St=new WeakSet,Mr=function(At,Ft,Vt){switch(Vt){case 90:return[Ft,-At];case 180:return[-At,-Ft];case 270:return[-Ft,At];default:return[At,Ft]}},Dr=function(At){switch(At){case 90:{const[Ft,Vt]=this.pageDimensions;return[0,-Ft/Vt,Vt/Ft,0]}case 180:return[-1,0,0,-1];case 270:{const[Ft,Vt]=this.pageDimensions;return[0,Ft/Vt,-Vt/Ft,0]}default:return[1,0,0,1]}},ps=function(){if(at(this,pt))return;sn(this,pt,document.createElement("div")),at(this,pt).classList.add("resizers");const At=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||At.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Ft of At){const Vt=document.createElement("div");at(this,pt).append(Vt),Vt.classList.add("resizer",Ft),Vt.addEventListener("pointerdown",Qt(this,xt,hs).bind(this,Ft)),Vt.addEventListener("contextmenu",_e.noContextMenu)}this.div.prepend(at(this,pt))},hs=function(At,Ft){Ft.preventDefault();const{isMac:Vt}=$.FeatureTest.platform;if(Ft.button!==0||Ft.ctrlKey&&Vt)return;const Pt=Qt(this,xt,fs).bind(this,At),Et=this._isDraggable;this._isDraggable=!1;const _t={passive:!0,capture:!0};window.addEventListener("pointermove",Pt,_t);const Ct=this.x,Mt=this.y,Nt=this.width,zt=this.height,Xt=this.parent.div.style.cursor,Jt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ft.target).cursor;const on=()=>{this._isDraggable=Et,window.removeEventListener("pointerup",on),window.removeEventListener("blur",on),window.removeEventListener("pointermove",Pt,_t),this.parent.div.style.cursor=Xt,this.div.style.cursor=Jt;const ln=this.x,fn=this.y,pn=this.width,mn=this.height;ln===Ct&&fn===Mt&&pn===Nt&&mn===zt||this.addCommands({cmd:()=>{this.width=pn,this.height=mn,this.x=ln,this.y=fn;const[Yt,Kt]=this.parentDimensions;this.setDims(Yt*pn,Kt*mn),this.fixAndSetPosition()},undo:()=>{this.width=Nt,this.height=zt,this.x=Ct,this.y=Mt;const[Yt,Kt]=this.parentDimensions;this.setDims(Yt*Nt,Kt*zt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",on),window.addEventListener("blur",on)},fs=function(At,Ft){const[Vt,Pt]=this.parentDimensions,Et=this.x,_t=this.y,Ct=this.width,Mt=this.height,Nt=Dt.MIN_SIZE/Vt,zt=Dt.MIN_SIZE/Pt,Xt=wn=>Math.round(wn*1e4)/1e4,Jt=Qt(this,xt,Dr).call(this,this.rotation),on=(wn,kn)=>[Jt[0]*wn+Jt[2]*kn,Jt[1]*wn+Jt[3]*kn],ln=Qt(this,xt,Dr).call(this,360-this.rotation),fn=(wn,kn)=>[ln[0]*wn+ln[2]*kn,ln[1]*wn+ln[3]*kn];let pn,mn,Yt=!1,Kt=!1;switch(At){case"topLeft":Yt=!0,pn=(wn,kn)=>[0,0],mn=(wn,kn)=>[wn,kn];break;case"topMiddle":pn=(wn,kn)=>[wn/2,0],mn=(wn,kn)=>[wn/2,kn];break;case"topRight":Yt=!0,pn=(wn,kn)=>[wn,0],mn=(wn,kn)=>[0,kn];break;case"middleRight":Kt=!0,pn=(wn,kn)=>[wn,kn/2],mn=(wn,kn)=>[0,kn/2];break;case"bottomRight":Yt=!0,pn=(wn,kn)=>[wn,kn],mn=(wn,kn)=>[0,0];break;case"bottomMiddle":pn=(wn,kn)=>[wn/2,kn],mn=(wn,kn)=>[wn/2,0];break;case"bottomLeft":Yt=!0,pn=(wn,kn)=>[0,kn],mn=(wn,kn)=>[wn,0];break;case"middleLeft":Kt=!0,pn=(wn,kn)=>[0,kn/2],mn=(wn,kn)=>[wn,kn/2];break}const Rt=pn(Ct,Mt),Ot=mn(Ct,Mt);let qt=on(...Ot);const en=Xt(Et+qt[0]),dn=Xt(_t+qt[1]);let xn=1,Zt=1,[Ut,bn]=this.screenToPageTranslation(Ft.movementX,Ft.movementY);if([Ut,bn]=fn(Ut/Vt,bn/Pt),Yt){const wn=Math.hypot(Ct,Mt);xn=Zt=Math.max(Math.min(Math.hypot(Ot[0]-Rt[0]-Ut,Ot[1]-Rt[1]-bn)/wn,1/Ct,1/Mt),Nt/Ct,zt/Mt)}else Kt?xn=Math.max(Nt,Math.min(1,Math.abs(Ot[0]-Rt[0]-Ut)))/Ct:Zt=Math.max(zt,Math.min(1,Math.abs(Ot[1]-Rt[1]-bn)))/Mt;const yn=Xt(Ct*xn),In=Xt(Mt*Zt);qt=on(...mn(yn,In));const Nn=en-qt[0],Fn=dn-qt[1];this.width=yn,this.height=In,this.x=Nn,this.y=Fn,this.setDims(Vt*yn,Pt*In),this.fixAndSetPosition()},Ir=async function(){var Vt;const At=at(this,it);if(!At)return;if(!at(this,tt)&&!at(this,rt)){At.classList.remove("done"),(Vt=at(this,ht))==null||Vt.remove();return}Dt._l10nPromise.get("editor_alt_text_edit_button_label").then(Pt=>{At.setAttribute("aria-label",Pt)});let Ft=at(this,ht);if(!Ft){sn(this,ht,Ft=document.createElement("span")),Ft.className="tooltip",Ft.setAttribute("role","tooltip");const Pt=Ft.id=`alt-text-tooltip-${this.id}`;At.setAttribute("aria-describedby",Pt);const Et=100;At.addEventListener("mouseenter",()=>{sn(this,ut,setTimeout(()=>{sn(this,ut,null),at(this,ht).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Et))}),At.addEventListener("mouseleave",()=>{var _t;clearTimeout(at(this,ut)),sn(this,ut,null),(_t=at(this,ht))==null||_t.classList.remove("show")})}At.classList.add("done"),Ft.innerText=at(this,rt)?await Dt._l10nPromise.get("editor_alt_text_decorative_tooltip"):at(this,tt),Ft.parentNode||At.append(Ft)},ms=function(At){if(!this._isDraggable)return;const Ft=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Vt,Pt;Ft&&(Vt={passive:!0,capture:!0},Pt=_t=>{const[Ct,Mt]=this.screenToPageTranslation(_t.movementX,_t.movementY);this._uiManager.dragSelectedEditors(Ct,Mt)},window.addEventListener("pointermove",Pt,Vt));const Et=()=>{if(window.removeEventListener("pointerup",Et),window.removeEventListener("blur",Et),Ft&&window.removeEventListener("pointermove",Pt,Vt),sn(this,st,!1),!this._uiManager.endDragSession()){const{isMac:_t}=$.FeatureTest.platform;At.ctrlKey&&!_t||At.shiftKey||At.metaKey&&_t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Et),window.addEventListener("blur",Et)},nn(Dt,St),Gn(Dt,"_borderLineWidth",-1),Gn(Dt,"_colorManager",new j.ColorManager),Gn(Dt,"_zIndex",1),Gn(Dt,"SMALL_EDITOR_SIZE",0);let et=Dt;b.AnnotationEditor=et;class nt extends et{constructor(At){super(At),this.annotationElementId=At.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(g,b,_)=>{var lt,pt,vt,yt,st,Nr,ft,ct,xt,dt,gt,gs,bt,wt,Tt,Ht,Bt,Wt,Dt,It,At,Ft,Vt,Pt,Et,_t,Ct,Mt,Nt,zt,Xt,Jt,on,ln,fn,pn,mn,Yt,Kt,Rt,Ot,qt,en,dn,xn,Zt,Ut,vs,Lr,Fr,gr,Or,zr,Kn,ar,xs,ys,$r,lr,Br;Object.defineProperty(b,"__esModule",{value:!0}),b.KeyboardManager=b.CommandManager=b.ColorManager=b.AnnotationEditorUIManager=void 0,b.bindEvents=_e,b.opacityToHex=et;var j=_(1),$=_(6);function _e(Vn,$t,hn){for(const _n of hn)$t.addEventListener(_n,Vn[_n].bind(Vn))}function et(Vn){return Math.round(Math.min(255,Math.max(1,255*Vn))).toString(16).padStart(2,"0")}class nt{constructor(){nn(this,lt,0)}getId(){return`${j.AnnotationEditorPrefix}${or(this,lt)._++}`}}lt=new WeakMap;const mt=class mt{constructor(){nn(this,st);nn(this,pt,(0,j.getUuid)());nn(this,vt,0);nn(this,yt,null)}static get _isSVGFittingCanvas(){const $t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',_n=new OffscreenCanvas(1,3).getContext("2d"),Tn=new Image;Tn.src=$t;const Dn=Tn.decode().then(()=>(_n.drawImage(Tn,0,0,1,1,0,0,1,3),new Uint32Array(_n.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,j.shadow)(this,"_isSVGFittingCanvas",Dn)}async getFromFile($t){const{lastModified:hn,name:_n,size:Tn,type:Dn}=$t;return Qt(this,st,Nr).call(this,`${hn}_${_n}_${Tn}_${Dn}`,$t)}async getFromUrl($t){return Qt(this,st,Nr).call(this,$t,$t)}async getFromId($t){at(this,yt)||sn(this,yt,new Map);const hn=at(this,yt).get($t);return hn?hn.bitmap?(hn.refCounter+=1,hn):hn.file?this.getFromFile(hn.file):this.getFromUrl(hn.url):null}getSvgUrl($t){const hn=at(this,yt).get($t);return hn!=null&&hn.isSvg?hn.svgUrl:null}deleteId($t){at(this,yt)||sn(this,yt,new Map);const hn=at(this,yt).get($t);hn&&(hn.refCounter-=1,hn.refCounter===0&&(hn.bitmap=null))}isValidId($t){return $t.startsWith(`image_${at(this,pt)}_`)}};pt=new WeakMap,vt=new WeakMap,yt=new WeakMap,st=new WeakSet,Nr=async function($t,hn){at(this,yt)||sn(this,yt,new Map);let _n=at(this,yt).get($t);if(_n===null)return null;if(_n!=null&&_n.bitmap)return _n.refCounter+=1,_n;try{_n||(_n={bitmap:null,id:`image_${at(this,pt)}_${or(this,vt)._++}`,refCounter:0,isSvg:!1});let Tn;if(typeof hn=="string"){_n.url=hn;const Dn=await fetch(hn);if(!Dn.ok)throw new Error(Dn.statusText);Tn=await Dn.blob()}else Tn=_n.file=hn;if(Tn.type==="image/svg+xml"){const Dn=mt._isSVGFittingCanvas,Cn=new FileReader,Lt=new Image,jt=new Promise((Gt,an)=>{Lt.onload=()=>{_n.bitmap=Lt,_n.isSvg=!0,Gt()},Cn.onload=async()=>{const un=_n.svgUrl=Cn.result;Lt.src=await Dn?`${un}#svgView(preserveAspectRatio(none))`:un},Lt.onerror=Cn.onerror=an});Cn.readAsDataURL(Tn),await jt}else _n.bitmap=await createImageBitmap(Tn);_n.refCounter=1}catch(Tn){console.error(Tn),_n=null}return at(this,yt).set($t,_n),_n&&at(this,yt).set(_n.id,_n),_n};let tt=mt;class rt{constructor($t=128){nn(this,ft,[]);nn(this,ct,!1);nn(this,xt);nn(this,dt,-1);sn(this,xt,$t)}add({cmd:$t,undo:hn,mustExec:_n,type:Tn=NaN,overwriteIfSameType:Dn=!1,keepUndo:Cn=!1}){if(_n&&$t(),at(this,ct))return;const Lt={cmd:$t,undo:hn,type:Tn};if(at(this,dt)===-1){at(this,ft).length>0&&(at(this,ft).length=0),sn(this,dt,0),at(this,ft).push(Lt);return}if(Dn&&at(this,ft)[at(this,dt)].type===Tn){Cn&&(Lt.undo=at(this,ft)[at(this,dt)].undo),at(this,ft)[at(this,dt)]=Lt;return}const jt=at(this,dt)+1;jt===at(this,xt)?at(this,ft).splice(0,1):(sn(this,dt,jt),jt<at(this,ft).length&&at(this,ft).splice(jt)),at(this,ft).push(Lt)}undo(){at(this,dt)!==-1&&(sn(this,ct,!0),at(this,ft)[at(this,dt)].undo(),sn(this,ct,!1),sn(this,dt,at(this,dt)-1))}redo(){at(this,dt)<at(this,ft).length-1&&(sn(this,dt,at(this,dt)+1),sn(this,ct,!0),at(this,ft)[at(this,dt)].cmd(),sn(this,ct,!1))}hasSomethingToUndo(){return at(this,dt)!==-1}hasSomethingToRedo(){return at(this,dt)<at(this,ft).length-1}destroy(){sn(this,ft,null)}}ft=new WeakMap,ct=new WeakMap,xt=new WeakMap,dt=new WeakMap,b.CommandManager=rt;class it{constructor($t){nn(this,gt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:hn}=j.FeatureTest.platform;for(const[_n,Tn,Dn={}]of $t)for(const Cn of _n){const Lt=Cn.startsWith("mac+");hn&&Lt?(this.callbacks.set(Cn.slice(4),{callback:Tn,options:Dn}),this.allKeys.add(Cn.split("+").at(-1))):!hn&&!Lt&&(this.callbacks.set(Cn,{callback:Tn,options:Dn}),this.allKeys.add(Cn.split("+").at(-1)))}}exec($t,hn){if(!this.allKeys.has(hn.key))return;const _n=this.callbacks.get(Qt(this,gt,gs).call(this,hn));if(!_n)return;const{callback:Tn,options:{bubbles:Dn=!1,args:Cn=[],checker:Lt=null}}=_n;Lt&&!Lt($t,hn)||(Tn.bind($t,...Cn)(),Dn||(hn.stopPropagation(),hn.preventDefault()))}}gt=new WeakSet,gs=function($t){$t.altKey&&this.buffer.push("alt"),$t.ctrlKey&&this.buffer.push("ctrl"),$t.metaKey&&this.buffer.push("meta"),$t.shiftKey&&this.buffer.push("shift"),this.buffer.push($t.key);const hn=this.buffer.join("+");return this.buffer.length=0,hn},b.KeyboardManager=it;const kt=class kt{get _colors(){const $t=new Map([["CanvasText",null],["Canvas",null]]);return(0,$.getColorValues)($t),(0,j.shadow)(this,"_colors",$t)}convert($t){const hn=(0,$.getRGB)($t);if(!window.matchMedia("(forced-colors: active)").matches)return hn;for(const[_n,Tn]of this._colors)if(Tn.every((Dn,Cn)=>Dn===hn[Cn]))return kt._colorsMapping.get(_n);return hn}getHexCode($t){const hn=this._colors.get($t);return hn?j.Util.makeHexColor(...hn):$t}};Gn(kt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ht=kt;b.ColorManager=ht;const Un=class Un{constructor($t,hn,_n,Tn,Dn,Cn){nn(this,Ut);nn(this,bt,null);nn(this,wt,new Map);nn(this,Tt,new Map);nn(this,Ht,null);nn(this,Bt,null);nn(this,Wt,new rt);nn(this,Dt,0);nn(this,It,new Set);nn(this,At,null);nn(this,Ft,null);nn(this,Vt,new Set);nn(this,Pt,null);nn(this,Et,new nt);nn(this,_t,!1);nn(this,Ct,!1);nn(this,Mt,null);nn(this,Nt,j.AnnotationEditorType.NONE);nn(this,zt,new Set);nn(this,Xt,null);nn(this,Jt,this.blur.bind(this));nn(this,on,this.focus.bind(this));nn(this,ln,this.copy.bind(this));nn(this,fn,this.cut.bind(this));nn(this,pn,this.paste.bind(this));nn(this,mn,this.keydown.bind(this));nn(this,Yt,this.onEditingAction.bind(this));nn(this,Kt,this.onPageChanging.bind(this));nn(this,Rt,this.onScaleChanging.bind(this));nn(this,Ot,this.onRotationChanging.bind(this));nn(this,qt,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});nn(this,en,[0,0]);nn(this,dn,null);nn(this,xn,null);nn(this,Zt,null);sn(this,xn,$t),sn(this,Zt,hn),sn(this,Ht,_n),this._eventBus=Tn,this._eventBus._on("editingaction",at(this,Yt)),this._eventBus._on("pagechanging",at(this,Kt)),this._eventBus._on("scalechanging",at(this,Rt)),this._eventBus._on("rotationchanging",at(this,Ot)),sn(this,Bt,Dn.annotationStorage),sn(this,Pt,Dn.filterFactory),sn(this,Xt,Cn),this.viewParameters={realScale:$.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const $t=Un.prototype,hn=Dn=>{const{activeElement:Cn}=document;return Cn&&at(Dn,xn).contains(Cn)&&Dn.hasSomethingToControl()},_n=this.TRANSLATE_SMALL,Tn=this.TRANSLATE_BIG;return(0,j.shadow)(this,"_keyboardManager",new it([[["ctrl+a","mac+meta+a"],$t.selectAll],[["ctrl+z","mac+meta+z"],$t.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$t.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$t.delete],[["Escape","mac+Escape"],$t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$t.translateSelectedEditors,{args:[-_n,0],checker:hn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$t.translateSelectedEditors,{args:[-Tn,0],checker:hn}],[["ArrowRight","mac+ArrowRight"],$t.translateSelectedEditors,{args:[_n,0],checker:hn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$t.translateSelectedEditors,{args:[Tn,0],checker:hn}],[["ArrowUp","mac+ArrowUp"],$t.translateSelectedEditors,{args:[0,-_n],checker:hn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$t.translateSelectedEditors,{args:[0,-Tn],checker:hn}],[["ArrowDown","mac+ArrowDown"],$t.translateSelectedEditors,{args:[0,_n],checker:hn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$t.translateSelectedEditors,{args:[0,Tn],checker:hn}]]))}destroy(){Qt(this,Ut,gr).call(this),Qt(this,Ut,Lr).call(this),this._eventBus._off("editingaction",at(this,Yt)),this._eventBus._off("pagechanging",at(this,Kt)),this._eventBus._off("scalechanging",at(this,Rt)),this._eventBus._off("rotationchanging",at(this,Ot));for(const $t of at(this,Tt).values())$t.destroy();at(this,Tt).clear(),at(this,wt).clear(),at(this,Vt).clear(),sn(this,bt,null),at(this,zt).clear(),at(this,Wt).destroy(),at(this,Ht).destroy()}get hcmFilter(){return(0,j.shadow)(this,"hcmFilter",at(this,Xt)?at(this,Pt).addHCMFilter(at(this,Xt).foreground,at(this,Xt).background):"none")}get direction(){return(0,j.shadow)(this,"direction",getComputedStyle(at(this,xn)).direction)}editAltText($t){var hn;(hn=at(this,Ht))==null||hn.editAltText(this,$t)}onPageChanging({pageNumber:$t}){sn(this,Dt,$t-1)}focusMainContainer(){at(this,xn).focus()}findParent($t,hn){for(const _n of at(this,Tt).values()){const{x:Tn,y:Dn,width:Cn,height:Lt}=_n.div.getBoundingClientRect();if($t>=Tn&&$t<=Tn+Cn&&hn>=Dn&&hn<=Dn+Lt)return _n}return null}disableUserSelect($t=!1){at(this,Zt).classList.toggle("noUserSelect",$t)}addShouldRescale($t){at(this,Vt).add($t)}removeShouldRescale($t){at(this,Vt).delete($t)}onScaleChanging({scale:$t}){this.commitOrRemove(),this.viewParameters.realScale=$t*$.PixelsPerInch.PDF_TO_CSS_UNITS;for(const hn of at(this,Vt))hn.onScaleChanging()}onRotationChanging({pagesRotation:$t}){this.commitOrRemove(),this.viewParameters.rotation=$t}addToAnnotationStorage($t){!$t.isEmpty()&&at(this,Bt)&&!at(this,Bt).has($t.id)&&at(this,Bt).setValue($t.id,$t)}blur(){if(!this.hasSelection)return;const{activeElement:$t}=document;for(const hn of at(this,zt))if(hn.div.contains($t)){sn(this,Mt,[hn,$t]),hn._focusEventsAllowed=!1;break}}focus(){if(!at(this,Mt))return;const[$t,hn]=at(this,Mt);sn(this,Mt,null),hn.addEventListener("focusin",()=>{$t._focusEventsAllowed=!0},{once:!0}),hn.focus()}addEditListeners(){Qt(this,Ut,Fr).call(this),Qt(this,Ut,Or).call(this)}removeEditListeners(){Qt(this,Ut,gr).call(this),Qt(this,Ut,zr).call(this)}copy($t){var _n;if($t.preventDefault(),(_n=at(this,bt))==null||_n.commitOrRemove(),!this.hasSelection)return;const hn=[];for(const Tn of at(this,zt)){const Dn=Tn.serialize(!0);Dn&&hn.push(Dn)}hn.length!==0&&$t.clipboardData.setData("application/pdfjs",JSON.stringify(hn))}cut($t){this.copy($t),this.delete()}paste($t){$t.preventDefault();const{clipboardData:hn}=$t;for(const Dn of hn.items)for(const Cn of at(this,Ft))if(Cn.isHandlingMimeForPasting(Dn.type)){Cn.paste(Dn,this.currentLayer);return}let _n=hn.getData("application/pdfjs");if(!_n)return;try{_n=JSON.parse(_n)}catch(Dn){(0,j.warn)(`paste: "${Dn.message}".`);return}if(!Array.isArray(_n))return;this.unselectAll();const Tn=this.currentLayer;try{const Dn=[];for(const jt of _n){const Gt=Tn.deserialize(jt);if(!Gt)return;Dn.push(Gt)}const Cn=()=>{for(const jt of Dn)Qt(this,Ut,$r).call(this,jt);Qt(this,Ut,Br).call(this,Dn)},Lt=()=>{for(const jt of Dn)jt.remove()};this.addCommands({cmd:Cn,undo:Lt,mustExec:!0})}catch(Dn){(0,j.warn)(`paste: "${Dn.message}".`)}}keydown($t){var hn;(hn=this.getActive())!=null&&hn.shouldGetKeyboardEvents()||Un._keyboardManager.exec(this,$t)}onEditingAction($t){["undo","redo","delete","selectAll"].includes($t.name)&&this[$t.name]()}setEditingState($t){$t?(Qt(this,Ut,vs).call(this),Qt(this,Ut,Fr).call(this),Qt(this,Ut,Or).call(this),Qt(this,Ut,Kn).call(this,{isEditing:at(this,Nt)!==j.AnnotationEditorType.NONE,isEmpty:Qt(this,Ut,lr).call(this),hasSomethingToUndo:at(this,Wt).hasSomethingToUndo(),hasSomethingToRedo:at(this,Wt).hasSomethingToRedo(),hasSelectedEditor:!1})):(Qt(this,Ut,Lr).call(this),Qt(this,Ut,gr).call(this),Qt(this,Ut,zr).call(this),Qt(this,Ut,Kn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($t){if(!at(this,Ft)){sn(this,Ft,$t);for(const hn of at(this,Ft))Qt(this,Ut,ar).call(this,hn.defaultPropertiesToUpdate)}}getId(){return at(this,Et).getId()}get currentLayer(){return at(this,Tt).get(at(this,Dt))}getLayer($t){return at(this,Tt).get($t)}get currentPageIndex(){return at(this,Dt)}addLayer($t){at(this,Tt).set($t.pageIndex,$t),at(this,_t)?$t.enable():$t.disable()}removeLayer($t){at(this,Tt).delete($t.pageIndex)}updateMode($t,hn=null){if(at(this,Nt)!==$t){if(sn(this,Nt,$t),$t===j.AnnotationEditorType.NONE){this.setEditingState(!1),Qt(this,Ut,ys).call(this);return}this.setEditingState(!0),Qt(this,Ut,xs).call(this),this.unselectAll();for(const _n of at(this,Tt).values())_n.updateMode($t);if(hn){for(const _n of at(this,wt).values())if(_n.annotationElementId===hn){this.setSelected(_n),_n.enterInEditMode();break}}}}updateToolbar($t){$t!==at(this,Nt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$t})}updateParams($t,hn){if(at(this,Ft)){if($t===j.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor($t);return}for(const _n of at(this,zt))_n.updateParams($t,hn);for(const _n of at(this,Ft))_n.updateDefaultParams($t,hn)}}enableWaiting($t=!1){if(at(this,Ct)!==$t){sn(this,Ct,$t);for(const hn of at(this,Tt).values())$t?hn.disableClick():hn.enableClick(),hn.div.classList.toggle("waiting",$t)}}getEditors($t){const hn=[];for(const _n of at(this,wt).values())_n.pageIndex===$t&&hn.push(_n);return hn}getEditor($t){return at(this,wt).get($t)}addEditor($t){at(this,wt).set($t.id,$t)}removeEditor($t){var hn;at(this,wt).delete($t.id),this.unselect($t),(!$t.annotationElementId||!at(this,It).has($t.annotationElementId))&&((hn=at(this,Bt))==null||hn.remove($t.id))}addDeletedAnnotationElement($t){at(this,It).add($t.annotationElementId),$t.deleted=!0}isDeletedAnnotationElement($t){return at(this,It).has($t)}removeDeletedAnnotationElement($t){at(this,It).delete($t.annotationElementId),$t.deleted=!1}setActiveEditor($t){at(this,bt)!==$t&&(sn(this,bt,$t),$t&&Qt(this,Ut,ar).call(this,$t.propertiesToUpdate))}toggleSelected($t){if(at(this,zt).has($t)){at(this,zt).delete($t),$t.unselect(),Qt(this,Ut,Kn).call(this,{hasSelectedEditor:this.hasSelection});return}at(this,zt).add($t),$t.select(),Qt(this,Ut,ar).call(this,$t.propertiesToUpdate),Qt(this,Ut,Kn).call(this,{hasSelectedEditor:!0})}setSelected($t){for(const hn of at(this,zt))hn!==$t&&hn.unselect();at(this,zt).clear(),at(this,zt).add($t),$t.select(),Qt(this,Ut,ar).call(this,$t.propertiesToUpdate),Qt(this,Ut,Kn).call(this,{hasSelectedEditor:!0})}isSelected($t){return at(this,zt).has($t)}unselect($t){$t.unselect(),at(this,zt).delete($t),Qt(this,Ut,Kn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return at(this,zt).size!==0}undo(){at(this,Wt).undo(),Qt(this,Ut,Kn).call(this,{hasSomethingToUndo:at(this,Wt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Qt(this,Ut,lr).call(this)})}redo(){at(this,Wt).redo(),Qt(this,Ut,Kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:at(this,Wt).hasSomethingToRedo(),isEmpty:Qt(this,Ut,lr).call(this)})}addCommands($t){at(this,Wt).add($t),Qt(this,Ut,Kn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Qt(this,Ut,lr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $t=[...at(this,zt)],hn=()=>{for(const Tn of $t)Tn.remove()},_n=()=>{for(const Tn of $t)Qt(this,Ut,$r).call(this,Tn)};this.addCommands({cmd:hn,undo:_n,mustExec:!0})}commitOrRemove(){var $t;($t=at(this,bt))==null||$t.commitOrRemove()}hasSomethingToControl(){return at(this,bt)||this.hasSelection}selectAll(){for(const $t of at(this,zt))$t.commit();Qt(this,Ut,Br).call(this,at(this,wt).values())}unselectAll(){if(at(this,bt)){at(this,bt).commitOrRemove();return}if(this.hasSelection){for(const $t of at(this,zt))$t.unselect();at(this,zt).clear(),Qt(this,Ut,Kn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($t,hn,_n=!1){if(_n||this.commitOrRemove(),!this.hasSelection)return;at(this,en)[0]+=$t,at(this,en)[1]+=hn;const[Tn,Dn]=at(this,en),Cn=[...at(this,zt)],Lt=1e3;at(this,dn)&&clearTimeout(at(this,dn)),sn(this,dn,setTimeout(()=>{sn(this,dn,null),at(this,en)[0]=at(this,en)[1]=0,this.addCommands({cmd:()=>{for(const jt of Cn)at(this,wt).has(jt.id)&&jt.translateInPage(Tn,Dn)},undo:()=>{for(const jt of Cn)at(this,wt).has(jt.id)&&jt.translateInPage(-Tn,-Dn)},mustExec:!1})},Lt));for(const jt of Cn)jt.translateInPage($t,hn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),sn(this,At,new Map);for(const $t of at(this,zt))at(this,At).set($t,{savedX:$t.x,savedY:$t.y,savedPageIndex:$t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!at(this,At))return!1;this.disableUserSelect(!1);const $t=at(this,At);sn(this,At,null);let hn=!1;for(const[{x:Tn,y:Dn,pageIndex:Cn},Lt]of $t)Lt.newX=Tn,Lt.newY=Dn,Lt.newPageIndex=Cn,hn||(hn=Tn!==Lt.savedX||Dn!==Lt.savedY||Cn!==Lt.savedPageIndex);if(!hn)return!1;const _n=(Tn,Dn,Cn,Lt)=>{if(at(this,wt).has(Tn.id)){const jt=at(this,Tt).get(Lt);jt?Tn._setParentAndPosition(jt,Dn,Cn):(Tn.pageIndex=Lt,Tn.x=Dn,Tn.y=Cn)}};return this.addCommands({cmd:()=>{for(const[Tn,{newX:Dn,newY:Cn,newPageIndex:Lt}]of $t)_n(Tn,Dn,Cn,Lt)},undo:()=>{for(const[Tn,{savedX:Dn,savedY:Cn,savedPageIndex:Lt}]of $t)_n(Tn,Dn,Cn,Lt)},mustExec:!0}),!0}dragSelectedEditors($t,hn){if(at(this,At))for(const _n of at(this,At).keys())_n.drag($t,hn)}rebuild($t){if($t.parent===null){const hn=this.getLayer($t.pageIndex);hn?(hn.changeParent($t),hn.addOrRebuild($t)):(this.addEditor($t),this.addToAnnotationStorage($t),$t.rebuild())}else $t.parent.addOrRebuild($t)}isActive($t){return at(this,bt)===$t}getActive(){return at(this,bt)}getMode(){return at(this,Nt)}get imageManager(){return(0,j.shadow)(this,"imageManager",new tt)}};bt=new WeakMap,wt=new WeakMap,Tt=new WeakMap,Ht=new WeakMap,Bt=new WeakMap,Wt=new WeakMap,Dt=new WeakMap,It=new WeakMap,At=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,Pt=new WeakMap,Et=new WeakMap,_t=new WeakMap,Ct=new WeakMap,Mt=new WeakMap,Nt=new WeakMap,zt=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,on=new WeakMap,ln=new WeakMap,fn=new WeakMap,pn=new WeakMap,mn=new WeakMap,Yt=new WeakMap,Kt=new WeakMap,Rt=new WeakMap,Ot=new WeakMap,qt=new WeakMap,en=new WeakMap,dn=new WeakMap,xn=new WeakMap,Zt=new WeakMap,Ut=new WeakSet,vs=function(){window.addEventListener("focus",at(this,on)),window.addEventListener("blur",at(this,Jt))},Lr=function(){window.removeEventListener("focus",at(this,on)),window.removeEventListener("blur",at(this,Jt))},Fr=function(){window.addEventListener("keydown",at(this,mn),{capture:!0})},gr=function(){window.removeEventListener("keydown",at(this,mn),{capture:!0})},Or=function(){document.addEventListener("copy",at(this,ln)),document.addEventListener("cut",at(this,fn)),document.addEventListener("paste",at(this,pn))},zr=function(){document.removeEventListener("copy",at(this,ln)),document.removeEventListener("cut",at(this,fn)),document.removeEventListener("paste",at(this,pn))},Kn=function($t){Object.entries($t).some(([_n,Tn])=>at(this,qt)[_n]!==Tn)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(at(this,qt),$t)})},ar=function($t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$t})},xs=function(){if(!at(this,_t)){sn(this,_t,!0);for(const $t of at(this,Tt).values())$t.enable()}},ys=function(){if(this.unselectAll(),at(this,_t)){sn(this,_t,!1);for(const $t of at(this,Tt).values())$t.disable()}},$r=function($t){const hn=at(this,Tt).get($t.pageIndex);hn?hn.addOrRebuild($t):this.addEditor($t)},lr=function(){if(at(this,wt).size===0)return!0;if(at(this,wt).size===1)for(const $t of at(this,wt).values())return $t.isEmpty();return!1},Br=function($t){at(this,zt).clear();for(const hn of $t)hn.isEmpty()||(at(this,zt).add(hn),hn.select());Qt(this,Ut,Kn).call(this,{hasSelectedEditor:!0})},Gn(Un,"TRANSLATE_SMALL",1),Gn(Un,"TRANSLATE_BIG",10);let ut=Un;b.AnnotationEditorUIManager=ut},(g,b,_)=>{var Dt,It,At,Ft,Vt,Pt,Et,_t,Ct,Mt,Nt,zt,nr,rr,Ur,vr,xr,cr,ur;Object.defineProperty(b,"__esModule",{value:!0}),b.StatTimer=b.RenderingCancelledException=b.PixelsPerInch=b.PageViewport=b.PDFDateString=b.DOMStandardFontDataFactory=b.DOMSVGFactory=b.DOMFilterFactory=b.DOMCanvasFactory=b.DOMCMapReaderFactory=void 0,b.deprecated=dt,b.getColorValues=wt,b.getCurrentTransform=Tt,b.getCurrentTransformInverse=Ht,b.getFilenameFromUrl=st,b.getPdfFilenameFromUrl=ot,b.getRGB=bt,b.getXfaPageViewport=kt,b.isDataScheme=vt,b.isPdfFile=yt,b.isValidFetchUrl=ft,b.loadScript=xt,b.noContextMenu=ct,b.setLayerDimensions=Bt;var j=_(7),$=_(1);const _e="http://www.w3.org/2000/svg",Wt=class Wt{};Gn(Wt,"CSS",96),Gn(Wt,"PDF",72),Gn(Wt,"PDF_TO_CSS_UNITS",Wt.CSS/Wt.PDF);let et=Wt;b.PixelsPerInch=et;class nt extends j.BaseFilterFactory{constructor({docId:Rt,ownerDocument:Ot=globalThis.document}={}){super();nn(this,zt);nn(this,Dt);nn(this,It);nn(this,At);nn(this,Ft);nn(this,Vt);nn(this,Pt);nn(this,Et);nn(this,_t);nn(this,Ct);nn(this,Mt);nn(this,Nt,0);sn(this,At,Rt),sn(this,Ft,Ot)}addFilter(Rt){if(!Rt)return"none";let Ot=at(this,zt,nr).get(Rt);if(Ot)return Ot;let qt,en,dn,xn;if(Rt.length===1){const yn=Rt[0],In=new Array(256);for(let Nn=0;Nn<256;Nn++)In[Nn]=yn[Nn]/255;xn=qt=en=dn=In.join(",")}else{const[yn,In,Nn]=Rt,Fn=new Array(256),wn=new Array(256),kn=new Array(256);for(let zn=0;zn<256;zn++)Fn[zn]=yn[zn]/255,wn[zn]=In[zn]/255,kn[zn]=Nn[zn]/255;qt=Fn.join(","),en=wn.join(","),dn=kn.join(","),xn=`${qt}${en}${dn}`}if(Ot=at(this,zt,nr).get(xn),Ot)return at(this,zt,nr).set(Rt,Ot),Ot;const Zt=`g_${at(this,At)}_transfer_map_${or(this,Nt)._++}`,Ut=`url(#${Zt})`;at(this,zt,nr).set(Rt,Ut),at(this,zt,nr).set(xn,Ut);const bn=Qt(this,zt,vr).call(this,Zt);return Qt(this,zt,cr).call(this,qt,en,dn,bn),Ut}addHCMFilter(Rt,Ot){var In;const qt=`${Rt}-${Ot}`;if(at(this,Pt)===qt)return at(this,Et);if(sn(this,Pt,qt),sn(this,Et,"none"),(In=at(this,Vt))==null||In.remove(),!Rt||!Ot)return at(this,Et);const en=Qt(this,zt,ur).call(this,Rt);Rt=$.Util.makeHexColor(...en);const dn=Qt(this,zt,ur).call(this,Ot);if(Ot=$.Util.makeHexColor(...dn),at(this,zt,rr).style.color="",Rt==="#000000"&&Ot==="#ffffff"||Rt===Ot)return at(this,Et);const xn=new Array(256);for(let Nn=0;Nn<=255;Nn++){const Fn=Nn/255;xn[Nn]=Fn<=.03928?Fn/12.92:((Fn+.055)/1.055)**2.4}const Zt=xn.join(","),Ut=`g_${at(this,At)}_hcm_filter`,bn=sn(this,_t,Qt(this,zt,vr).call(this,Ut));Qt(this,zt,cr).call(this,Zt,Zt,Zt,bn),Qt(this,zt,Ur).call(this,bn);const yn=(Nn,Fn)=>{const wn=en[Nn]/255,kn=dn[Nn]/255,zn=new Array(Fn+1);for(let $n=0;$n<=Fn;$n++)zn[$n]=wn+$n/Fn*(kn-wn);return zn.join(",")};return Qt(this,zt,cr).call(this,yn(0,5),yn(1,5),yn(2,5),bn),sn(this,Et,`url(#${Ut})`),at(this,Et)}addHighlightHCMFilter(Rt,Ot,qt,en){var kn;const dn=`${Rt}-${Ot}-${qt}-${en}`;if(at(this,Ct)===dn)return at(this,Mt);if(sn(this,Ct,dn),sn(this,Mt,"none"),(kn=at(this,_t))==null||kn.remove(),!Rt||!Ot)return at(this,Mt);const[xn,Zt]=[Rt,Ot].map(Qt(this,zt,ur).bind(this));let Ut=Math.round(.2126*xn[0]+.7152*xn[1]+.0722*xn[2]),bn=Math.round(.2126*Zt[0]+.7152*Zt[1]+.0722*Zt[2]),[yn,In]=[qt,en].map(Qt(this,zt,ur).bind(this));bn<Ut&&([Ut,bn,yn,In]=[bn,Ut,In,yn]),at(this,zt,rr).style.color="";const Nn=(zn,$n,gn)=>{const tn=new Array(256),rn=(bn-Ut)/gn,An=zn/255,Un=($n-zn)/(255*gn);let Vn=0;for(let $t=0;$t<=gn;$t++){const hn=Math.round(Ut+$t*rn),_n=An+$t*Un;for(let Tn=Vn;Tn<=hn;Tn++)tn[Tn]=_n;Vn=hn+1}for(let $t=Vn;$t<256;$t++)tn[$t]=tn[Vn-1];return tn.join(",")},Fn=`g_${at(this,At)}_hcm_highlight_filter`,wn=sn(this,_t,Qt(this,zt,vr).call(this,Fn));return Qt(this,zt,Ur).call(this,wn),Qt(this,zt,cr).call(this,Nn(yn[0],In[0],5),Nn(yn[1],In[1],5),Nn(yn[2],In[2],5),wn),sn(this,Mt,`url(#${Fn})`),at(this,Mt)}destroy(Rt=!1){Rt&&(at(this,Et)||at(this,Mt))||(at(this,It)&&(at(this,It).parentNode.parentNode.remove(),sn(this,It,null)),at(this,Dt)&&(at(this,Dt).clear(),sn(this,Dt,null)),sn(this,Nt,0))}}Dt=new WeakMap,It=new WeakMap,At=new WeakMap,Ft=new WeakMap,Vt=new WeakMap,Pt=new WeakMap,Et=new WeakMap,_t=new WeakMap,Ct=new WeakMap,Mt=new WeakMap,Nt=new WeakMap,zt=new WeakSet,nr=function(){return at(this,Dt)||sn(this,Dt,new Map)},rr=function(){if(!at(this,It)){const Rt=at(this,Ft).createElement("div"),{style:Ot}=Rt;Ot.visibility="hidden",Ot.contain="strict",Ot.width=Ot.height=0,Ot.position="absolute",Ot.top=Ot.left=0,Ot.zIndex=-1;const qt=at(this,Ft).createElementNS(_e,"svg");qt.setAttribute("width",0),qt.setAttribute("height",0),sn(this,It,at(this,Ft).createElementNS(_e,"defs")),Rt.append(qt),qt.append(at(this,It)),at(this,Ft).body.append(Rt)}return at(this,It)},Ur=function(Rt){const Ot=at(this,Ft).createElementNS(_e,"feColorMatrix");Ot.setAttribute("type","matrix"),Ot.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Rt.append(Ot)},vr=function(Rt){const Ot=at(this,Ft).createElementNS(_e,"filter");return Ot.setAttribute("color-interpolation-filters","sRGB"),Ot.setAttribute("id",Rt),at(this,zt,rr).append(Ot),Ot},xr=function(Rt,Ot,qt){const en=at(this,Ft).createElementNS(_e,Ot);en.setAttribute("type","discrete"),en.setAttribute("tableValues",qt),Rt.append(en)},cr=function(Rt,Ot,qt,en){const dn=at(this,Ft).createElementNS(_e,"feComponentTransfer");en.append(dn),Qt(this,zt,xr).call(this,dn,"feFuncR",Rt),Qt(this,zt,xr).call(this,dn,"feFuncG",Ot),Qt(this,zt,xr).call(this,dn,"feFuncB",qt)},ur=function(Rt){return at(this,zt,rr).style.color=Rt,bt(getComputedStyle(at(this,zt,rr)).getPropertyValue("color"))},b.DOMFilterFactory=nt;class tt extends j.BaseCanvasFactory{constructor({ownerDocument:Kt=globalThis.document}={}){super(),this._document=Kt}_createCanvas(Kt,Rt){const Ot=this._document.createElement("canvas");return Ot.width=Kt,Ot.height=Rt,Ot}}b.DOMCanvasFactory=tt;async function rt(Yt,Kt=!1){if(ft(Yt,document.baseURI)){const Rt=await fetch(Yt);if(!Rt.ok)throw new Error(Rt.statusText);return Kt?new Uint8Array(await Rt.arrayBuffer()):(0,$.stringToBytes)(await Rt.text())}return new Promise((Rt,Ot)=>{const qt=new XMLHttpRequest;qt.open("GET",Yt,!0),Kt&&(qt.responseType="arraybuffer"),qt.onreadystatechange=()=>{if(qt.readyState===XMLHttpRequest.DONE){if(qt.status===200||qt.status===0){let en;if(Kt&&qt.response?en=new Uint8Array(qt.response):!Kt&&qt.responseText&&(en=(0,$.stringToBytes)(qt.responseText)),en){Rt(en);return}}Ot(new Error(qt.statusText))}},qt.send(null)})}class it extends j.BaseCMapReaderFactory{_fetchData(Kt,Rt){return rt(Kt,this.isCompressed).then(Ot=>({cMapData:Ot,compressionType:Rt}))}}b.DOMCMapReaderFactory=it;class ht extends j.BaseStandardFontDataFactory{_fetchData(Kt){return rt(Kt,!0)}}b.DOMStandardFontDataFactory=ht;class ut extends j.BaseSVGFactory{_createSVG(Kt){return document.createElementNS(_e,Kt)}}b.DOMSVGFactory=ut;class lt{constructor({viewBox:Kt,scale:Rt,rotation:Ot,offsetX:qt=0,offsetY:en=0,dontFlip:dn=!1}){this.viewBox=Kt,this.scale=Rt,this.rotation=Ot,this.offsetX=qt,this.offsetY=en;const xn=(Kt[2]+Kt[0])/2,Zt=(Kt[3]+Kt[1])/2;let Ut,bn,yn,In;switch(Ot%=360,Ot<0&&(Ot+=360),Ot){case 180:Ut=-1,bn=0,yn=0,In=1;break;case 90:Ut=0,bn=1,yn=1,In=0;break;case 270:Ut=0,bn=-1,yn=-1,In=0;break;case 0:Ut=1,bn=0,yn=0,In=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}dn&&(yn=-yn,In=-In);let Nn,Fn,wn,kn;Ut===0?(Nn=Math.abs(Zt-Kt[1])*Rt+qt,Fn=Math.abs(xn-Kt[0])*Rt+en,wn=(Kt[3]-Kt[1])*Rt,kn=(Kt[2]-Kt[0])*Rt):(Nn=Math.abs(xn-Kt[0])*Rt+qt,Fn=Math.abs(Zt-Kt[1])*Rt+en,wn=(Kt[2]-Kt[0])*Rt,kn=(Kt[3]-Kt[1])*Rt),this.transform=[Ut*Rt,bn*Rt,yn*Rt,In*Rt,Nn-Ut*Rt*xn-yn*Rt*Zt,Fn-bn*Rt*xn-In*Rt*Zt],this.width=wn,this.height=kn}get rawDims(){const{viewBox:Kt}=this;return(0,$.shadow)(this,"rawDims",{pageWidth:Kt[2]-Kt[0],pageHeight:Kt[3]-Kt[1],pageX:Kt[0],pageY:Kt[1]})}clone({scale:Kt=this.scale,rotation:Rt=this.rotation,offsetX:Ot=this.offsetX,offsetY:qt=this.offsetY,dontFlip:en=!1}={}){return new lt({viewBox:this.viewBox.slice(),scale:Kt,rotation:Rt,offsetX:Ot,offsetY:qt,dontFlip:en})}convertToViewportPoint(Kt,Rt){return $.Util.applyTransform([Kt,Rt],this.transform)}convertToViewportRectangle(Kt){const Rt=$.Util.applyTransform([Kt[0],Kt[1]],this.transform),Ot=$.Util.applyTransform([Kt[2],Kt[3]],this.transform);return[Rt[0],Rt[1],Ot[0],Ot[1]]}convertToPdfPoint(Kt,Rt){return $.Util.applyInverseTransform([Kt,Rt],this.transform)}}b.PageViewport=lt;class pt extends $.BaseException{constructor(Kt,Rt=0){super(Kt,"RenderingCancelledException"),this.extraDelay=Rt}}b.RenderingCancelledException=pt;function vt(Yt){const Kt=Yt.length;let Rt=0;for(;Rt<Kt&&Yt[Rt].trim()==="";)Rt++;return Yt.substring(Rt,Rt+5).toLowerCase()==="data:"}function yt(Yt){return typeof Yt=="string"&&/\.pdf$/i.test(Yt)}function st(Yt,Kt=!1){return Kt||([Yt]=Yt.split(/[#?]/,1)),Yt.substring(Yt.lastIndexOf("/")+1)}function ot(Yt,Kt="document.pdf"){if(typeof Yt!="string")return Kt;if(vt(Yt))return(0,$.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Kt;const Rt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Ot=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,qt=Rt.exec(Yt);let en=Ot.exec(qt[1])||Ot.exec(qt[2])||Ot.exec(qt[3]);if(en&&(en=en[0],en.includes("%")))try{en=Ot.exec(decodeURIComponent(en))[0]}catch{}return en||Kt}class mt{constructor(){Gn(this,"started",Object.create(null));Gn(this,"times",[])}time(Kt){Kt in this.started&&(0,$.warn)(`Timer is already running for ${Kt}`),this.started[Kt]=Date.now()}timeEnd(Kt){Kt in this.started||(0,$.warn)(`Timer has not been started for ${Kt}`),this.times.push({name:Kt,start:this.started[Kt],end:Date.now()}),delete this.started[Kt]}toString(){const Kt=[];let Rt=0;for(const{name:Ot}of this.times)Rt=Math.max(Ot.length,Rt);for(const{name:Ot,start:qt,end:en}of this.times)Kt.push(`${Ot.padEnd(Rt)} ${en-qt}ms
`);return Kt.join("")}}b.StatTimer=mt;function ft(Yt,Kt){try{const{protocol:Rt}=Kt?new URL(Yt,Kt):new URL(Yt);return Rt==="http:"||Rt==="https:"}catch{return!1}}function ct(Yt){Yt.preventDefault()}function xt(Yt,Kt=!1){return new Promise((Rt,Ot)=>{const qt=document.createElement("script");qt.src=Yt,qt.onload=function(en){Kt&&qt.remove(),Rt(en)},qt.onerror=function(){Ot(new Error(`Cannot load script at: ${qt.src}`))},(document.head||document.documentElement).append(qt)})}function dt(Yt){console.log("Deprecated API usage: "+Yt)}let gt;class St{static toDateObject(Kt){if(!Kt||typeof Kt!="string")return null;gt||(gt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Rt=gt.exec(Kt);if(!Rt)return null;const Ot=parseInt(Rt[1],10);let qt=parseInt(Rt[2],10);qt=qt>=1&&qt<=12?qt-1:0;let en=parseInt(Rt[3],10);en=en>=1&&en<=31?en:1;let dn=parseInt(Rt[4],10);dn=dn>=0&&dn<=23?dn:0;let xn=parseInt(Rt[5],10);xn=xn>=0&&xn<=59?xn:0;let Zt=parseInt(Rt[6],10);Zt=Zt>=0&&Zt<=59?Zt:0;const Ut=Rt[7]||"Z";let bn=parseInt(Rt[8],10);bn=bn>=0&&bn<=23?bn:0;let yn=parseInt(Rt[9],10)||0;return yn=yn>=0&&yn<=59?yn:0,Ut==="-"?(dn+=bn,xn+=yn):Ut==="+"&&(dn-=bn,xn-=yn),new Date(Date.UTC(Ot,qt,en,dn,xn,Zt))}}b.PDFDateString=St;function kt(Yt,{scale:Kt=1,rotation:Rt=0}){const{width:Ot,height:qt}=Yt.attributes.style,en=[0,0,parseInt(Ot),parseInt(qt)];return new lt({viewBox:en,scale:Kt,rotation:Rt})}function bt(Yt){if(Yt.startsWith("#")){const Kt=parseInt(Yt.slice(1),16);return[(Kt&16711680)>>16,(Kt&65280)>>8,Kt&255]}return Yt.startsWith("rgb(")?Yt.slice(4,-1).split(",").map(Kt=>parseInt(Kt)):Yt.startsWith("rgba(")?Yt.slice(5,-1).split(",").map(Kt=>parseInt(Kt)).slice(0,3):((0,$.warn)(`Not a valid color format: "${Yt}"`),[0,0,0])}function wt(Yt){const Kt=document.createElement("span");Kt.style.visibility="hidden",document.body.append(Kt);for(const Rt of Yt.keys()){Kt.style.color=Rt;const Ot=window.getComputedStyle(Kt).color;Yt.set(Rt,bt(Ot))}Kt.remove()}function Tt(Yt){const{a:Kt,b:Rt,c:Ot,d:qt,e:en,f:dn}=Yt.getTransform();return[Kt,Rt,Ot,qt,en,dn]}function Ht(Yt){const{a:Kt,b:Rt,c:Ot,d:qt,e:en,f:dn}=Yt.getTransform().invertSelf();return[Kt,Rt,Ot,qt,en,dn]}function Bt(Yt,Kt,Rt=!1,Ot=!0){if(Kt instanceof lt){const{pageWidth:qt,pageHeight:en}=Kt.rawDims,{style:dn}=Yt,xn=$.FeatureTest.isCSSRoundSupported,Zt=`var(--scale-factor) * ${qt}px`,Ut=`var(--scale-factor) * ${en}px`,bn=xn?`round(${Zt}, 1px)`:`calc(${Zt})`,yn=xn?`round(${Ut}, 1px)`:`calc(${Ut})`;!Rt||Kt.rotation%180===0?(dn.width=bn,dn.height=yn):(dn.width=yn,dn.height=bn)}Ot&&Yt.setAttribute("data-main-rotation",Kt.rotation)}},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaseStandardFontDataFactory=b.BaseSVGFactory=b.BaseFilterFactory=b.BaseCanvasFactory=b.BaseCMapReaderFactory=void 0;var j=_(1);class ${constructor(){this.constructor===$&&(0,j.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(it){return"none"}addHCMFilter(it,ht){return"none"}addHighlightHCMFilter(it,ht,ut,lt){return"none"}destroy(it=!1){}}b.BaseFilterFactory=$;class _e{constructor(){this.constructor===_e&&(0,j.unreachable)("Cannot initialize BaseCanvasFactory.")}create(it,ht){if(it<=0||ht<=0)throw new Error("Invalid canvas size");const ut=this._createCanvas(it,ht);return{canvas:ut,context:ut.getContext("2d")}}reset(it,ht,ut){if(!it.canvas)throw new Error("Canvas is not specified");if(ht<=0||ut<=0)throw new Error("Invalid canvas size");it.canvas.width=ht,it.canvas.height=ut}destroy(it){if(!it.canvas)throw new Error("Canvas is not specified");it.canvas.width=0,it.canvas.height=0,it.canvas=null,it.context=null}_createCanvas(it,ht){(0,j.unreachable)("Abstract method `_createCanvas` called.")}}b.BaseCanvasFactory=_e;class et{constructor({baseUrl:it=null,isCompressed:ht=!0}){this.constructor===et&&(0,j.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=it,this.isCompressed=ht}async fetch({name:it}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!it)throw new Error("CMap name must be specified.");const ht=this.baseUrl+it+(this.isCompressed?".bcmap":""),ut=this.isCompressed?j.CMapCompressionType.BINARY:j.CMapCompressionType.NONE;return this._fetchData(ht,ut).catch(lt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData(it,ht){(0,j.unreachable)("Abstract method `_fetchData` called.")}}b.BaseCMapReaderFactory=et;class nt{constructor({baseUrl:it=null}){this.constructor===nt&&(0,j.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=it}async fetch({filename:it}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!it)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${it}`;return this._fetchData(ht).catch(ut=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData(it){(0,j.unreachable)("Abstract method `_fetchData` called.")}}b.BaseStandardFontDataFactory=nt;class tt{constructor(){this.constructor===tt&&(0,j.unreachable)("Cannot initialize BaseSVGFactory.")}create(it,ht,ut=!1){if(it<=0||ht<=0)throw new Error("Invalid SVG dimensions");const lt=this._createSVG("svg:svg");return lt.setAttribute("version","1.1"),ut||(lt.setAttribute("width",`${it}px`),lt.setAttribute("height",`${ht}px`)),lt.setAttribute("preserveAspectRatio","none"),lt.setAttribute("viewBox",`0 0 ${it} ${ht}`),lt}createElement(it){if(typeof it!="string")throw new Error("Invalid SVG element type");return this._createSVG(it)}_createSVG(it){(0,j.unreachable)("Abstract method `_createSVG` called.")}}b.BaseSVGFactory=tt},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MurmurHash3_64=void 0;var j=_(1);const $=3285377520,_e=4294901760,et=65535;class nt{constructor(rt){this.h1=rt?rt&4294967295:$,this.h2=rt?rt&4294967295:$}update(rt){let it,ht;if(typeof rt=="string"){it=new Uint8Array(rt.length*2),ht=0;for(let dt=0,gt=rt.length;dt<gt;dt++){const St=rt.charCodeAt(dt);St<=255?it[ht++]=St:(it[ht++]=St>>>8,it[ht++]=St&255)}}else if((0,j.isArrayBuffer)(rt))it=rt.slice(),ht=it.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ut=ht>>2,lt=ht-ut*4,pt=new Uint32Array(it.buffer,0,ut);let vt=0,yt=0,st=this.h1,ot=this.h2;const mt=3432918353,ft=461845907,ct=mt&et,xt=ft&et;for(let dt=0;dt<ut;dt++)dt&1?(vt=pt[dt],vt=vt*mt&_e|vt*ct&et,vt=vt<<15|vt>>>17,vt=vt*ft&_e|vt*xt&et,st^=vt,st=st<<13|st>>>19,st=st*5+3864292196):(yt=pt[dt],yt=yt*mt&_e|yt*ct&et,yt=yt<<15|yt>>>17,yt=yt*ft&_e|yt*xt&et,ot^=yt,ot=ot<<13|ot>>>19,ot=ot*5+3864292196);switch(vt=0,lt){case 3:vt^=it[ut*4+2]<<16;case 2:vt^=it[ut*4+1]<<8;case 1:vt^=it[ut*4],vt=vt*mt&_e|vt*ct&et,vt=vt<<15|vt>>>17,vt=vt*ft&_e|vt*xt&et,ut&1?st^=vt:ot^=vt}this.h1=st,this.h2=ot}hexdigest(){let rt=this.h1,it=this.h2;return rt^=it>>>1,rt=rt*3981806797&_e|rt*36045&et,it=it*4283543511&_e|((it<<16|rt>>>16)*2950163797&_e)>>>16,rt^=it>>>1,rt=rt*444984403&_e|rt*60499&et,it=it*3301882366&_e|((it<<16|rt>>>16)*3120437893&_e)>>>16,rt^=it>>>1,(rt>>>0).toString(16).padStart(8,"0")+(it>>>0).toString(16).padStart(8,"0")}}b.MurmurHash3_64=nt},(g,b,_)=>{var et;Object.defineProperty(b,"__esModule",{value:!0}),b.FontLoader=b.FontFaceObject=void 0;var j=_(1);class ${constructor({ownerDocument:tt=globalThis.document,styleElement:rt=null}){nn(this,et,new Set);this._document=tt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(tt){this.nativeFontFaces.add(tt),this._document.fonts.add(tt)}removeNativeFontFace(tt){this.nativeFontFaces.delete(tt),this._document.fonts.delete(tt)}insertRule(tt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const rt=this.styleElement.sheet;rt.insertRule(tt,rt.cssRules.length)}clear(){for(const tt of this.nativeFontFaces)this._document.fonts.delete(tt);this.nativeFontFaces.clear(),at(this,et).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(tt){if(!(!tt||at(this,et).has(tt.loadedName))){if((0,j.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:rt,src:it,style:ht}=tt,ut=new FontFace(rt,it,ht);this.addNativeFontFace(ut);try{await ut.load(),at(this,et).add(rt)}catch{(0,j.warn)(`Cannot load system font: ${tt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(ut)}return}(0,j.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(tt){if(tt.attached||tt.missingFile&&!tt.systemFontInfo)return;if(tt.attached=!0,tt.systemFontInfo){await this.loadSystemFont(tt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const it=tt.createNativeFontFace();if(it){this.addNativeFontFace(it);try{await it.loaded}catch(ht){throw(0,j.warn)(`Failed to load font '${it.family}': '${ht}'.`),tt.disableFontFace=!0,ht}}return}const rt=tt.createFontFaceRule();if(rt){if(this.insertRule(rt),this.isSyncFontLoadingSupported)return;await new Promise(it=>{const ht=this._queueLoadingCallback(it);this._prepareFontLoadEvent(tt,ht)})}}get isFontLoadingAPISupported(){var rt;const tt=!!((rt=this._document)!=null&&rt.fonts);return(0,j.shadow)(this,"isFontLoadingAPISupported",tt)}get isSyncFontLoadingSupported(){let tt=!1;return(j.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(tt=!0),(0,j.shadow)(this,"isSyncFontLoadingSupported",tt)}_queueLoadingCallback(tt){function rt(){for((0,j.assert)(!ht.done,"completeRequest() cannot be called twice."),ht.done=!0;it.length>0&&it[0].done;){const ut=it.shift();setTimeout(ut.callback,0)}}const{loadingRequests:it}=this,ht={done:!1,complete:rt,callback:tt};return it.push(ht),ht}get _loadTestFont(){const tt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,j.shadow)(this,"_loadTestFont",tt)}_prepareFontLoadEvent(tt,rt){function it(bt,wt){return bt.charCodeAt(wt)<<24|bt.charCodeAt(wt+1)<<16|bt.charCodeAt(wt+2)<<8|bt.charCodeAt(wt+3)&255}function ht(bt,wt,Tt,Ht){const Bt=bt.substring(0,wt),Wt=bt.substring(wt+Tt);return Bt+Ht+Wt}let ut,lt;const pt=this._document.createElement("canvas");pt.width=1,pt.height=1;const vt=pt.getContext("2d");let yt=0;function st(bt,wt){if(++yt>30){(0,j.warn)("Load test font never loaded."),wt();return}if(vt.font="30px "+bt,vt.fillText(".",0,20),vt.getImageData(0,0,1,1).data[3]>0){wt();return}setTimeout(st.bind(null,bt,wt))}const ot=`lt${Date.now()}${this.loadTestFontId++}`;let mt=this._loadTestFont;mt=ht(mt,976,ot.length,ot);const ct=16,xt=1482184792;let dt=it(mt,ct);for(ut=0,lt=ot.length-3;ut<lt;ut+=4)dt=dt-xt+it(ot,ut)|0;ut<ot.length&&(dt=dt-xt+it(ot+"XXX",ut)|0),mt=ht(mt,ct,4,(0,j.string32)(dt));const gt=`url(data:font/opentype;base64,${btoa(mt)});`,St=`@font-face {font-family:"${ot}";src:${gt}}`;this.insertRule(St);const kt=this._document.createElement("div");kt.style.visibility="hidden",kt.style.width=kt.style.height="10px",kt.style.position="absolute",kt.style.top=kt.style.left="0px";for(const bt of[tt.loadedName,ot]){const wt=this._document.createElement("span");wt.textContent="Hi",wt.style.fontFamily=bt,kt.append(wt)}this._document.body.append(kt),st(ot,()=>{kt.remove(),rt.complete()})}}et=new WeakMap,b.FontLoader=$;class _e{constructor(tt,{isEvalSupported:rt=!0,disableFontFace:it=!1,ignoreErrors:ht=!1,inspectFont:ut=null}){this.compiledGlyphs=Object.create(null);for(const lt in tt)this[lt]=tt[lt];this.isEvalSupported=rt!==!1,this.disableFontFace=it===!0,this.ignoreErrors=ht===!0,this._inspectFont=ut}createNativeFontFace(){var rt;if(!this.data||this.disableFontFace)return null;let tt;if(!this.cssFontInfo)tt=new FontFace(this.loadedName,this.data,{});else{const it={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(it.style=`oblique ${this.cssFontInfo.italicAngle}deg`),tt=new FontFace(this.cssFontInfo.fontFamily,this.data,it)}return(rt=this._inspectFont)==null||rt.call(this,this),tt}createFontFaceRule(){var ht;if(!this.data||this.disableFontFace)return null;const tt=(0,j.bytesToString)(this.data),rt=`url(data:${this.mimetype};base64,${btoa(tt)});`;let it;if(!this.cssFontInfo)it=`@font-face {font-family:"${this.loadedName}";src:${rt}}`;else{let ut=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ut+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),it=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ut}src:${rt}}`}return(ht=this._inspectFont)==null||ht.call(this,this,rt),it}getPathGenerator(tt,rt){if(this.compiledGlyphs[rt]!==void 0)return this.compiledGlyphs[rt];let it;try{it=tt.get(this.loadedName+"_path_"+rt)}catch(ht){if(!this.ignoreErrors)throw ht;return(0,j.warn)(`getPathGenerator - ignoring character: "${ht}".`),this.compiledGlyphs[rt]=function(ut,lt){}}if(this.isEvalSupported&&j.FeatureTest.isEvalSupported){const ht=[];for(const ut of it){const lt=ut.args!==void 0?ut.args.join(","):"";ht.push("c.",ut.cmd,"(",lt,`);
`)}return this.compiledGlyphs[rt]=new Function("c","size",ht.join(""))}return this.compiledGlyphs[rt]=function(ht,ut){for(const lt of it)lt.cmd==="scale"&&(lt.args=[ut,-ut]),ht[lt.cmd].apply(ht,lt.args)}}}b.FontFaceObject=_e},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NodeStandardFontDataFactory=b.NodeFilterFactory=b.NodeCanvasFactory=b.NodeCMapReaderFactory=void 0;var j=_(7);_(1);const $=function(rt){return new Promise((it,ht)=>{require$$5.readFile(rt,(lt,pt)=>{if(lt||!pt){ht(new Error(lt));return}it(new Uint8Array(pt))})})};class _e extends j.BaseFilterFactory{}b.NodeFilterFactory=_e;class et extends j.BaseCanvasFactory{_createCanvas(it,ht){return require$$5.createCanvas(it,ht)}}b.NodeCanvasFactory=et;class nt extends j.BaseCMapReaderFactory{_fetchData(it,ht){return $(it).then(ut=>({cMapData:ut,compressionType:ht}))}}b.NodeCMapReaderFactory=nt;class tt extends j.BaseStandardFontDataFactory{_fetchData(it){return $(it)}}b.NodeStandardFontDataFactory=tt},(g,b,_)=>{var It,Vr,Wr;Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasGraphics=void 0;var j=_(1),$=_(6),_e=_(12),et=_(13);const nt=16,tt=100,rt=4096,it=15,ht=10,ut=1e3,lt=16;function pt(Pt,Et){if(Pt._removeMirroring)throw new Error("Context is already forwarding operations.");Pt.__originalSave=Pt.save,Pt.__originalRestore=Pt.restore,Pt.__originalRotate=Pt.rotate,Pt.__originalScale=Pt.scale,Pt.__originalTranslate=Pt.translate,Pt.__originalTransform=Pt.transform,Pt.__originalSetTransform=Pt.setTransform,Pt.__originalResetTransform=Pt.resetTransform,Pt.__originalClip=Pt.clip,Pt.__originalMoveTo=Pt.moveTo,Pt.__originalLineTo=Pt.lineTo,Pt.__originalBezierCurveTo=Pt.bezierCurveTo,Pt.__originalRect=Pt.rect,Pt.__originalClosePath=Pt.closePath,Pt.__originalBeginPath=Pt.beginPath,Pt._removeMirroring=()=>{Pt.save=Pt.__originalSave,Pt.restore=Pt.__originalRestore,Pt.rotate=Pt.__originalRotate,Pt.scale=Pt.__originalScale,Pt.translate=Pt.__originalTranslate,Pt.transform=Pt.__originalTransform,Pt.setTransform=Pt.__originalSetTransform,Pt.resetTransform=Pt.__originalResetTransform,Pt.clip=Pt.__originalClip,Pt.moveTo=Pt.__originalMoveTo,Pt.lineTo=Pt.__originalLineTo,Pt.bezierCurveTo=Pt.__originalBezierCurveTo,Pt.rect=Pt.__originalRect,Pt.closePath=Pt.__originalClosePath,Pt.beginPath=Pt.__originalBeginPath,delete Pt._removeMirroring},Pt.save=function(){Et.save(),this.__originalSave()},Pt.restore=function(){Et.restore(),this.__originalRestore()},Pt.translate=function(Ct,Mt){Et.translate(Ct,Mt),this.__originalTranslate(Ct,Mt)},Pt.scale=function(Ct,Mt){Et.scale(Ct,Mt),this.__originalScale(Ct,Mt)},Pt.transform=function(Ct,Mt,Nt,zt,Xt,Jt){Et.transform(Ct,Mt,Nt,zt,Xt,Jt),this.__originalTransform(Ct,Mt,Nt,zt,Xt,Jt)},Pt.setTransform=function(Ct,Mt,Nt,zt,Xt,Jt){Et.setTransform(Ct,Mt,Nt,zt,Xt,Jt),this.__originalSetTransform(Ct,Mt,Nt,zt,Xt,Jt)},Pt.resetTransform=function(){Et.resetTransform(),this.__originalResetTransform()},Pt.rotate=function(Ct){Et.rotate(Ct),this.__originalRotate(Ct)},Pt.clip=function(Ct){Et.clip(Ct),this.__originalClip(Ct)},Pt.moveTo=function(_t,Ct){Et.moveTo(_t,Ct),this.__originalMoveTo(_t,Ct)},Pt.lineTo=function(_t,Ct){Et.lineTo(_t,Ct),this.__originalLineTo(_t,Ct)},Pt.bezierCurveTo=function(_t,Ct,Mt,Nt,zt,Xt){Et.bezierCurveTo(_t,Ct,Mt,Nt,zt,Xt),this.__originalBezierCurveTo(_t,Ct,Mt,Nt,zt,Xt)},Pt.rect=function(_t,Ct,Mt,Nt){Et.rect(_t,Ct,Mt,Nt),this.__originalRect(_t,Ct,Mt,Nt)},Pt.closePath=function(){Et.closePath(),this.__originalClosePath()},Pt.beginPath=function(){Et.beginPath(),this.__originalBeginPath()}}class vt{constructor(Et){this.canvasFactory=Et,this.cache=Object.create(null)}getCanvas(Et,_t,Ct){let Mt;return this.cache[Et]!==void 0?(Mt=this.cache[Et],this.canvasFactory.reset(Mt,_t,Ct)):(Mt=this.canvasFactory.create(_t,Ct),this.cache[Et]=Mt),Mt}delete(Et){delete this.cache[Et]}clear(){for(const Et in this.cache){const _t=this.cache[Et];this.canvasFactory.destroy(_t),delete this.cache[Et]}}}function yt(Pt,Et,_t,Ct,Mt,Nt,zt,Xt,Jt,on){const[ln,fn,pn,mn,Yt,Kt]=(0,$.getCurrentTransform)(Pt);if(fn===0&&pn===0){const qt=zt*ln+Yt,en=Math.round(qt),dn=Xt*mn+Kt,xn=Math.round(dn),Zt=(zt+Jt)*ln+Yt,Ut=Math.abs(Math.round(Zt)-en)||1,bn=(Xt+on)*mn+Kt,yn=Math.abs(Math.round(bn)-xn)||1;return Pt.setTransform(Math.sign(ln),0,0,Math.sign(mn),en,xn),Pt.drawImage(Et,_t,Ct,Mt,Nt,0,0,Ut,yn),Pt.setTransform(ln,fn,pn,mn,Yt,Kt),[Ut,yn]}if(ln===0&&mn===0){const qt=Xt*pn+Yt,en=Math.round(qt),dn=zt*fn+Kt,xn=Math.round(dn),Zt=(Xt+on)*pn+Yt,Ut=Math.abs(Math.round(Zt)-en)||1,bn=(zt+Jt)*fn+Kt,yn=Math.abs(Math.round(bn)-xn)||1;return Pt.setTransform(0,Math.sign(fn),Math.sign(pn),0,en,xn),Pt.drawImage(Et,_t,Ct,Mt,Nt,0,0,yn,Ut),Pt.setTransform(ln,fn,pn,mn,Yt,Kt),[yn,Ut]}Pt.drawImage(Et,_t,Ct,Mt,Nt,zt,Xt,Jt,on);const Rt=Math.hypot(ln,fn),Ot=Math.hypot(pn,mn);return[Rt*Jt,Ot*on]}function st(Pt){const{width:Et,height:_t}=Pt;if(Et>ut||_t>ut)return null;const Ct=1e3,Mt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Nt=Et+1;let zt=new Uint8Array(Nt*(_t+1)),Xt,Jt,on;const ln=Et+7&-8;let fn=new Uint8Array(ln*_t),pn=0;for(const Ot of Pt.data){let qt=128;for(;qt>0;)fn[pn++]=Ot&qt?0:255,qt>>=1}let mn=0;for(pn=0,fn[pn]!==0&&(zt[0]=1,++mn),Jt=1;Jt<Et;Jt++)fn[pn]!==fn[pn+1]&&(zt[Jt]=fn[pn]?2:1,++mn),pn++;for(fn[pn]!==0&&(zt[Jt]=2,++mn),Xt=1;Xt<_t;Xt++){pn=Xt*ln,on=Xt*Nt,fn[pn-ln]!==fn[pn]&&(zt[on]=fn[pn]?1:8,++mn);let Ot=(fn[pn]?4:0)+(fn[pn-ln]?8:0);for(Jt=1;Jt<Et;Jt++)Ot=(Ot>>2)+(fn[pn+1]?4:0)+(fn[pn-ln+1]?8:0),Mt[Ot]&&(zt[on+Jt]=Mt[Ot],++mn),pn++;if(fn[pn-ln]!==fn[pn]&&(zt[on+Jt]=fn[pn]?2:4,++mn),mn>Ct)return null}for(pn=ln*(_t-1),on=Xt*Nt,fn[pn]!==0&&(zt[on]=8,++mn),Jt=1;Jt<Et;Jt++)fn[pn]!==fn[pn+1]&&(zt[on+Jt]=fn[pn]?4:8,++mn),pn++;if(fn[pn]!==0&&(zt[on+Jt]=4,++mn),mn>Ct)return null;const Yt=new Int32Array([0,Nt,-1,0,-Nt,0,0,0,1]),Kt=new Path2D;for(Xt=0;mn&&Xt<=_t;Xt++){let Ot=Xt*Nt;const qt=Ot+Et;for(;Ot<qt&&!zt[Ot];)Ot++;if(Ot===qt)continue;Kt.moveTo(Ot%Nt,Xt);const en=Ot;let dn=zt[Ot];do{const xn=Yt[dn];do Ot+=xn;while(!zt[Ot]);const Zt=zt[Ot];Zt!==5&&Zt!==10?(dn=Zt,zt[Ot]=0):(dn=Zt&51*dn>>4,zt[Ot]&=dn>>2|dn<<2),Kt.lineTo(Ot%Nt,Ot/Nt|0),zt[Ot]||--mn}while(en!==Ot);--Xt}return fn=null,zt=null,function(Ot){Ot.save(),Ot.scale(1/Et,-1/_t),Ot.translate(0,-_t),Ot.fill(Kt),Ot.beginPath(),Ot.restore()}}class ot{constructor(Et,_t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=j.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=j.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=j.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Et,_t])}clone(){const Et=Object.create(this);return Et.clipBox=this.clipBox.slice(),Et}setCurrentPoint(Et,_t){this.x=Et,this.y=_t}updatePathMinMax(Et,_t,Ct){[_t,Ct]=j.Util.applyTransform([_t,Ct],Et),this.minX=Math.min(this.minX,_t),this.minY=Math.min(this.minY,Ct),this.maxX=Math.max(this.maxX,_t),this.maxY=Math.max(this.maxY,Ct)}updateRectMinMax(Et,_t){const Ct=j.Util.applyTransform(_t,Et),Mt=j.Util.applyTransform(_t.slice(2),Et);this.minX=Math.min(this.minX,Ct[0],Mt[0]),this.minY=Math.min(this.minY,Ct[1],Mt[1]),this.maxX=Math.max(this.maxX,Ct[0],Mt[0]),this.maxY=Math.max(this.maxY,Ct[1],Mt[1])}updateScalingPathMinMax(Et,_t){j.Util.scaleMinMax(Et,_t),this.minX=Math.min(this.minX,_t[0]),this.maxX=Math.max(this.maxX,_t[1]),this.minY=Math.min(this.minY,_t[2]),this.maxY=Math.max(this.maxY,_t[3])}updateCurvePathMinMax(Et,_t,Ct,Mt,Nt,zt,Xt,Jt,on,ln){const fn=j.Util.bezierBoundingBox(_t,Ct,Mt,Nt,zt,Xt,Jt,on);if(ln){ln[0]=Math.min(ln[0],fn[0],fn[2]),ln[1]=Math.max(ln[1],fn[0],fn[2]),ln[2]=Math.min(ln[2],fn[1],fn[3]),ln[3]=Math.max(ln[3],fn[1],fn[3]);return}this.updateRectMinMax(Et,fn)}getPathBoundingBox(Et=_e.PathType.FILL,_t=null){const Ct=[this.minX,this.minY,this.maxX,this.maxY];if(Et===_e.PathType.STROKE){_t||(0,j.unreachable)("Stroke bounding box must include transform.");const Mt=j.Util.singularValueDecompose2dScale(_t),Nt=Mt[0]*this.lineWidth/2,zt=Mt[1]*this.lineWidth/2;Ct[0]-=Nt,Ct[1]-=zt,Ct[2]+=Nt,Ct[3]+=zt}return Ct}updateClipFromPath(){const Et=j.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Et||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Et){this.clipBox=Et,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Et=_e.PathType.FILL,_t=null){return j.Util.intersect(this.clipBox,this.getPathBoundingBox(Et,_t))}}function mt(Pt,Et){if(typeof ImageData<"u"&&Et instanceof ImageData){Pt.putImageData(Et,0,0);return}const _t=Et.height,Ct=Et.width,Mt=_t%lt,Nt=(_t-Mt)/lt,zt=Mt===0?Nt:Nt+1,Xt=Pt.createImageData(Ct,lt);let Jt=0,on;const ln=Et.data,fn=Xt.data;let pn,mn,Yt,Kt;if(Et.kind===j.ImageKind.GRAYSCALE_1BPP){const Rt=ln.byteLength,Ot=new Uint32Array(fn.buffer,0,fn.byteLength>>2),qt=Ot.length,en=Ct+7>>3,dn=4294967295,xn=j.FeatureTest.isLittleEndian?4278190080:255;for(pn=0;pn<zt;pn++){for(Yt=pn<Nt?lt:Mt,on=0,mn=0;mn<Yt;mn++){const Zt=Rt-Jt;let Ut=0;const bn=Zt>en?Ct:Zt*8-7,yn=bn&-8;let In=0,Nn=0;for(;Ut<yn;Ut+=8)Nn=ln[Jt++],Ot[on++]=Nn&128?dn:xn,Ot[on++]=Nn&64?dn:xn,Ot[on++]=Nn&32?dn:xn,Ot[on++]=Nn&16?dn:xn,Ot[on++]=Nn&8?dn:xn,Ot[on++]=Nn&4?dn:xn,Ot[on++]=Nn&2?dn:xn,Ot[on++]=Nn&1?dn:xn;for(;Ut<bn;Ut++)In===0&&(Nn=ln[Jt++],In=128),Ot[on++]=Nn&In?dn:xn,In>>=1}for(;on<qt;)Ot[on++]=0;Pt.putImageData(Xt,0,pn*lt)}}else if(Et.kind===j.ImageKind.RGBA_32BPP){for(mn=0,Kt=Ct*lt*4,pn=0;pn<Nt;pn++)fn.set(ln.subarray(Jt,Jt+Kt)),Jt+=Kt,Pt.putImageData(Xt,0,mn),mn+=lt;pn<zt&&(Kt=Ct*Mt*4,fn.set(ln.subarray(Jt,Jt+Kt)),Pt.putImageData(Xt,0,mn))}else if(Et.kind===j.ImageKind.RGB_24BPP)for(Yt=lt,Kt=Ct*Yt,pn=0;pn<zt;pn++){for(pn>=Nt&&(Yt=Mt,Kt=Ct*Yt),on=0,mn=Kt;mn--;)fn[on++]=ln[Jt++],fn[on++]=ln[Jt++],fn[on++]=ln[Jt++],fn[on++]=255;Pt.putImageData(Xt,0,pn*lt)}else throw new Error(`bad image kind: ${Et.kind}`)}function ft(Pt,Et){if(Et.bitmap){Pt.drawImage(Et.bitmap,0,0);return}const _t=Et.height,Ct=Et.width,Mt=_t%lt,Nt=(_t-Mt)/lt,zt=Mt===0?Nt:Nt+1,Xt=Pt.createImageData(Ct,lt);let Jt=0;const on=Et.data,ln=Xt.data;for(let fn=0;fn<zt;fn++){const pn=fn<Nt?lt:Mt;({srcPos:Jt}=(0,et.convertBlackAndWhiteToRGBA)({src:on,srcPos:Jt,dest:ln,width:Ct,height:pn,nonBlackColor:0})),Pt.putImageData(Xt,0,fn*lt)}}function ct(Pt,Et){const _t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Ct of _t)Pt[Ct]!==void 0&&(Et[Ct]=Pt[Ct]);Pt.setLineDash!==void 0&&(Et.setLineDash(Pt.getLineDash()),Et.lineDashOffset=Pt.lineDashOffset)}function xt(Pt){if(Pt.strokeStyle=Pt.fillStyle="#000000",Pt.fillRule="nonzero",Pt.globalAlpha=1,Pt.lineWidth=1,Pt.lineCap="butt",Pt.lineJoin="miter",Pt.miterLimit=10,Pt.globalCompositeOperation="source-over",Pt.font="10px sans-serif",Pt.setLineDash!==void 0&&(Pt.setLineDash([]),Pt.lineDashOffset=0),!j.isNodeJS){const{filter:Et}=Pt;Et!=="none"&&Et!==""&&(Pt.filter="none")}}function dt(Pt,Et,_t,Ct){const Mt=Pt.length;for(let Nt=3;Nt<Mt;Nt+=4){const zt=Pt[Nt];if(zt===0)Pt[Nt-3]=Et,Pt[Nt-2]=_t,Pt[Nt-1]=Ct;else if(zt<255){const Xt=255-zt;Pt[Nt-3]=Pt[Nt-3]*zt+Et*Xt>>8,Pt[Nt-2]=Pt[Nt-2]*zt+_t*Xt>>8,Pt[Nt-1]=Pt[Nt-1]*zt+Ct*Xt>>8}}}function gt(Pt,Et,_t){const Ct=Pt.length,Mt=1/255;for(let Nt=3;Nt<Ct;Nt+=4){const zt=_t?_t[Pt[Nt]]:Pt[Nt];Et[Nt]=Et[Nt]*zt*Mt|0}}function St(Pt,Et,_t){const Ct=Pt.length;for(let Mt=3;Mt<Ct;Mt+=4){const Nt=Pt[Mt-3]*77+Pt[Mt-2]*152+Pt[Mt-1]*28;Et[Mt]=_t?Et[Mt]*_t[Nt>>8]>>8:Et[Mt]*Nt>>16}}function kt(Pt,Et,_t,Ct,Mt,Nt,zt,Xt,Jt,on,ln){const fn=!!Nt,pn=fn?Nt[0]:0,mn=fn?Nt[1]:0,Yt=fn?Nt[2]:0,Kt=Mt==="Luminosity"?St:gt,Ot=Math.min(Ct,Math.ceil(1048576/_t));for(let qt=0;qt<Ct;qt+=Ot){const en=Math.min(Ot,Ct-qt),dn=Pt.getImageData(Xt-on,qt+(Jt-ln),_t,en),xn=Et.getImageData(Xt,qt+Jt,_t,en);fn&&dt(dn.data,pn,mn,Yt),Kt(dn.data,xn.data,zt),Et.putImageData(xn,Xt,qt+Jt)}}function bt(Pt,Et,_t,Ct){const Mt=Ct[0],Nt=Ct[1],zt=Ct[2]-Mt,Xt=Ct[3]-Nt;zt===0||Xt===0||(kt(Et.context,_t,zt,Xt,Et.subtype,Et.backdrop,Et.transferMap,Mt,Nt,Et.offsetX,Et.offsetY),Pt.save(),Pt.globalAlpha=1,Pt.globalCompositeOperation="source-over",Pt.setTransform(1,0,0,1,0,0),Pt.drawImage(_t.canvas,0,0),Pt.restore())}function wt(Pt,Et){const _t=j.Util.singularValueDecompose2dScale(Pt);_t[0]=Math.fround(_t[0]),_t[1]=Math.fround(_t[1]);const Ct=Math.fround((globalThis.devicePixelRatio||1)*$.PixelsPerInch.PDF_TO_CSS_UNITS);return Et!==void 0?Et:_t[0]<=Ct||_t[1]<=Ct}const Tt=["butt","round","square"],Ht=["miter","round","bevel"],Bt={},Wt={},Vt=class Vt{constructor(Et,_t,Ct,Mt,Nt,{optionalContentConfig:zt,markedContentStack:Xt=null},Jt,on){nn(this,It);this.ctx=Et,this.current=new ot(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_t,this.objs=Ct,this.canvasFactory=Mt,this.filterFactory=Nt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Xt||[],this.optionalContentConfig=zt,this.cachedCanvases=new vt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Jt,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=on,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Et,_t=null){return typeof Et=="string"?Et.startsWith("g_")?this.commonObjs.get(Et):this.objs.get(Et):_t}beginDrawing({transform:Et,viewport:_t,transparency:Ct=!1,background:Mt=null}){const Nt=this.ctx.canvas.width,zt=this.ctx.canvas.height,Xt=this.ctx.fillStyle;if(this.ctx.fillStyle=Mt||"#ffffff",this.ctx.fillRect(0,0,Nt,zt),this.ctx.fillStyle=Xt,Ct){const Jt=this.cachedCanvases.getCanvas("transparent",Nt,zt);this.compositeCtx=this.ctx,this.transparentCanvas=Jt.canvas,this.ctx=Jt.context,this.ctx.save(),this.ctx.transform(...(0,$.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),xt(this.ctx),Et&&(this.ctx.transform(...Et),this.outputScaleX=Et[0],this.outputScaleY=Et[0]),this.ctx.transform(..._t.transform),this.viewportScale=_t.scale,this.baseTransform=(0,$.getCurrentTransform)(this.ctx)}executeOperatorList(Et,_t,Ct,Mt){const Nt=Et.argsArray,zt=Et.fnArray;let Xt=_t||0;const Jt=Nt.length;if(Jt===Xt)return Xt;const on=Jt-Xt>ht&&typeof Ct=="function",ln=on?Date.now()+it:0;let fn=0;const pn=this.commonObjs,mn=this.objs;let Yt;for(;;){if(Mt!==void 0&&Xt===Mt.nextBreakPoint)return Mt.breakIt(Xt,Ct),Xt;if(Yt=zt[Xt],Yt!==j.OPS.dependency)this[Yt].apply(this,Nt[Xt]);else for(const Kt of Nt[Xt]){const Rt=Kt.startsWith("g_")?pn:mn;if(!Rt.has(Kt))return Rt.get(Kt,Ct),Xt}if(Xt++,Xt===Jt)return Xt;if(on&&++fn>ht){if(Date.now()>ln)return Ct(),Xt;fn=0}}}endDrawing(){Qt(this,It,Vr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Et of this._cachedBitmapsMap.values()){for(const _t of Et.values())typeof HTMLCanvasElement<"u"&&_t instanceof HTMLCanvasElement&&(_t.width=_t.height=0);Et.clear()}this._cachedBitmapsMap.clear(),Qt(this,It,Wr).call(this)}_scaleImage(Et,_t){const Ct=Et.width,Mt=Et.height;let Nt=Math.max(Math.hypot(_t[0],_t[1]),1),zt=Math.max(Math.hypot(_t[2],_t[3]),1),Xt=Ct,Jt=Mt,on="prescale1",ln,fn;for(;Nt>2&&Xt>1||zt>2&&Jt>1;){let pn=Xt,mn=Jt;Nt>2&&Xt>1&&(pn=Xt>=16384?Math.floor(Xt/2)-1||1:Math.ceil(Xt/2),Nt/=Xt/pn),zt>2&&Jt>1&&(mn=Jt>=16384?Math.floor(Jt/2)-1||1:Math.ceil(Jt)/2,zt/=Jt/mn),ln=this.cachedCanvases.getCanvas(on,pn,mn),fn=ln.context,fn.clearRect(0,0,pn,mn),fn.drawImage(Et,0,0,Xt,Jt,0,0,pn,mn),Et=ln.canvas,Xt=pn,Jt=mn,on=on==="prescale1"?"prescale2":"prescale1"}return{img:Et,paintWidth:Xt,paintHeight:Jt}}_createMaskCanvas(Et){const _t=this.ctx,{width:Ct,height:Mt}=Et,Nt=this.current.fillColor,zt=this.current.patternFill,Xt=(0,$.getCurrentTransform)(_t);let Jt,on,ln,fn;if((Et.bitmap||Et.data)&&Et.count>1){const Ut=Et.bitmap||Et.data.buffer;on=JSON.stringify(zt?Xt:[Xt.slice(0,4),Nt]),Jt=this._cachedBitmapsMap.get(Ut),Jt||(Jt=new Map,this._cachedBitmapsMap.set(Ut,Jt));const bn=Jt.get(on);if(bn&&!zt){const yn=Math.round(Math.min(Xt[0],Xt[2])+Xt[4]),In=Math.round(Math.min(Xt[1],Xt[3])+Xt[5]);return{canvas:bn,offsetX:yn,offsetY:In}}ln=bn}ln||(fn=this.cachedCanvases.getCanvas("maskCanvas",Ct,Mt),ft(fn.context,Et));let pn=j.Util.transform(Xt,[1/Ct,0,0,-1/Mt,0,0]);pn=j.Util.transform(pn,[1,0,0,1,0,-Mt]);const mn=j.Util.applyTransform([0,0],pn),Yt=j.Util.applyTransform([Ct,Mt],pn),Kt=j.Util.normalizeRect([mn[0],mn[1],Yt[0],Yt[1]]),Rt=Math.round(Kt[2]-Kt[0])||1,Ot=Math.round(Kt[3]-Kt[1])||1,qt=this.cachedCanvases.getCanvas("fillCanvas",Rt,Ot),en=qt.context,dn=Math.min(mn[0],Yt[0]),xn=Math.min(mn[1],Yt[1]);en.translate(-dn,-xn),en.transform(...pn),ln||(ln=this._scaleImage(fn.canvas,(0,$.getCurrentTransformInverse)(en)),ln=ln.img,Jt&&zt&&Jt.set(on,ln)),en.imageSmoothingEnabled=wt((0,$.getCurrentTransform)(en),Et.interpolate),yt(en,ln,0,0,ln.width,ln.height,0,0,Ct,Mt),en.globalCompositeOperation="source-in";const Zt=j.Util.transform((0,$.getCurrentTransformInverse)(en),[1,0,0,1,-dn,-xn]);return en.fillStyle=zt?Nt.getPattern(_t,this,Zt,_e.PathType.FILL):Nt,en.fillRect(0,0,Ct,Mt),Jt&&!zt&&(this.cachedCanvases.delete("fillCanvas"),Jt.set(on,qt.canvas)),{canvas:qt.canvas,offsetX:Math.round(dn),offsetY:Math.round(xn)}}setLineWidth(Et){Et!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Et,this.ctx.lineWidth=Et}setLineCap(Et){this.ctx.lineCap=Tt[Et]}setLineJoin(Et){this.ctx.lineJoin=Ht[Et]}setMiterLimit(Et){this.ctx.miterLimit=Et}setDash(Et,_t){const Ct=this.ctx;Ct.setLineDash!==void 0&&(Ct.setLineDash(Et),Ct.lineDashOffset=_t)}setRenderingIntent(Et){}setFlatness(Et){}setGState(Et){for(const[_t,Ct]of Et)switch(_t){case"LW":this.setLineWidth(Ct);break;case"LC":this.setLineCap(Ct);break;case"LJ":this.setLineJoin(Ct);break;case"ML":this.setMiterLimit(Ct);break;case"D":this.setDash(Ct[0],Ct[1]);break;case"RI":this.setRenderingIntent(Ct);break;case"FL":this.setFlatness(Ct);break;case"Font":this.setFont(Ct[0],Ct[1]);break;case"CA":this.current.strokeAlpha=Ct;break;case"ca":this.current.fillAlpha=Ct,this.ctx.globalAlpha=Ct;break;case"BM":this.ctx.globalCompositeOperation=Ct;break;case"SMask":this.current.activeSMask=Ct?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Ct);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Et=this.inSMaskMode;this.current.activeSMask&&!Et?this.beginSMaskMode():!this.current.activeSMask&&Et&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Et=this.ctx.canvas.width,_t=this.ctx.canvas.height,Ct="smaskGroupAt"+this.groupLevel,Mt=this.cachedCanvases.getCanvas(Ct,Et,_t);this.suspendedCtx=this.ctx,this.ctx=Mt.context;const Nt=this.ctx;Nt.setTransform(...(0,$.getCurrentTransform)(this.suspendedCtx)),ct(this.suspendedCtx,Nt),pt(Nt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ct(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Et){if(!this.current.activeSMask)return;Et?(Et[0]=Math.floor(Et[0]),Et[1]=Math.floor(Et[1]),Et[2]=Math.ceil(Et[2]),Et[3]=Math.ceil(Et[3])):Et=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const _t=this.current.activeSMask,Ct=this.suspendedCtx;bt(Ct,_t,this.ctx,Et),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(ct(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Et=this.current;this.stateStack.push(Et),this.current=Et.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ct(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Et,_t,Ct,Mt,Nt,zt){this.ctx.transform(Et,_t,Ct,Mt,Nt,zt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Et,_t,Ct){const Mt=this.ctx,Nt=this.current;let zt=Nt.x,Xt=Nt.y,Jt,on;const ln=(0,$.getCurrentTransform)(Mt),fn=ln[0]===0&&ln[3]===0||ln[1]===0&&ln[2]===0,pn=fn?Ct.slice(0):null;for(let mn=0,Yt=0,Kt=Et.length;mn<Kt;mn++)switch(Et[mn]|0){case j.OPS.rectangle:zt=_t[Yt++],Xt=_t[Yt++];const Rt=_t[Yt++],Ot=_t[Yt++],qt=zt+Rt,en=Xt+Ot;Mt.moveTo(zt,Xt),Rt===0||Ot===0?Mt.lineTo(qt,en):(Mt.lineTo(qt,Xt),Mt.lineTo(qt,en),Mt.lineTo(zt,en)),fn||Nt.updateRectMinMax(ln,[zt,Xt,qt,en]),Mt.closePath();break;case j.OPS.moveTo:zt=_t[Yt++],Xt=_t[Yt++],Mt.moveTo(zt,Xt),fn||Nt.updatePathMinMax(ln,zt,Xt);break;case j.OPS.lineTo:zt=_t[Yt++],Xt=_t[Yt++],Mt.lineTo(zt,Xt),fn||Nt.updatePathMinMax(ln,zt,Xt);break;case j.OPS.curveTo:Jt=zt,on=Xt,zt=_t[Yt+4],Xt=_t[Yt+5],Mt.bezierCurveTo(_t[Yt],_t[Yt+1],_t[Yt+2],_t[Yt+3],zt,Xt),Nt.updateCurvePathMinMax(ln,Jt,on,_t[Yt],_t[Yt+1],_t[Yt+2],_t[Yt+3],zt,Xt,pn),Yt+=6;break;case j.OPS.curveTo2:Jt=zt,on=Xt,Mt.bezierCurveTo(zt,Xt,_t[Yt],_t[Yt+1],_t[Yt+2],_t[Yt+3]),Nt.updateCurvePathMinMax(ln,Jt,on,zt,Xt,_t[Yt],_t[Yt+1],_t[Yt+2],_t[Yt+3],pn),zt=_t[Yt+2],Xt=_t[Yt+3],Yt+=4;break;case j.OPS.curveTo3:Jt=zt,on=Xt,zt=_t[Yt+2],Xt=_t[Yt+3],Mt.bezierCurveTo(_t[Yt],_t[Yt+1],zt,Xt,zt,Xt),Nt.updateCurvePathMinMax(ln,Jt,on,_t[Yt],_t[Yt+1],zt,Xt,zt,Xt,pn),Yt+=4;break;case j.OPS.closePath:Mt.closePath();break}fn&&Nt.updateScalingPathMinMax(ln,pn),Nt.setCurrentPoint(zt,Xt)}closePath(){this.ctx.closePath()}stroke(Et=!0){const _t=this.ctx,Ct=this.current.strokeColor;_t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Ct=="object"&&(Ct!=null&&Ct.getPattern)?(_t.save(),_t.strokeStyle=Ct.getPattern(_t,this,(0,$.getCurrentTransformInverse)(_t),_e.PathType.STROKE),this.rescaleAndStroke(!1),_t.restore()):this.rescaleAndStroke(!0)),Et&&this.consumePath(this.current.getClippedPathBoundingBox()),_t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Et=!0){const _t=this.ctx,Ct=this.current.fillColor,Mt=this.current.patternFill;let Nt=!1;Mt&&(_t.save(),_t.fillStyle=Ct.getPattern(_t,this,(0,$.getCurrentTransformInverse)(_t),_e.PathType.FILL),Nt=!0);const zt=this.current.getClippedPathBoundingBox();this.contentVisible&&zt!==null&&(this.pendingEOFill?(_t.fill("evenodd"),this.pendingEOFill=!1):_t.fill()),Nt&&_t.restore(),Et&&this.consumePath(zt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Bt}eoClip(){this.pendingClip=Wt}beginText(){this.current.textMatrix=j.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Et=this.pendingTextPaths,_t=this.ctx;if(Et===void 0){_t.beginPath();return}_t.save(),_t.beginPath();for(const Ct of Et)_t.setTransform(...Ct.transform),_t.translate(Ct.x,Ct.y),Ct.addToPath(_t,Ct.fontSize);_t.restore(),_t.clip(),_t.beginPath(),delete this.pendingTextPaths}setCharSpacing(Et){this.current.charSpacing=Et}setWordSpacing(Et){this.current.wordSpacing=Et}setHScale(Et){this.current.textHScale=Et/100}setLeading(Et){this.current.leading=-Et}setFont(Et,_t){var ln;const Ct=this.commonObjs.get(Et),Mt=this.current;if(!Ct)throw new Error(`Can't find font for ${Et}`);if(Mt.fontMatrix=Ct.fontMatrix||j.FONT_IDENTITY_MATRIX,(Mt.fontMatrix[0]===0||Mt.fontMatrix[3]===0)&&(0,j.warn)("Invalid font matrix for font "+Et),_t<0?(_t=-_t,Mt.fontDirection=-1):Mt.fontDirection=1,this.current.font=Ct,this.current.fontSize=_t,Ct.isType3Font)return;const Nt=Ct.loadedName||"sans-serif",zt=((ln=Ct.systemFontInfo)==null?void 0:ln.css)||`"${Nt}", ${Ct.fallbackName}`;let Xt="normal";Ct.black?Xt="900":Ct.bold&&(Xt="bold");const Jt=Ct.italic?"italic":"normal";let on=_t;_t<nt?on=nt:_t>tt&&(on=tt),this.current.fontSizeScale=_t/on,this.ctx.font=`${Jt} ${Xt} ${on}px ${zt}`}setTextRenderingMode(Et){this.current.textRenderingMode=Et}setTextRise(Et){this.current.textRise=Et}moveText(Et,_t){this.current.x=this.current.lineX+=Et,this.current.y=this.current.lineY+=_t}setLeadingMoveText(Et,_t){this.setLeading(-_t),this.moveText(Et,_t)}setTextMatrix(Et,_t,Ct,Mt,Nt,zt){this.current.textMatrix=[Et,_t,Ct,Mt,Nt,zt],this.current.textMatrixScale=Math.hypot(Et,_t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Et,_t,Ct,Mt){const Nt=this.ctx,zt=this.current,Xt=zt.font,Jt=zt.textRenderingMode,on=zt.fontSize/zt.fontSizeScale,ln=Jt&j.TextRenderingMode.FILL_STROKE_MASK,fn=!!(Jt&j.TextRenderingMode.ADD_TO_PATH_FLAG),pn=zt.patternFill&&!Xt.missingFile;let mn;(Xt.disableFontFace||fn||pn)&&(mn=Xt.getPathGenerator(this.commonObjs,Et)),Xt.disableFontFace||pn?(Nt.save(),Nt.translate(_t,Ct),Nt.beginPath(),mn(Nt,on),Mt&&Nt.setTransform(...Mt),(ln===j.TextRenderingMode.FILL||ln===j.TextRenderingMode.FILL_STROKE)&&Nt.fill(),(ln===j.TextRenderingMode.STROKE||ln===j.TextRenderingMode.FILL_STROKE)&&Nt.stroke(),Nt.restore()):((ln===j.TextRenderingMode.FILL||ln===j.TextRenderingMode.FILL_STROKE)&&Nt.fillText(Et,_t,Ct),(ln===j.TextRenderingMode.STROKE||ln===j.TextRenderingMode.FILL_STROKE)&&Nt.strokeText(Et,_t,Ct)),fn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,$.getCurrentTransform)(Nt),x:_t,y:Ct,fontSize:on,addToPath:mn})}get isFontSubpixelAAEnabled(){const{context:Et}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Et.scale(1.5,1),Et.fillText("I",0,10);const _t=Et.getImageData(0,0,10,10).data;let Ct=!1;for(let Mt=3;Mt<_t.length;Mt+=4)if(_t[Mt]>0&&_t[Mt]<255){Ct=!0;break}return(0,j.shadow)(this,"isFontSubpixelAAEnabled",Ct)}showText(Et){const _t=this.current,Ct=_t.font;if(Ct.isType3Font)return this.showType3Text(Et);const Mt=_t.fontSize;if(Mt===0)return;const Nt=this.ctx,zt=_t.fontSizeScale,Xt=_t.charSpacing,Jt=_t.wordSpacing,on=_t.fontDirection,ln=_t.textHScale*on,fn=Et.length,pn=Ct.vertical,mn=pn?1:-1,Yt=Ct.defaultVMetrics,Kt=Mt*_t.fontMatrix[0],Rt=_t.textRenderingMode===j.TextRenderingMode.FILL&&!Ct.disableFontFace&&!_t.patternFill;Nt.save(),Nt.transform(..._t.textMatrix),Nt.translate(_t.x,_t.y+_t.textRise),on>0?Nt.scale(ln,-1):Nt.scale(ln,1);let Ot;if(_t.patternFill){Nt.save();const Zt=_t.fillColor.getPattern(Nt,this,(0,$.getCurrentTransformInverse)(Nt),_e.PathType.FILL);Ot=(0,$.getCurrentTransform)(Nt),Nt.restore(),Nt.fillStyle=Zt}let qt=_t.lineWidth;const en=_t.textMatrixScale;if(en===0||qt===0){const Zt=_t.textRenderingMode&j.TextRenderingMode.FILL_STROKE_MASK;(Zt===j.TextRenderingMode.STROKE||Zt===j.TextRenderingMode.FILL_STROKE)&&(qt=this.getSinglePixelWidth())}else qt/=en;if(zt!==1&&(Nt.scale(zt,zt),qt/=zt),Nt.lineWidth=qt,Ct.isInvalidPDFjsFont){const Zt=[];let Ut=0;for(const bn of Et)Zt.push(bn.unicode),Ut+=bn.width;Nt.fillText(Zt.join(""),0,0),_t.x+=Ut*Kt*ln,Nt.restore(),this.compose();return}let dn=0,xn;for(xn=0;xn<fn;++xn){const Zt=Et[xn];if(typeof Zt=="number"){dn+=mn*Zt*Mt/1e3;continue}let Ut=!1;const bn=(Zt.isSpace?Jt:0)+Xt,yn=Zt.fontChar,In=Zt.accent;let Nn,Fn,wn=Zt.width;if(pn){const zn=Zt.vmetric||Yt,$n=-(Zt.vmetric?zn[1]:wn*.5)*Kt,gn=zn[2]*Kt;wn=zn?-zn[0]:wn,Nn=$n/zt,Fn=(dn+gn)/zt}else Nn=dn/zt,Fn=0;if(Ct.remeasure&&wn>0){const zn=Nt.measureText(yn).width*1e3/Mt*zt;if(wn<zn&&this.isFontSubpixelAAEnabled){const $n=wn/zn;Ut=!0,Nt.save(),Nt.scale($n,1),Nn/=$n}else wn!==zn&&(Nn+=(wn-zn)/2e3*Mt/zt)}if(this.contentVisible&&(Zt.isInFont||Ct.missingFile)){if(Rt&&!In)Nt.fillText(yn,Nn,Fn);else if(this.paintChar(yn,Nn,Fn,Ot),In){const zn=Nn+Mt*In.offset.x/zt,$n=Fn-Mt*In.offset.y/zt;this.paintChar(In.fontChar,zn,$n,Ot)}}const kn=pn?wn*Kt-bn*on:wn*Kt+bn*on;dn+=kn,Ut&&Nt.restore()}pn?_t.y-=dn:_t.x+=dn*ln,Nt.restore(),this.compose()}showType3Text(Et){const _t=this.ctx,Ct=this.current,Mt=Ct.font,Nt=Ct.fontSize,zt=Ct.fontDirection,Xt=Mt.vertical?1:-1,Jt=Ct.charSpacing,on=Ct.wordSpacing,ln=Ct.textHScale*zt,fn=Ct.fontMatrix||j.FONT_IDENTITY_MATRIX,pn=Et.length,mn=Ct.textRenderingMode===j.TextRenderingMode.INVISIBLE;let Yt,Kt,Rt,Ot;if(!(mn||Nt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,_t.save(),_t.transform(...Ct.textMatrix),_t.translate(Ct.x,Ct.y),_t.scale(ln,zt),Yt=0;Yt<pn;++Yt){if(Kt=Et[Yt],typeof Kt=="number"){Ot=Xt*Kt*Nt/1e3,this.ctx.translate(Ot,0),Ct.x+=Ot*ln;continue}const qt=(Kt.isSpace?on:0)+Jt,en=Mt.charProcOperatorList[Kt.operatorListId];if(!en){(0,j.warn)(`Type3 character "${Kt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Kt,this.save(),_t.scale(Nt,Nt),_t.transform(...fn),this.executeOperatorList(en),this.restore()),Rt=j.Util.applyTransform([Kt.width,0],fn)[0]*Nt+qt,_t.translate(Rt,0),Ct.x+=Rt*ln}_t.restore(),this.processingType3=null}}setCharWidth(Et,_t){}setCharWidthAndBounds(Et,_t,Ct,Mt,Nt,zt){this.ctx.rect(Ct,Mt,Nt-Ct,zt-Mt),this.ctx.clip(),this.endPath()}getColorN_Pattern(Et){let _t;if(Et[0]==="TilingPattern"){const Ct=Et[1],Mt=this.baseTransform||(0,$.getCurrentTransform)(this.ctx),Nt={createCanvasGraphics:zt=>new Vt(zt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};_t=new _e.TilingPattern(Et,Ct,this.ctx,Nt,Mt)}else _t=this._getPattern(Et[1],Et[2]);return _t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Et,_t,Ct){const Mt=j.Util.makeHexColor(Et,_t,Ct);this.ctx.strokeStyle=Mt,this.current.strokeColor=Mt}setFillRGBColor(Et,_t,Ct){const Mt=j.Util.makeHexColor(Et,_t,Ct);this.ctx.fillStyle=Mt,this.current.fillColor=Mt,this.current.patternFill=!1}_getPattern(Et,_t=null){let Ct;return this.cachedPatterns.has(Et)?Ct=this.cachedPatterns.get(Et):(Ct=(0,_e.getShadingPattern)(this.getObject(Et)),this.cachedPatterns.set(Et,Ct)),_t&&(Ct.matrix=_t),Ct}shadingFill(Et){if(!this.contentVisible)return;const _t=this.ctx;this.save();const Ct=this._getPattern(Et);_t.fillStyle=Ct.getPattern(_t,this,(0,$.getCurrentTransformInverse)(_t),_e.PathType.SHADING);const Mt=(0,$.getCurrentTransformInverse)(_t);if(Mt){const{width:Nt,height:zt}=_t.canvas,[Xt,Jt,on,ln]=j.Util.getAxialAlignedBoundingBox([0,0,Nt,zt],Mt);this.ctx.fillRect(Xt,Jt,on-Xt,ln-Jt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,j.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,j.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Et,_t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Et)&&Et.length===6&&this.transform(...Et),this.baseTransform=(0,$.getCurrentTransform)(this.ctx),_t)){const Ct=_t[2]-_t[0],Mt=_t[3]-_t[1];this.ctx.rect(_t[0],_t[1],Ct,Mt),this.current.updateRectMinMax((0,$.getCurrentTransform)(this.ctx),_t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Et){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _t=this.ctx;Et.isolated||(0,j.info)("TODO: Support non-isolated groups."),Et.knockout&&(0,j.warn)("Knockout groups not supported.");const Ct=(0,$.getCurrentTransform)(_t);if(Et.matrix&&_t.transform(...Et.matrix),!Et.bbox)throw new Error("Bounding box is required.");let Mt=j.Util.getAxialAlignedBoundingBox(Et.bbox,(0,$.getCurrentTransform)(_t));const Nt=[0,0,_t.canvas.width,_t.canvas.height];Mt=j.Util.intersect(Mt,Nt)||[0,0,0,0];const zt=Math.floor(Mt[0]),Xt=Math.floor(Mt[1]);let Jt=Math.max(Math.ceil(Mt[2])-zt,1),on=Math.max(Math.ceil(Mt[3])-Xt,1),ln=1,fn=1;Jt>rt&&(ln=Jt/rt,Jt=rt),on>rt&&(fn=on/rt,on=rt),this.current.startNewPathAndClipBox([0,0,Jt,on]);let pn="groupAt"+this.groupLevel;Et.smask&&(pn+="_smask_"+this.smaskCounter++%2);const mn=this.cachedCanvases.getCanvas(pn,Jt,on),Yt=mn.context;Yt.scale(1/ln,1/fn),Yt.translate(-zt,-Xt),Yt.transform(...Ct),Et.smask?this.smaskStack.push({canvas:mn.canvas,context:Yt,offsetX:zt,offsetY:Xt,scaleX:ln,scaleY:fn,subtype:Et.smask.subtype,backdrop:Et.smask.backdrop,transferMap:Et.smask.transferMap||null,startTransformInverse:null}):(_t.setTransform(1,0,0,1,0,0),_t.translate(zt,Xt),_t.scale(ln,fn),_t.save()),ct(_t,Yt),this.ctx=Yt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_t),this.groupLevel++}endGroup(Et){if(!this.contentVisible)return;this.groupLevel--;const _t=this.ctx,Ct=this.groupStack.pop();if(this.ctx=Ct,this.ctx.imageSmoothingEnabled=!1,Et.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Mt=(0,$.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Mt);const Nt=j.Util.getAxialAlignedBoundingBox([0,0,_t.canvas.width,_t.canvas.height],Mt);this.ctx.drawImage(_t.canvas,0,0),this.ctx.restore(),this.compose(Nt)}}beginAnnotation(Et,_t,Ct,Mt,Nt){if(Qt(this,It,Vr).call(this),xt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(_t)&&_t.length===4){const zt=_t[2]-_t[0],Xt=_t[3]-_t[1];if(Nt&&this.annotationCanvasMap){Ct=Ct.slice(),Ct[4]-=_t[0],Ct[5]-=_t[1],_t=_t.slice(),_t[0]=_t[1]=0,_t[2]=zt,_t[3]=Xt;const[Jt,on]=j.Util.singularValueDecompose2dScale((0,$.getCurrentTransform)(this.ctx)),{viewportScale:ln}=this,fn=Math.ceil(zt*this.outputScaleX*ln),pn=Math.ceil(Xt*this.outputScaleY*ln);this.annotationCanvas=this.canvasFactory.create(fn,pn);const{canvas:mn,context:Yt}=this.annotationCanvas;this.annotationCanvasMap.set(Et,mn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Yt,this.ctx.save(),this.ctx.setTransform(Jt,0,0,-on,0,Xt*on),xt(this.ctx)}else xt(this.ctx),this.ctx.rect(_t[0],_t[1],zt,Xt),this.ctx.clip(),this.endPath()}this.current=new ot(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Ct),this.transform(...Mt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Qt(this,It,Wr).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Et){if(!this.contentVisible)return;const _t=Et.count;Et=this.getObject(Et.data,Et),Et.count=_t;const Ct=this.ctx,Mt=this.processingType3;if(Mt&&(Mt.compiled===void 0&&(Mt.compiled=st(Et)),Mt.compiled)){Mt.compiled(Ct);return}const Nt=this._createMaskCanvas(Et),zt=Nt.canvas;Ct.save(),Ct.setTransform(1,0,0,1,0,0),Ct.drawImage(zt,Nt.offsetX,Nt.offsetY),Ct.restore(),this.compose()}paintImageMaskXObjectRepeat(Et,_t,Ct=0,Mt=0,Nt,zt){if(!this.contentVisible)return;Et=this.getObject(Et.data,Et);const Xt=this.ctx;Xt.save();const Jt=(0,$.getCurrentTransform)(Xt);Xt.transform(_t,Ct,Mt,Nt,0,0);const on=this._createMaskCanvas(Et);Xt.setTransform(1,0,0,1,on.offsetX-Jt[4],on.offsetY-Jt[5]);for(let ln=0,fn=zt.length;ln<fn;ln+=2){const pn=j.Util.transform(Jt,[_t,Ct,Mt,Nt,zt[ln],zt[ln+1]]),[mn,Yt]=j.Util.applyTransform([0,0],pn);Xt.drawImage(on.canvas,mn,Yt)}Xt.restore(),this.compose()}paintImageMaskXObjectGroup(Et){if(!this.contentVisible)return;const _t=this.ctx,Ct=this.current.fillColor,Mt=this.current.patternFill;for(const Nt of Et){const{data:zt,width:Xt,height:Jt,transform:on}=Nt,ln=this.cachedCanvases.getCanvas("maskCanvas",Xt,Jt),fn=ln.context;fn.save();const pn=this.getObject(zt,Nt);ft(fn,pn),fn.globalCompositeOperation="source-in",fn.fillStyle=Mt?Ct.getPattern(fn,this,(0,$.getCurrentTransformInverse)(_t),_e.PathType.FILL):Ct,fn.fillRect(0,0,Xt,Jt),fn.restore(),_t.save(),_t.transform(...on),_t.scale(1,-1),yt(_t,ln.canvas,0,0,Xt,Jt,0,-1,1,1),_t.restore()}this.compose()}paintImageXObject(Et){if(!this.contentVisible)return;const _t=this.getObject(Et);if(!_t){(0,j.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_t)}paintImageXObjectRepeat(Et,_t,Ct,Mt){if(!this.contentVisible)return;const Nt=this.getObject(Et);if(!Nt){(0,j.warn)("Dependent image isn't ready yet");return}const zt=Nt.width,Xt=Nt.height,Jt=[];for(let on=0,ln=Mt.length;on<ln;on+=2)Jt.push({transform:[_t,0,0,Ct,Mt[on],Mt[on+1]],x:0,y:0,w:zt,h:Xt});this.paintInlineImageXObjectGroup(Nt,Jt)}applyTransferMapsToCanvas(Et){return this.current.transferMaps!=="none"&&(Et.filter=this.current.transferMaps,Et.drawImage(Et.canvas,0,0),Et.filter="none"),Et.canvas}applyTransferMapsToBitmap(Et){if(this.current.transferMaps==="none")return Et.bitmap;const{bitmap:_t,width:Ct,height:Mt}=Et,Nt=this.cachedCanvases.getCanvas("inlineImage",Ct,Mt),zt=Nt.context;return zt.filter=this.current.transferMaps,zt.drawImage(_t,0,0),zt.filter="none",Nt.canvas}paintInlineImageXObject(Et){if(!this.contentVisible)return;const _t=Et.width,Ct=Et.height,Mt=this.ctx;if(this.save(),!j.isNodeJS){const{filter:Xt}=Mt;Xt!=="none"&&Xt!==""&&(Mt.filter="none")}Mt.scale(1/_t,-1/Ct);let Nt;if(Et.bitmap)Nt=this.applyTransferMapsToBitmap(Et);else if(typeof HTMLElement=="function"&&Et instanceof HTMLElement||!Et.data)Nt=Et;else{const Jt=this.cachedCanvases.getCanvas("inlineImage",_t,Ct).context;mt(Jt,Et),Nt=this.applyTransferMapsToCanvas(Jt)}const zt=this._scaleImage(Nt,(0,$.getCurrentTransformInverse)(Mt));Mt.imageSmoothingEnabled=wt((0,$.getCurrentTransform)(Mt),Et.interpolate),yt(Mt,zt.img,0,0,zt.paintWidth,zt.paintHeight,0,-Ct,_t,Ct),this.compose(),this.restore()}paintInlineImageXObjectGroup(Et,_t){if(!this.contentVisible)return;const Ct=this.ctx;let Mt;if(Et.bitmap)Mt=Et.bitmap;else{const Nt=Et.width,zt=Et.height,Jt=this.cachedCanvases.getCanvas("inlineImage",Nt,zt).context;mt(Jt,Et),Mt=this.applyTransferMapsToCanvas(Jt)}for(const Nt of _t)Ct.save(),Ct.transform(...Nt.transform),Ct.scale(1,-1),yt(Ct,Mt,Nt.x,Nt.y,Nt.w,Nt.h,0,-1,1,1),Ct.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Et){}markPointProps(Et,_t){}beginMarkedContent(Et){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Et,_t){Et==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Et){const _t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Et);const Ct=this.ctx;this.pendingClip&&(_t||(this.pendingClip===Wt?Ct.clip("evenodd"):Ct.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Ct.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Et=(0,$.getCurrentTransform)(this.ctx);if(Et[1]===0&&Et[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Et[0]),Math.abs(Et[3]));else{const _t=Math.abs(Et[0]*Et[3]-Et[2]*Et[1]),Ct=Math.hypot(Et[0],Et[2]),Mt=Math.hypot(Et[1],Et[3]);this._cachedGetSinglePixelWidth=Math.max(Ct,Mt)/_t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Et}=this.current,{a:_t,b:Ct,c:Mt,d:Nt}=this.ctx.getTransform();let zt,Xt;if(Ct===0&&Mt===0){const Jt=Math.abs(_t),on=Math.abs(Nt);if(Jt===on)if(Et===0)zt=Xt=1/Jt;else{const ln=Jt*Et;zt=Xt=ln<1?1/ln:1}else if(Et===0)zt=1/Jt,Xt=1/on;else{const ln=Jt*Et,fn=on*Et;zt=ln<1?1/ln:1,Xt=fn<1?1/fn:1}}else{const Jt=Math.abs(_t*Nt-Ct*Mt),on=Math.hypot(_t,Ct),ln=Math.hypot(Mt,Nt);if(Et===0)zt=ln/Jt,Xt=on/Jt;else{const fn=Et*Jt;zt=ln>fn?ln/fn:1,Xt=on>fn?on/fn:1}}this._cachedScaleForStroking[0]=zt,this._cachedScaleForStroking[1]=Xt}return this._cachedScaleForStroking}rescaleAndStroke(Et){const{ctx:_t}=this,{lineWidth:Ct}=this.current,[Mt,Nt]=this.getScaleForStroking();if(_t.lineWidth=Ct||1,Mt===1&&Nt===1){_t.stroke();return}const zt=_t.getLineDash();if(Et&&_t.save(),_t.scale(Mt,Nt),zt.length>0){const Xt=Math.max(Mt,Nt);_t.setLineDash(zt.map(Jt=>Jt/Xt)),_t.lineDashOffset/=Xt}_t.stroke(),Et&&_t.restore()}isContentVisible(){for(let Et=this.markedContentStack.length-1;Et>=0;Et--)if(!this.markedContentStack[Et].visible)return!1;return!0}};It=new WeakSet,Vr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Wr=function(){if(this.pageColors){const Et=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Et!=="none"){const _t=this.ctx.filter;this.ctx.filter=Et,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_t}}};let Dt=Vt;b.CanvasGraphics=Dt;for(const Pt in j.OPS)Dt.prototype[Pt]!==void 0&&(Dt.prototype[j.OPS[Pt]]=Dt.prototype[Pt])},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TilingPattern=b.PathType=void 0,b.getShadingPattern=lt;var j=_(1),$=_(6);const _e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};b.PathType=_e;function et(st,ot){if(!ot)return;const mt=ot[2]-ot[0],ft=ot[3]-ot[1],ct=new Path2D;ct.rect(ot[0],ot[1],mt,ft),st.clip(ct)}class nt{constructor(){this.constructor===nt&&(0,j.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,j.unreachable)("Abstract method `getPattern` called.")}}class tt extends nt{constructor(ot){super(),this._type=ot[1],this._bbox=ot[2],this._colorStops=ot[3],this._p0=ot[4],this._p1=ot[5],this._r0=ot[6],this._r1=ot[7],this.matrix=null}_createGradient(ot){let mt;this._type==="axial"?mt=ot.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(mt=ot.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ft of this._colorStops)mt.addColorStop(ft[0],ft[1]);return mt}getPattern(ot,mt,ft,ct){let xt;if(ct===_e.STROKE||ct===_e.FILL){const dt=mt.current.getClippedPathBoundingBox(ct,(0,$.getCurrentTransform)(ot))||[0,0,0,0],gt=Math.ceil(dt[2]-dt[0])||1,St=Math.ceil(dt[3]-dt[1])||1,kt=mt.cachedCanvases.getCanvas("pattern",gt,St,!0),bt=kt.context;bt.clearRect(0,0,bt.canvas.width,bt.canvas.height),bt.beginPath(),bt.rect(0,0,bt.canvas.width,bt.canvas.height),bt.translate(-dt[0],-dt[1]),ft=j.Util.transform(ft,[1,0,0,1,dt[0],dt[1]]),bt.transform(...mt.baseTransform),this.matrix&&bt.transform(...this.matrix),et(bt,this._bbox),bt.fillStyle=this._createGradient(bt),bt.fill(),xt=ot.createPattern(kt.canvas,"no-repeat");const wt=new DOMMatrix(ft);xt.setTransform(wt)}else et(ot,this._bbox),xt=this._createGradient(ot);return xt}}function rt(st,ot,mt,ft,ct,xt,dt,gt){const St=ot.coords,kt=ot.colors,bt=st.data,wt=st.width*4;let Tt;St[mt+1]>St[ft+1]&&(Tt=mt,mt=ft,ft=Tt,Tt=xt,xt=dt,dt=Tt),St[ft+1]>St[ct+1]&&(Tt=ft,ft=ct,ct=Tt,Tt=dt,dt=gt,gt=Tt),St[mt+1]>St[ft+1]&&(Tt=mt,mt=ft,ft=Tt,Tt=xt,xt=dt,dt=Tt);const Ht=(St[mt]+ot.offsetX)*ot.scaleX,Bt=(St[mt+1]+ot.offsetY)*ot.scaleY,Wt=(St[ft]+ot.offsetX)*ot.scaleX,Dt=(St[ft+1]+ot.offsetY)*ot.scaleY,It=(St[ct]+ot.offsetX)*ot.scaleX,At=(St[ct+1]+ot.offsetY)*ot.scaleY;if(Bt>=At)return;const Ft=kt[xt],Vt=kt[xt+1],Pt=kt[xt+2],Et=kt[dt],_t=kt[dt+1],Ct=kt[dt+2],Mt=kt[gt],Nt=kt[gt+1],zt=kt[gt+2],Xt=Math.round(Bt),Jt=Math.round(At);let on,ln,fn,pn,mn,Yt,Kt,Rt;for(let Ot=Xt;Ot<=Jt;Ot++){if(Ot<Dt){const Zt=Ot<Bt?0:(Bt-Ot)/(Bt-Dt);on=Ht-(Ht-Wt)*Zt,ln=Ft-(Ft-Et)*Zt,fn=Vt-(Vt-_t)*Zt,pn=Pt-(Pt-Ct)*Zt}else{let Zt;Ot>At?Zt=1:Dt===At?Zt=0:Zt=(Dt-Ot)/(Dt-At),on=Wt-(Wt-It)*Zt,ln=Et-(Et-Mt)*Zt,fn=_t-(_t-Nt)*Zt,pn=Ct-(Ct-zt)*Zt}let qt;Ot<Bt?qt=0:Ot>At?qt=1:qt=(Bt-Ot)/(Bt-At),mn=Ht-(Ht-It)*qt,Yt=Ft-(Ft-Mt)*qt,Kt=Vt-(Vt-Nt)*qt,Rt=Pt-(Pt-zt)*qt;const en=Math.round(Math.min(on,mn)),dn=Math.round(Math.max(on,mn));let xn=wt*Ot+en*4;for(let Zt=en;Zt<=dn;Zt++)qt=(on-Zt)/(on-mn),qt<0?qt=0:qt>1&&(qt=1),bt[xn++]=ln-(ln-Yt)*qt|0,bt[xn++]=fn-(fn-Kt)*qt|0,bt[xn++]=pn-(pn-Rt)*qt|0,bt[xn++]=255}}function it(st,ot,mt){const ft=ot.coords,ct=ot.colors;let xt,dt;switch(ot.type){case"lattice":const gt=ot.verticesPerRow,St=Math.floor(ft.length/gt)-1,kt=gt-1;for(xt=0;xt<St;xt++){let bt=xt*gt;for(let wt=0;wt<kt;wt++,bt++)rt(st,mt,ft[bt],ft[bt+1],ft[bt+gt],ct[bt],ct[bt+1],ct[bt+gt]),rt(st,mt,ft[bt+gt+1],ft[bt+1],ft[bt+gt],ct[bt+gt+1],ct[bt+1],ct[bt+gt])}break;case"triangles":for(xt=0,dt=ft.length;xt<dt;xt+=3)rt(st,mt,ft[xt],ft[xt+1],ft[xt+2],ct[xt],ct[xt+1],ct[xt+2]);break;default:throw new Error("illegal figure")}}class ht extends nt{constructor(ot){super(),this._coords=ot[2],this._colors=ot[3],this._figures=ot[4],this._bounds=ot[5],this._bbox=ot[7],this._background=ot[8],this.matrix=null}_createMeshCanvas(ot,mt,ft){const gt=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),kt=Math.ceil(this._bounds[2])-gt,bt=Math.ceil(this._bounds[3])-St,wt=Math.min(Math.ceil(Math.abs(kt*ot[0]*1.1)),3e3),Tt=Math.min(Math.ceil(Math.abs(bt*ot[1]*1.1)),3e3),Ht=kt/wt,Bt=bt/Tt,Wt={coords:this._coords,colors:this._colors,offsetX:-gt,offsetY:-St,scaleX:1/Ht,scaleY:1/Bt},Dt=wt+2*2,It=Tt+2*2,At=ft.getCanvas("mesh",Dt,It,!1),Ft=At.context,Vt=Ft.createImageData(wt,Tt);if(mt){const Et=Vt.data;for(let _t=0,Ct=Et.length;_t<Ct;_t+=4)Et[_t]=mt[0],Et[_t+1]=mt[1],Et[_t+2]=mt[2],Et[_t+3]=255}for(const Et of this._figures)it(Vt,Et,Wt);return Ft.putImageData(Vt,2,2),{canvas:At.canvas,offsetX:gt-2*Ht,offsetY:St-2*Bt,scaleX:Ht,scaleY:Bt}}getPattern(ot,mt,ft,ct){et(ot,this._bbox);let xt;if(ct===_e.SHADING)xt=j.Util.singularValueDecompose2dScale((0,$.getCurrentTransform)(ot));else if(xt=j.Util.singularValueDecompose2dScale(mt.baseTransform),this.matrix){const gt=j.Util.singularValueDecompose2dScale(this.matrix);xt=[xt[0]*gt[0],xt[1]*gt[1]]}const dt=this._createMeshCanvas(xt,ct===_e.SHADING?null:this._background,mt.cachedCanvases);return ct!==_e.SHADING&&(ot.setTransform(...mt.baseTransform),this.matrix&&ot.transform(...this.matrix)),ot.translate(dt.offsetX,dt.offsetY),ot.scale(dt.scaleX,dt.scaleY),ot.createPattern(dt.canvas,"no-repeat")}}class ut extends nt{getPattern(){return"hotpink"}}function lt(st){switch(st[0]){case"RadialAxial":return new tt(st);case"Mesh":return new ht(st);case"Dummy":return new ut}throw new Error(`Unknown IR type: ${st[0]}`)}const pt={COLORED:1,UNCOLORED:2},yt=class yt{constructor(ot,mt,ft,ct,xt){this.operatorList=ot[2],this.matrix=ot[3]||[1,0,0,1,0,0],this.bbox=ot[4],this.xstep=ot[5],this.ystep=ot[6],this.paintType=ot[7],this.tilingType=ot[8],this.color=mt,this.ctx=ft,this.canvasGraphicsFactory=ct,this.baseTransform=xt}createPatternCanvas(ot){const mt=this.operatorList,ft=this.bbox,ct=this.xstep,xt=this.ystep,dt=this.paintType,gt=this.tilingType,St=this.color,kt=this.canvasGraphicsFactory;(0,j.info)("TilingType: "+gt);const bt=ft[0],wt=ft[1],Tt=ft[2],Ht=ft[3],Bt=j.Util.singularValueDecompose2dScale(this.matrix),Wt=j.Util.singularValueDecompose2dScale(this.baseTransform),Dt=[Bt[0]*Wt[0],Bt[1]*Wt[1]],It=this.getSizeAndScale(ct,this.ctx.canvas.width,Dt[0]),At=this.getSizeAndScale(xt,this.ctx.canvas.height,Dt[1]),Ft=ot.cachedCanvases.getCanvas("pattern",It.size,At.size,!0),Vt=Ft.context,Pt=kt.createCanvasGraphics(Vt);Pt.groupLevel=ot.groupLevel,this.setFillAndStrokeStyleToContext(Pt,dt,St);let Et=bt,_t=wt,Ct=Tt,Mt=Ht;return bt<0&&(Et=0,Ct+=Math.abs(bt)),wt<0&&(_t=0,Mt+=Math.abs(wt)),Vt.translate(-(It.scale*Et),-(At.scale*_t)),Pt.transform(It.scale,0,0,At.scale,0,0),Vt.save(),this.clipBbox(Pt,Et,_t,Ct,Mt),Pt.baseTransform=(0,$.getCurrentTransform)(Pt.ctx),Pt.executeOperatorList(mt),Pt.endDrawing(),{canvas:Ft.canvas,scaleX:It.scale,scaleY:At.scale,offsetX:Et,offsetY:_t}}getSizeAndScale(ot,mt,ft){ot=Math.abs(ot);const ct=Math.max(yt.MAX_PATTERN_SIZE,mt);let xt=Math.ceil(ot*ft);return xt>=ct?xt=ct:ft=xt/ot,{scale:ft,size:xt}}clipBbox(ot,mt,ft,ct,xt){const dt=ct-mt,gt=xt-ft;ot.ctx.rect(mt,ft,dt,gt),ot.current.updateRectMinMax((0,$.getCurrentTransform)(ot.ctx),[mt,ft,ct,xt]),ot.clip(),ot.endPath()}setFillAndStrokeStyleToContext(ot,mt,ft){const ct=ot.ctx,xt=ot.current;switch(mt){case pt.COLORED:const dt=this.ctx;ct.fillStyle=dt.fillStyle,ct.strokeStyle=dt.strokeStyle,xt.fillColor=dt.fillStyle,xt.strokeColor=dt.strokeStyle;break;case pt.UNCOLORED:const gt=j.Util.makeHexColor(ft[0],ft[1],ft[2]);ct.fillStyle=gt,ct.strokeStyle=gt,xt.fillColor=gt,xt.strokeColor=gt;break;default:throw new j.FormatError(`Unsupported paint type: ${mt}`)}}getPattern(ot,mt,ft,ct){let xt=ft;ct!==_e.SHADING&&(xt=j.Util.transform(xt,mt.baseTransform),this.matrix&&(xt=j.Util.transform(xt,this.matrix)));const dt=this.createPatternCanvas(mt);let gt=new DOMMatrix(xt);gt=gt.translate(dt.offsetX,dt.offsetY),gt=gt.scale(1/dt.scaleX,1/dt.scaleY);const St=ot.createPattern(dt.canvas,"repeat");return St.setTransform(gt),St}};Gn(yt,"MAX_PATTERN_SIZE",3e3);let vt=yt;b.TilingPattern=vt},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.convertBlackAndWhiteToRGBA=_e,b.convertToRGBA=$,b.grayToRGBA=nt;var j=_(1);function $(tt){switch(tt.kind){case j.ImageKind.GRAYSCALE_1BPP:return _e(tt);case j.ImageKind.RGB_24BPP:return et(tt)}return null}function _e({src:tt,srcPos:rt=0,dest:it,width:ht,height:ut,nonBlackColor:lt=4294967295,inverseDecode:pt=!1}){const vt=j.FeatureTest.isLittleEndian?4278190080:255,[yt,st]=pt?[lt,vt]:[vt,lt],ot=ht>>3,mt=ht&7,ft=tt.length;it=new Uint32Array(it.buffer);let ct=0;for(let xt=0;xt<ut;xt++){for(const gt=rt+ot;rt<gt;rt++){const St=rt<ft?tt[rt]:255;it[ct++]=St&128?st:yt,it[ct++]=St&64?st:yt,it[ct++]=St&32?st:yt,it[ct++]=St&16?st:yt,it[ct++]=St&8?st:yt,it[ct++]=St&4?st:yt,it[ct++]=St&2?st:yt,it[ct++]=St&1?st:yt}if(mt===0)continue;const dt=rt<ft?tt[rt++]:255;for(let gt=0;gt<mt;gt++)it[ct++]=dt&1<<7-gt?st:yt}return{srcPos:rt,destPos:ct}}function et({src:tt,srcPos:rt=0,dest:it,destPos:ht=0,width:ut,height:lt}){let pt=0;const vt=tt.length>>2,yt=new Uint32Array(tt.buffer,rt,vt);if(j.FeatureTest.isLittleEndian){for(;pt<vt-2;pt+=3,ht+=4){const st=yt[pt],ot=yt[pt+1],mt=yt[pt+2];it[ht]=st|4278190080,it[ht+1]=st>>>24|ot<<8|4278190080,it[ht+2]=ot>>>16|mt<<16|4278190080,it[ht+3]=mt>>>8|4278190080}for(let st=pt*4,ot=tt.length;st<ot;st+=3)it[ht++]=tt[st]|tt[st+1]<<8|tt[st+2]<<16|4278190080}else{for(;pt<vt-2;pt+=3,ht+=4){const st=yt[pt],ot=yt[pt+1],mt=yt[pt+2];it[ht]=st|255,it[ht+1]=st<<24|ot>>>8|255,it[ht+2]=ot<<16|mt>>>16|255,it[ht+3]=mt<<8|255}for(let st=pt*4,ot=tt.length;st<ot;st+=3)it[ht++]=tt[st]<<24|tt[st+1]<<16|tt[st+2]<<8|255}return{srcPos:rt,destPos:ht}}function nt(tt,rt){if(j.FeatureTest.isLittleEndian)for(let it=0,ht=tt.length;it<ht;it++)rt[it]=tt[it]*65793|4278190080;else for(let it=0,ht=tt.length;it<ht;it++)rt[it]=tt[it]*16843008|255}},(g,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GlobalWorkerOptions=void 0;const _=Object.create(null);b.GlobalWorkerOptions=_,_.workerPort=null,_.workerSrc=""},(g,b,_)=>{var tt,bs,Es,yr;Object.defineProperty(b,"__esModule",{value:!0}),b.MessageHandler=void 0;var j=_(1);const $={DATA:1,ERROR:2},_e={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function et(ut){switch(ut instanceof Error||typeof ut=="object"&&ut!==null||(0,j.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ut.name){case"AbortException":return new j.AbortException(ut.message);case"MissingPDFException":return new j.MissingPDFException(ut.message);case"PasswordException":return new j.PasswordException(ut.message,ut.code);case"UnexpectedResponseException":return new j.UnexpectedResponseException(ut.message,ut.status);case"UnknownErrorException":return new j.UnknownErrorException(ut.message,ut.details);default:return new j.UnknownErrorException(ut.message,ut.toString())}}class nt{constructor(lt,pt,vt){nn(this,tt);this.sourceName=lt,this.targetName=pt,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=yt=>{const st=yt.data;if(st.targetName!==this.sourceName)return;if(st.stream){Qt(this,tt,Es).call(this,st);return}if(st.callback){const mt=st.callbackId,ft=this.callbackCapabilities[mt];if(!ft)throw new Error(`Cannot resolve callback ${mt}`);if(delete this.callbackCapabilities[mt],st.callback===$.DATA)ft.resolve(st.data);else if(st.callback===$.ERROR)ft.reject(et(st.reason));else throw new Error("Unexpected callback case");return}const ot=this.actionHandler[st.action];if(!ot)throw new Error(`Unknown action from worker: ${st.action}`);if(st.callbackId){const mt=this.sourceName,ft=st.sourceName;new Promise(function(ct){ct(ot(st.data))}).then(function(ct){vt.postMessage({sourceName:mt,targetName:ft,callback:$.DATA,callbackId:st.callbackId,data:ct})},function(ct){vt.postMessage({sourceName:mt,targetName:ft,callback:$.ERROR,callbackId:st.callbackId,reason:et(ct)})});return}if(st.streamId){Qt(this,tt,bs).call(this,st);return}ot(st.data)},vt.addEventListener("message",this._onComObjOnMessage)}on(lt,pt){const vt=this.actionHandler;if(vt[lt])throw new Error(`There is already an actionName called "${lt}"`);vt[lt]=pt}send(lt,pt,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:lt,data:pt},vt)}sendWithPromise(lt,pt,vt){const yt=this.callbackId++,st=new j.PromiseCapability;this.callbackCapabilities[yt]=st;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:lt,callbackId:yt,data:pt},vt)}catch(ot){st.reject(ot)}return st.promise}sendWithStream(lt,pt,vt,yt){const st=this.streamId++,ot=this.sourceName,mt=this.targetName,ft=this.comObj;return new ReadableStream({start:ct=>{const xt=new j.PromiseCapability;return this.streamControllers[st]={controller:ct,startCall:xt,pullCall:null,cancelCall:null,isClosed:!1},ft.postMessage({sourceName:ot,targetName:mt,action:lt,streamId:st,data:pt,desiredSize:ct.desiredSize},yt),xt.promise},pull:ct=>{const xt=new j.PromiseCapability;return this.streamControllers[st].pullCall=xt,ft.postMessage({sourceName:ot,targetName:mt,stream:_e.PULL,streamId:st,desiredSize:ct.desiredSize}),xt.promise},cancel:ct=>{(0,j.assert)(ct instanceof Error,"cancel must have a valid reason");const xt=new j.PromiseCapability;return this.streamControllers[st].cancelCall=xt,this.streamControllers[st].isClosed=!0,ft.postMessage({sourceName:ot,targetName:mt,stream:_e.CANCEL,streamId:st,reason:et(ct)}),xt.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}tt=new WeakSet,bs=function(lt){const pt=lt.streamId,vt=this.sourceName,yt=lt.sourceName,st=this.comObj,ot=this,mt=this.actionHandler[lt.action],ft={enqueue(ct,xt=1,dt){if(this.isCancelled)return;const gt=this.desiredSize;this.desiredSize-=xt,gt>0&&this.desiredSize<=0&&(this.sinkCapability=new j.PromiseCapability,this.ready=this.sinkCapability.promise),st.postMessage({sourceName:vt,targetName:yt,stream:_e.ENQUEUE,streamId:pt,chunk:ct},dt)},close(){this.isCancelled||(this.isCancelled=!0,st.postMessage({sourceName:vt,targetName:yt,stream:_e.CLOSE,streamId:pt}),delete ot.streamSinks[pt])},error(ct){(0,j.assert)(ct instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,st.postMessage({sourceName:vt,targetName:yt,stream:_e.ERROR,streamId:pt,reason:et(ct)}))},sinkCapability:new j.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:lt.desiredSize,ready:null};ft.sinkCapability.resolve(),ft.ready=ft.sinkCapability.promise,this.streamSinks[pt]=ft,new Promise(function(ct){ct(mt(lt.data,ft))}).then(function(){st.postMessage({sourceName:vt,targetName:yt,stream:_e.START_COMPLETE,streamId:pt,success:!0})},function(ct){st.postMessage({sourceName:vt,targetName:yt,stream:_e.START_COMPLETE,streamId:pt,reason:et(ct)})})},Es=function(lt){const pt=lt.streamId,vt=this.sourceName,yt=lt.sourceName,st=this.comObj,ot=this.streamControllers[pt],mt=this.streamSinks[pt];switch(lt.stream){case _e.START_COMPLETE:lt.success?ot.startCall.resolve():ot.startCall.reject(et(lt.reason));break;case _e.PULL_COMPLETE:lt.success?ot.pullCall.resolve():ot.pullCall.reject(et(lt.reason));break;case _e.PULL:if(!mt){st.postMessage({sourceName:vt,targetName:yt,stream:_e.PULL_COMPLETE,streamId:pt,success:!0});break}mt.desiredSize<=0&&lt.desiredSize>0&&mt.sinkCapability.resolve(),mt.desiredSize=lt.desiredSize,new Promise(function(ft){var ct;ft((ct=mt.onPull)==null?void 0:ct.call(mt))}).then(function(){st.postMessage({sourceName:vt,targetName:yt,stream:_e.PULL_COMPLETE,streamId:pt,success:!0})},function(ft){st.postMessage({sourceName:vt,targetName:yt,stream:_e.PULL_COMPLETE,streamId:pt,reason:et(ft)})});break;case _e.ENQUEUE:if((0,j.assert)(ot,"enqueue should have stream controller"),ot.isClosed)break;ot.controller.enqueue(lt.chunk);break;case _e.CLOSE:if((0,j.assert)(ot,"close should have stream controller"),ot.isClosed)break;ot.isClosed=!0,ot.controller.close(),Qt(this,tt,yr).call(this,ot,pt);break;case _e.ERROR:(0,j.assert)(ot,"error should have stream controller"),ot.controller.error(et(lt.reason)),Qt(this,tt,yr).call(this,ot,pt);break;case _e.CANCEL_COMPLETE:lt.success?ot.cancelCall.resolve():ot.cancelCall.reject(et(lt.reason)),Qt(this,tt,yr).call(this,ot,pt);break;case _e.CANCEL:if(!mt)break;new Promise(function(ft){var ct;ft((ct=mt.onCancel)==null?void 0:ct.call(mt,et(lt.reason)))}).then(function(){st.postMessage({sourceName:vt,targetName:yt,stream:_e.CANCEL_COMPLETE,streamId:pt,success:!0})},function(ft){st.postMessage({sourceName:vt,targetName:yt,stream:_e.CANCEL_COMPLETE,streamId:pt,reason:et(ft)})}),mt.sinkCapability.reject(et(lt.reason)),mt.isCancelled=!0,delete this.streamSinks[pt];break;default:throw new Error("Unexpected stream case")}},yr=async function(lt,pt){var vt,yt,st;await Promise.allSettled([(vt=lt.startCall)==null?void 0:vt.promise,(yt=lt.pullCall)==null?void 0:yt.promise,(st=lt.cancelCall)==null?void 0:st.promise]),delete this.streamControllers[pt]},b.MessageHandler=nt},(g,b,_)=>{var _e,et;Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;var j=_(1);class ${constructor({parsedData:tt,rawData:rt}){nn(this,_e);nn(this,et);sn(this,_e,tt),sn(this,et,rt)}getRaw(){return at(this,et)}get(tt){return at(this,_e).get(tt)??null}getAll(){return(0,j.objectFromMap)(at(this,_e))}has(tt){return at(this,_e).has(tt)}}_e=new WeakMap,et=new WeakMap,b.Metadata=$},(g,b,_)=>{var tt,rt,it,ht,ut,lt,Hr;Object.defineProperty(b,"__esModule",{value:!0}),b.OptionalContentConfig=void 0;var j=_(1),$=_(8);const _e=Symbol("INTERNAL");class et{constructor(yt,st){nn(this,tt,!0);this.name=yt,this.intent=st}get visible(){return at(this,tt)}_setVisible(yt,st){yt!==_e&&(0,j.unreachable)("Internal method `_setVisible` called."),sn(this,tt,st)}}tt=new WeakMap;class nt{constructor(yt){nn(this,lt);nn(this,rt,null);nn(this,it,new Map);nn(this,ht,null);nn(this,ut,null);if(this.name=null,this.creator=null,yt!==null){this.name=yt.name,this.creator=yt.creator,sn(this,ut,yt.order);for(const st of yt.groups)at(this,it).set(st.id,new et(st.name,st.intent));if(yt.baseState==="OFF")for(const st of at(this,it).values())st._setVisible(_e,!1);for(const st of yt.on)at(this,it).get(st)._setVisible(_e,!0);for(const st of yt.off)at(this,it).get(st)._setVisible(_e,!1);sn(this,ht,this.getHash())}}isVisible(yt){if(at(this,it).size===0)return!0;if(!yt)return(0,j.warn)("Optional content group not defined."),!0;if(yt.type==="OCG")return at(this,it).has(yt.id)?at(this,it).get(yt.id).visible:((0,j.warn)(`Optional content group not found: ${yt.id}`),!0);if(yt.type==="OCMD"){if(yt.expression)return Qt(this,lt,Hr).call(this,yt.expression);if(!yt.policy||yt.policy==="AnyOn"){for(const st of yt.ids){if(!at(this,it).has(st))return(0,j.warn)(`Optional content group not found: ${st}`),!0;if(at(this,it).get(st).visible)return!0}return!1}else if(yt.policy==="AllOn"){for(const st of yt.ids){if(!at(this,it).has(st))return(0,j.warn)(`Optional content group not found: ${st}`),!0;if(!at(this,it).get(st).visible)return!1}return!0}else if(yt.policy==="AnyOff"){for(const st of yt.ids){if(!at(this,it).has(st))return(0,j.warn)(`Optional content group not found: ${st}`),!0;if(!at(this,it).get(st).visible)return!0}return!1}else if(yt.policy==="AllOff"){for(const st of yt.ids){if(!at(this,it).has(st))return(0,j.warn)(`Optional content group not found: ${st}`),!0;if(at(this,it).get(st).visible)return!1}return!0}return(0,j.warn)(`Unknown optional content policy ${yt.policy}.`),!0}return(0,j.warn)(`Unknown group type ${yt.type}.`),!0}setVisibility(yt,st=!0){if(!at(this,it).has(yt)){(0,j.warn)(`Optional content group not found: ${yt}`);return}at(this,it).get(yt)._setVisible(_e,!!st),sn(this,rt,null)}get hasInitialVisibility(){return at(this,ht)===null||this.getHash()===at(this,ht)}getOrder(){return at(this,it).size?at(this,ut)?at(this,ut).slice():[...at(this,it).keys()]:null}getGroups(){return at(this,it).size>0?(0,j.objectFromMap)(at(this,it)):null}getGroup(yt){return at(this,it).get(yt)||null}getHash(){if(at(this,rt)!==null)return at(this,rt);const yt=new $.MurmurHash3_64;for(const[st,ot]of at(this,it))yt.update(`${st}:${ot.visible}`);return sn(this,rt,yt.hexdigest())}}rt=new WeakMap,it=new WeakMap,ht=new WeakMap,ut=new WeakMap,lt=new WeakSet,Hr=function(yt){const st=yt.length;if(st<2)return!0;const ot=yt[0];for(let mt=1;mt<st;mt++){const ft=yt[mt];let ct;if(Array.isArray(ft))ct=Qt(this,lt,Hr).call(this,ft);else if(at(this,it).has(ft))ct=at(this,it).get(ft).visible;else return(0,j.warn)(`Optional content group not found: ${ft}`),!0;switch(ot){case"And":if(!ct)return!1;break;case"Or":if(ct)return!0;break;case"Not":return!ct;default:return!0}}return ot==="And"},b.OptionalContentConfig=nt},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDataTransportStream=void 0;var j=_(1),$=_(6);class _e{constructor({length:rt,initialData:it,progressiveDone:ht=!1,contentDispositionFilename:ut=null,disableRange:lt=!1,disableStream:pt=!1},vt){if((0,j.assert)(vt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ht,this._contentDispositionFilename=ut,(it==null?void 0:it.length)>0){const yt=it instanceof Uint8Array&&it.byteLength===it.buffer.byteLength?it.buffer:new Uint8Array(it).buffer;this._queuedChunks.push(yt)}this._pdfDataRangeTransport=vt,this._isStreamingSupported=!pt,this._isRangeSupported=!lt,this._contentLength=rt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((yt,st)=>{this._onReceiveData({begin:yt,chunk:st})}),this._pdfDataRangeTransport.addProgressListener((yt,st)=>{this._onProgress({loaded:yt,total:st})}),this._pdfDataRangeTransport.addProgressiveReadListener(yt=>{this._onReceiveData({chunk:yt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:rt,chunk:it}){const ht=it instanceof Uint8Array&&it.byteLength===it.buffer.byteLength?it.buffer:new Uint8Array(it).buffer;if(rt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(ht):this._queuedChunks.push(ht);else{const ut=this._rangeReaders.some(function(lt){return lt._begin!==rt?!1:(lt._enqueue(ht),!0)});(0,j.assert)(ut,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var rt;return((rt=this._fullRequestReader)==null?void 0:rt._loaded)??0}_onProgress(rt){var it,ht,ut,lt;rt.total===void 0?(ht=(it=this._rangeReaders[0])==null?void 0:it.onProgress)==null||ht.call(it,{loaded:rt.loaded}):(lt=(ut=this._fullRequestReader)==null?void 0:ut.onProgress)==null||lt.call(ut,{loaded:rt.loaded,total:rt.total})}_onProgressiveDone(){var rt;(rt=this._fullRequestReader)==null||rt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(rt){const it=this._rangeReaders.indexOf(rt);it>=0&&this._rangeReaders.splice(it,1)}getFullReader(){(0,j.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const rt=this._queuedChunks;return this._queuedChunks=null,new et(this,rt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(rt,it){if(it<=this._progressiveDataLength)return null;const ht=new nt(this,rt,it);return this._pdfDataRangeTransport.requestDataRange(rt,it),this._rangeReaders.push(ht),ht}cancelAllRequests(rt){var it;(it=this._fullRequestReader)==null||it.cancel(rt);for(const ht of this._rangeReaders.slice(0))ht.cancel(rt);this._pdfDataRangeTransport.abort()}}b.PDFDataTransportStream=_e;class et{constructor(rt,it,ht=!1,ut=null){this._stream=rt,this._done=ht||!1,this._filename=(0,$.isPdfFile)(ut)?ut:null,this._queuedChunks=it||[],this._loaded=0;for(const lt of this._queuedChunks)this._loaded+=lt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),rt._fullRequestReader=this,this.onProgress=null}_enqueue(rt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:rt,done:!1}):this._queuedChunks.push(rt),this._loaded+=rt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const rt=new j.PromiseCapability;return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nt{constructor(rt,it,ht){this._stream=rt,this._begin=it,this._end=ht,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(rt){if(!this._done){if(this._requests.length===0)this._queuedChunk=rt;else{this._requests.shift().resolve({value:rt,done:!1});for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const it=this._queuedChunk;return this._queuedChunk=null,{value:it,done:!1}}if(this._done)return{value:void 0,done:!0};const rt=new j.PromiseCapability;return this._requests.push(rt),rt.promise}cancel(rt){this._done=!0;for(const it of this._requests)it.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFetchStream=void 0;var j=_(1),$=_(20);function _e(ht,ut,lt){return{method:"GET",headers:ht,signal:lt.signal,mode:"cors",credentials:ut?"include":"same-origin",redirect:"follow"}}function et(ht){const ut=new Headers;for(const lt in ht){const pt=ht[lt];pt!==void 0&&ut.append(lt,pt)}return ut}function nt(ht){return ht instanceof Uint8Array?ht.buffer:ht instanceof ArrayBuffer?ht:((0,j.warn)(`getArrayBuffer - unexpected data format: ${ht}`),new Uint8Array(ht).buffer)}class tt{constructor(ut){this.source=ut,this.isHttp=/^https?:/i.test(ut.url),this.httpHeaders=this.isHttp&&ut.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ut;return((ut=this._fullRequestReader)==null?void 0:ut._loaded)??0}getFullReader(){return(0,j.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new rt(this),this._fullRequestReader}getRangeReader(ut,lt){if(lt<=this._progressiveDataLength)return null;const pt=new it(this,ut,lt);return this._rangeRequestReaders.push(pt),pt}cancelAllRequests(ut){var lt;(lt=this._fullRequestReader)==null||lt.cancel(ut);for(const pt of this._rangeRequestReaders.slice(0))pt.cancel(ut)}}b.PDFFetchStream=tt;class rt{constructor(ut){this._stream=ut,this._reader=null,this._loaded=0,this._filename=null;const lt=ut.source;this._withCredentials=lt.withCredentials||!1,this._contentLength=lt.length,this._headersCapability=new j.PromiseCapability,this._disableRange=lt.disableRange||!1,this._rangeChunkSize=lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!lt.disableStream,this._isRangeSupported=!lt.disableRange,this._headers=et(this._stream.httpHeaders);const pt=lt.url;fetch(pt,_e(this._headers,this._withCredentials,this._abortController)).then(vt=>{if(!(0,$.validateResponseStatus)(vt.status))throw(0,$.createResponseStatusError)(vt.status,pt);this._reader=vt.body.getReader(),this._headersCapability.resolve();const yt=mt=>vt.headers.get(mt),{allowRangeRequests:st,suggestedLength:ot}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:yt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=st,this._contentLength=ot||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(yt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new j.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._headersCapability.promise;const{value:ut,done:lt}=await this._reader.read();return lt?{value:ut,done:lt}:(this._loaded+=ut.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nt(ut),done:!1})}cancel(ut){var lt;(lt=this._reader)==null||lt.cancel(ut),this._abortController.abort()}}class it{constructor(ut,lt,pt){this._stream=ut,this._reader=null,this._loaded=0;const vt=ut.source;this._withCredentials=vt.withCredentials||!1,this._readCapability=new j.PromiseCapability,this._isStreamingSupported=!vt.disableStream,this._abortController=new AbortController,this._headers=et(this._stream.httpHeaders),this._headers.append("Range",`bytes=${lt}-${pt-1}`);const yt=vt.url;fetch(yt,_e(this._headers,this._withCredentials,this._abortController)).then(st=>{if(!(0,$.validateResponseStatus)(st.status))throw(0,$.createResponseStatusError)(st.status,yt);this._readCapability.resolve(),this._reader=st.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pt;await this._readCapability.promise;const{value:ut,done:lt}=await this._reader.read();return lt?{value:ut,done:lt}:(this._loaded+=ut.byteLength,(pt=this.onProgress)==null||pt.call(this,{loaded:this._loaded}),{value:nt(ut),done:!1})}cancel(ut){var lt;(lt=this._reader)==null||lt.cancel(ut),this._abortController.abort()}}},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createResponseStatusError=tt,b.extractFilenameFromHeader=nt,b.validateRangeRequestCapabilities=et,b.validateResponseStatus=rt;var j=_(1),$=_(21),_e=_(6);function et({getResponseHeader:it,isHttp:ht,rangeChunkSize:ut,disableRange:lt}){const pt={allowRangeRequests:!1,suggestedLength:void 0},vt=parseInt(it("Content-Length"),10);return!Number.isInteger(vt)||(pt.suggestedLength=vt,vt<=2*ut)||lt||!ht||it("Accept-Ranges")!=="bytes"||(it("Content-Encoding")||"identity")!=="identity"||(pt.allowRangeRequests=!0),pt}function nt(it){const ht=it("Content-Disposition");if(ht){let ut=(0,$.getFilenameFromContentDispositionHeader)(ht);if(ut.includes("%"))try{ut=decodeURIComponent(ut)}catch{}if((0,_e.isPdfFile)(ut))return ut}return null}function tt(it,ht){return it===404||it===0&&ht.startsWith("file:")?new j.MissingPDFException('Missing PDF "'+ht+'".'):new j.UnexpectedResponseException(`Unexpected server response (${it}) while retrieving PDF "${ht}".`,it)}function rt(it){return it===200||it===206}},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getFilenameFromContentDispositionHeader=$;var j=_(1);function $(_e){let et=!0,nt=tt("filename\\*","i").exec(_e);if(nt){nt=nt[1];let vt=ut(nt);return vt=unescape(vt),vt=lt(vt),vt=pt(vt),it(vt)}if(nt=ht(_e),nt){const vt=pt(nt);return it(vt)}if(nt=tt("filename","i").exec(_e),nt){nt=nt[1];let vt=ut(nt);return vt=pt(vt),it(vt)}function tt(vt,yt){return new RegExp("(?:^|;)\\s*"+vt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',yt)}function rt(vt,yt){if(vt){if(!/^[\x00-\xFF]+$/.test(yt))return yt;try{const st=new TextDecoder(vt,{fatal:!0}),ot=(0,j.stringToBytes)(yt);yt=st.decode(ot),et=!1}catch{}}return yt}function it(vt){return et&&/[\x80-\xff]/.test(vt)&&(vt=rt("utf-8",vt),et&&(vt=rt("iso-8859-1",vt))),vt}function ht(vt){const yt=[];let st;const ot=tt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(st=ot.exec(vt))!==null;){let[,ft,ct,xt]=st;if(ft=parseInt(ft,10),ft in yt){if(ft===0)break;continue}yt[ft]=[ct,xt]}const mt=[];for(let ft=0;ft<yt.length&&ft in yt;++ft){let[ct,xt]=yt[ft];xt=ut(xt),ct&&(xt=unescape(xt),ft===0&&(xt=lt(xt))),mt.push(xt)}return mt.join("")}function ut(vt){if(vt.startsWith('"')){const yt=vt.slice(1).split('\\"');for(let st=0;st<yt.length;++st){const ot=yt[st].indexOf('"');ot!==-1&&(yt[st]=yt[st].slice(0,ot),yt.length=st+1),yt[st]=yt[st].replaceAll(/\\(.)/g,"$1")}vt=yt.join('"')}return vt}function lt(vt){const yt=vt.indexOf("'");if(yt===-1)return vt;const st=vt.slice(0,yt),mt=vt.slice(yt+1).replace(/^[^']*'/,"");return rt(st,mt)}function pt(vt){return!vt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(vt)?vt:vt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(yt,st,ot,mt){if(ot==="q"||ot==="Q")return mt=mt.replaceAll("_"," "),mt=mt.replaceAll(/=([0-9a-fA-F]{2})/g,function(ft,ct){return String.fromCharCode(parseInt(ct,16))}),rt(st,mt);try{mt=atob(mt)}catch{}return rt(st,mt)})}return""}},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNetworkStream=void 0;var j=_(1),$=_(20);const _e=200,et=206;function nt(ut){const lt=ut.response;return typeof lt!="string"?lt:(0,j.stringToBytes)(lt).buffer}class tt{constructor(lt,pt={}){this.url=lt,this.isHttp=/^https?:/i.test(lt),this.httpHeaders=this.isHttp&&pt.httpHeaders||Object.create(null),this.withCredentials=pt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(lt,pt,vt){const yt={begin:lt,end:pt};for(const st in vt)yt[st]=vt[st];return this.request(yt)}requestFull(lt){return this.request(lt)}request(lt){const pt=new XMLHttpRequest,vt=this.currXhrId++,yt=this.pendingRequests[vt]={xhr:pt};pt.open("GET",this.url),pt.withCredentials=this.withCredentials;for(const st in this.httpHeaders){const ot=this.httpHeaders[st];ot!==void 0&&pt.setRequestHeader(st,ot)}return this.isHttp&&"begin"in lt&&"end"in lt?(pt.setRequestHeader("Range",`bytes=${lt.begin}-${lt.end-1}`),yt.expectedStatus=et):yt.expectedStatus=_e,pt.responseType="arraybuffer",lt.onError&&(pt.onerror=function(st){lt.onError(pt.status)}),pt.onreadystatechange=this.onStateChange.bind(this,vt),pt.onprogress=this.onProgress.bind(this,vt),yt.onHeadersReceived=lt.onHeadersReceived,yt.onDone=lt.onDone,yt.onError=lt.onError,yt.onProgress=lt.onProgress,pt.send(null),vt}onProgress(lt,pt){var yt;const vt=this.pendingRequests[lt];vt&&((yt=vt.onProgress)==null||yt.call(vt,pt))}onStateChange(lt,pt){var ft,ct,xt;const vt=this.pendingRequests[lt];if(!vt)return;const yt=vt.xhr;if(yt.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),yt.readyState!==4||!(lt in this.pendingRequests))return;if(delete this.pendingRequests[lt],yt.status===0&&this.isHttp){(ft=vt.onError)==null||ft.call(vt,yt.status);return}const st=yt.status||_e;if(!(st===_e&&vt.expectedStatus===et)&&st!==vt.expectedStatus){(ct=vt.onError)==null||ct.call(vt,yt.status);return}const mt=nt(yt);if(st===et){const dt=yt.getResponseHeader("Content-Range"),gt=/bytes (\d+)-(\d+)\/(\d+)/.exec(dt);vt.onDone({begin:parseInt(gt[1],10),chunk:mt})}else mt?vt.onDone({begin:0,chunk:mt}):(xt=vt.onError)==null||xt.call(vt,yt.status)}getRequestXhr(lt){return this.pendingRequests[lt].xhr}isPendingRequest(lt){return lt in this.pendingRequests}abortRequest(lt){const pt=this.pendingRequests[lt].xhr;delete this.pendingRequests[lt],pt.abort()}}class rt{constructor(lt){this._source=lt,this._manager=new tt(lt.url,{httpHeaders:lt.httpHeaders,withCredentials:lt.withCredentials}),this._rangeChunkSize=lt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(lt){const pt=this._rangeRequestReaders.indexOf(lt);pt>=0&&this._rangeRequestReaders.splice(pt,1)}getFullReader(){return(0,j.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new it(this._manager,this._source),this._fullRequestReader}getRangeReader(lt,pt){const vt=new ht(this._manager,lt,pt);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests(lt){var pt;(pt=this._fullRequestReader)==null||pt.cancel(lt);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel(lt)}}b.PDFNetworkStream=rt;class it{constructor(lt,pt){this._manager=lt;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=pt.url,this._fullRequestId=lt.requestFull(vt),this._headersReceivedCapability=new j.PromiseCapability,this._disableRange=pt.disableRange||!1,this._contentLength=pt.length,this._rangeChunkSize=pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const lt=this._fullRequestId,pt=this._manager.getRequestXhr(lt),vt=ot=>pt.getResponseHeader(ot),{allowRangeRequests:yt,suggestedLength:st}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});yt&&(this._isRangeSupported=!0),this._contentLength=st||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(vt),this._isRangeSupported&&this._manager.abortRequest(lt),this._headersReceivedCapability.resolve()}_onDone(lt){if(lt&&(this._requests.length>0?this._requests.shift().resolve({value:lt.chunk,done:!1}):this._cachedChunks.push(lt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(lt){this._storedError=(0,$.createResponseStatusError)(lt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(lt){var pt;(pt=this.onProgress)==null||pt.call(this,{loaded:lt.loaded,total:lt.lengthComputable?lt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const lt=new j.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0,this._headersReceivedCapability.reject(lt);for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ht{constructor(lt,pt,vt){this._manager=lt;const yt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=lt.url,this._requestId=lt.requestRange(pt,vt,yt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var lt;(lt=this.onClosed)==null||lt.call(this,this)}_onDone(lt){const pt=lt.chunk;this._requests.length>0?this._requests.shift().resolve({value:pt,done:!1}):this._queuedChunk=pt,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(lt){this._storedError=(0,$.createResponseStatusError)(lt,this._url);for(const pt of this._requests)pt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(lt){var pt;this.isStreamingSupported||(pt=this.onProgress)==null||pt.call(this,{loaded:lt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const pt=this._queuedChunk;return this._queuedChunk=null,{value:pt,done:!1}}if(this._done)return{value:void 0,done:!0};const lt=new j.PromiseCapability;return this._requests.push(lt),lt.promise}cancel(lt){this._done=!0;for(const pt of this._requests)pt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNodeStream=void 0;var j=_(1),$=_(20);const _e=/^file:\/\/\/[a-zA-Z]:\//;function et(vt){const yt=require$$5,st=yt.parse(vt);return st.protocol==="file:"||st.host?st:/^[a-z]:[/\\]/i.test(vt)?yt.parse(`file:///${vt}`):(st.host||(st.protocol="file:"),st)}class nt{constructor(yt){this.source=yt,this.url=et(yt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&yt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var yt;return((yt=this._fullRequestReader)==null?void 0:yt._loaded)??0}getFullReader(){return(0,j.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new lt(this):new ht(this),this._fullRequestReader}getRangeReader(yt,st){if(st<=this._progressiveDataLength)return null;const ot=this.isFsUrl?new pt(this,yt,st):new ut(this,yt,st);return this._rangeRequestReaders.push(ot),ot}cancelAllRequests(yt){var st;(st=this._fullRequestReader)==null||st.cancel(yt);for(const ot of this._rangeRequestReaders.slice(0))ot.cancel(yt)}}b.PDFNodeStream=nt;class tt{constructor(yt){this._url=yt.url,this._done=!1,this._storedError=null,this.onProgress=null;const st=yt.source;this._contentLength=st.length,this._loaded=0,this._filename=null,this._disableRange=st.disableRange||!1,this._rangeChunkSize=st.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!st.disableStream,this._isRangeSupported=!st.disableRange,this._readableStream=null,this._readCapability=new j.PromiseCapability,this._headersCapability=new j.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const yt=this._readableStream.read();return yt===null?(this._readCapability=new j.PromiseCapability,this.read()):(this._loaded+=yt.length,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(yt).buffer,done:!1})}cancel(yt){if(!this._readableStream){this._error(yt);return}this._readableStream.destroy(yt)}_error(yt){this._storedError=yt,this._readCapability.resolve()}_setReadableStream(yt){this._readableStream=yt,yt.on("readable",()=>{this._readCapability.resolve()}),yt.on("end",()=>{yt.destroy(),this._done=!0,this._readCapability.resolve()}),yt.on("error",st=>{this._error(st)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new j.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class rt{constructor(yt){this._url=yt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new j.PromiseCapability;const st=yt.source;this._isStreamingSupported=!st.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var ot;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const yt=this._readableStream.read();return yt===null?(this._readCapability=new j.PromiseCapability,this.read()):(this._loaded+=yt.length,(ot=this.onProgress)==null||ot.call(this,{loaded:this._loaded}),{value:new Uint8Array(yt).buffer,done:!1})}cancel(yt){if(!this._readableStream){this._error(yt);return}this._readableStream.destroy(yt)}_error(yt){this._storedError=yt,this._readCapability.resolve()}_setReadableStream(yt){this._readableStream=yt,yt.on("readable",()=>{this._readCapability.resolve()}),yt.on("end",()=>{yt.destroy(),this._done=!0,this._readCapability.resolve()}),yt.on("error",st=>{this._error(st)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function it(vt,yt){return{protocol:vt.protocol,auth:vt.auth,host:vt.hostname,port:vt.port,path:vt.path,method:"GET",headers:yt}}class ht extends tt{constructor(yt){super(yt);const st=ot=>{if(ot.statusCode===404){const xt=new j.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=xt,this._headersCapability.reject(xt);return}this._headersCapability.resolve(),this._setReadableStream(ot);const mt=xt=>this._readableStream.headers[xt.toLowerCase()],{allowRangeRequests:ft,suggestedLength:ct}=(0,$.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:yt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ft,this._contentLength=ct||this._contentLength,this._filename=(0,$.extractFilenameFromHeader)(mt)};if(this._request=null,this._url.protocol==="http:"){const ot=require$$5;this._request=ot.request(it(this._url,yt.httpHeaders),st)}else{const ot=require$$5;this._request=ot.request(it(this._url,yt.httpHeaders),st)}this._request.on("error",ot=>{this._storedError=ot,this._headersCapability.reject(ot)}),this._request.end()}}class ut extends rt{constructor(yt,st,ot){super(yt),this._httpHeaders={};for(const ft in yt.httpHeaders){const ct=yt.httpHeaders[ft];ct!==void 0&&(this._httpHeaders[ft]=ct)}this._httpHeaders.Range=`bytes=${st}-${ot-1}`;const mt=ft=>{if(ft.statusCode===404){const ct=new j.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ct;return}this._setReadableStream(ft)};if(this._request=null,this._url.protocol==="http:"){const ft=require$$5;this._request=ft.request(it(this._url,this._httpHeaders),mt)}else{const ft=require$$5;this._request=ft.request(it(this._url,this._httpHeaders),mt)}this._request.on("error",ft=>{this._storedError=ft}),this._request.end()}}class lt extends tt{constructor(yt){super(yt);let st=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(st=st.replace(/^\//,""));const ot=require$$5;ot.lstat(st,(mt,ft)=>{if(mt){mt.code==="ENOENT"&&(mt=new j.MissingPDFException(`Missing PDF "${st}".`)),this._storedError=mt,this._headersCapability.reject(mt);return}this._contentLength=ft.size,this._setReadableStream(ot.createReadStream(st)),this._headersCapability.resolve()})}}class pt extends rt{constructor(yt,st,ot){super(yt);let mt=decodeURIComponent(this._url.path);_e.test(this._url.href)&&(mt=mt.replace(/^\//,""));const ft=require$$5;this._setReadableStream(ft.createReadStream(mt,{start:st,end:ot-1}))}}},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SVGGraphics=void 0;var j=_(6),$=_(1);const _e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},et="http://www.w3.org/XML/1998/namespace",nt="http://www.w3.org/1999/xlink",tt=["butt","round","square"],rt=["miter","round","bevel"],it=function(ft,ct="",xt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!xt)return URL.createObjectURL(new Blob([ft],{type:ct}));const dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let gt=`data:${ct};base64,`;for(let St=0,kt=ft.length;St<kt;St+=3){const bt=ft[St]&255,wt=ft[St+1]&255,Tt=ft[St+2]&255,Ht=bt>>2,Bt=(bt&3)<<4|wt>>4,Wt=St+1<kt?(wt&15)<<2|Tt>>6:64,Dt=St+2<kt?Tt&63:64;gt+=dt[Ht]+dt[Bt]+dt[Wt]+dt[Dt]}return gt},ht=function(){const ft=new Uint8Array([137,80,78,71,13,10,26,10]),ct=12,xt=new Int32Array(256);for(let Tt=0;Tt<256;Tt++){let Ht=Tt;for(let Bt=0;Bt<8;Bt++)Ht=Ht&1?3988292384^Ht>>1&2147483647:Ht>>1&2147483647;xt[Tt]=Ht}function dt(Tt,Ht,Bt){let Wt=-1;for(let Dt=Ht;Dt<Bt;Dt++){const It=(Wt^Tt[Dt])&255,At=xt[It];Wt=Wt>>>8^At}return Wt^-1}function gt(Tt,Ht,Bt,Wt){let Dt=Wt;const It=Ht.length;Bt[Dt]=It>>24&255,Bt[Dt+1]=It>>16&255,Bt[Dt+2]=It>>8&255,Bt[Dt+3]=It&255,Dt+=4,Bt[Dt]=Tt.charCodeAt(0)&255,Bt[Dt+1]=Tt.charCodeAt(1)&255,Bt[Dt+2]=Tt.charCodeAt(2)&255,Bt[Dt+3]=Tt.charCodeAt(3)&255,Dt+=4,Bt.set(Ht,Dt),Dt+=Ht.length;const At=dt(Bt,Wt+4,Dt);Bt[Dt]=At>>24&255,Bt[Dt+1]=At>>16&255,Bt[Dt+2]=At>>8&255,Bt[Dt+3]=At&255}function St(Tt,Ht,Bt){let Wt=1,Dt=0;for(let It=Ht;It<Bt;++It)Wt=(Wt+(Tt[It]&255))%65521,Dt=(Dt+Wt)%65521;return Dt<<16|Wt}function kt(Tt){if(!$.isNodeJS)return bt(Tt);try{const Ht=parseInt(process.versions.node)>=8?Tt:Buffer.from(Tt),Bt=require$$5.deflateSync(Ht,{level:9});return Bt instanceof Uint8Array?Bt:new Uint8Array(Bt)}catch(Ht){(0,$.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ht)}return bt(Tt)}function bt(Tt){let Ht=Tt.length;const Bt=65535,Wt=Math.ceil(Ht/Bt),Dt=new Uint8Array(2+Ht+Wt*5+4);let It=0;Dt[It++]=120,Dt[It++]=156;let At=0;for(;Ht>Bt;)Dt[It++]=0,Dt[It++]=255,Dt[It++]=255,Dt[It++]=0,Dt[It++]=0,Dt.set(Tt.subarray(At,At+Bt),It),It+=Bt,At+=Bt,Ht-=Bt;Dt[It++]=1,Dt[It++]=Ht&255,Dt[It++]=Ht>>8&255,Dt[It++]=~Ht&65535&255,Dt[It++]=(~Ht&65535)>>8&255,Dt.set(Tt.subarray(At),It),It+=Tt.length-At;const Ft=St(Tt,0,Tt.length);return Dt[It++]=Ft>>24&255,Dt[It++]=Ft>>16&255,Dt[It++]=Ft>>8&255,Dt[It++]=Ft&255,Dt}function wt(Tt,Ht,Bt,Wt){const Dt=Tt.width,It=Tt.height;let At,Ft,Vt;const Pt=Tt.data;switch(Ht){case $.ImageKind.GRAYSCALE_1BPP:Ft=0,At=1,Vt=Dt+7>>3;break;case $.ImageKind.RGB_24BPP:Ft=2,At=8,Vt=Dt*3;break;case $.ImageKind.RGBA_32BPP:Ft=6,At=8,Vt=Dt*4;break;default:throw new Error("invalid format")}const Et=new Uint8Array((1+Vt)*It);let _t=0,Ct=0;for(let on=0;on<It;++on)Et[_t++]=0,Et.set(Pt.subarray(Ct,Ct+Vt),_t),Ct+=Vt,_t+=Vt;if(Ht===$.ImageKind.GRAYSCALE_1BPP&&Wt){_t=0;for(let on=0;on<It;on++){_t++;for(let ln=0;ln<Vt;ln++)Et[_t++]^=255}}const Mt=new Uint8Array([Dt>>24&255,Dt>>16&255,Dt>>8&255,Dt&255,It>>24&255,It>>16&255,It>>8&255,It&255,At,Ft,0,0,0]),Nt=kt(Et),zt=ft.length+ct*3+Mt.length+Nt.length,Xt=new Uint8Array(zt);let Jt=0;return Xt.set(ft,Jt),Jt+=ft.length,gt("IHDR",Mt,Xt,Jt),Jt+=ct+Mt.length,gt("IDATA",Nt,Xt,Jt),Jt+=ct+Nt.length,gt("IEND",new Uint8Array(0),Xt,Jt),it(Xt,"image/png",Bt)}return function(Ht,Bt,Wt){const Dt=Ht.kind===void 0?$.ImageKind.GRAYSCALE_1BPP:Ht.kind;return wt(Ht,Dt,Bt,Wt)}}();class ut{constructor(){this.fontSizeScale=1,this.fontWeight=_e.fontWeight,this.fontSize=0,this.textMatrix=$.IDENTITY_MATRIX,this.fontMatrix=$.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=$.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=_e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(ct,xt){this.x=ct,this.y=xt}}function lt(ft){let ct=[];const xt=[];for(const dt of ft){if(dt.fn==="save"){ct.push({fnId:92,fn:"group",items:[]}),xt.push(ct),ct=ct.at(-1).items;continue}dt.fn==="restore"?ct=xt.pop():ct.push(dt)}return ct}function pt(ft){if(Number.isInteger(ft))return ft.toString();const ct=ft.toFixed(10);let xt=ct.length-1;if(ct[xt]!=="0")return ct;do xt--;while(ct[xt]==="0");return ct.substring(0,ct[xt]==="."?xt:xt+1)}function vt(ft){if(ft[4]===0&&ft[5]===0){if(ft[1]===0&&ft[2]===0)return ft[0]===1&&ft[3]===1?"":`scale(${pt(ft[0])} ${pt(ft[3])})`;if(ft[0]===ft[3]&&ft[1]===-ft[2]){const ct=Math.acos(ft[0])*180/Math.PI;return`rotate(${pt(ct)})`}}else if(ft[0]===1&&ft[1]===0&&ft[2]===0&&ft[3]===1)return`translate(${pt(ft[4])} ${pt(ft[5])})`;return`matrix(${pt(ft[0])} ${pt(ft[1])} ${pt(ft[2])} ${pt(ft[3])} ${pt(ft[4])} ${pt(ft[5])})`}let yt=0,st=0,ot=0;class mt{constructor(ct,xt,dt=!1){(0,j.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new j.DOMSVGFactory,this.current=new ut,this.transformMatrix=$.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=ct,this.objs=xt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!dt,this._operatorIdMapping=[];for(const gt in $.OPS)this._operatorIdMapping[$.OPS[gt]]=gt}getObject(ct,xt=null){return typeof ct=="string"?ct.startsWith("g_")?this.commonObjs.get(ct):this.objs.get(ct):xt}save(){this.transformStack.push(this.transformMatrix);const ct=this.current;this.extraStack.push(ct),this.current=ct.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(ct){this.save(),this.executeOpTree(ct),this.restore()}loadDependencies(ct){const xt=ct.fnArray,dt=ct.argsArray;for(let gt=0,St=xt.length;gt<St;gt++)if(xt[gt]===$.OPS.dependency)for(const kt of dt[gt]){const bt=kt.startsWith("g_")?this.commonObjs:this.objs,wt=new Promise(Tt=>{bt.get(kt,Tt)});this.current.dependencies.push(wt)}return Promise.all(this.current.dependencies)}transform(ct,xt,dt,gt,St,kt){const bt=[ct,xt,dt,gt,St,kt];this.transformMatrix=$.Util.transform(this.transformMatrix,bt),this.tgrp=null}getSVG(ct,xt){this.viewport=xt;const dt=this._initialize(xt);return this.loadDependencies(ct).then(()=>(this.transformMatrix=$.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(ct)),dt))}convertOpList(ct){const xt=this._operatorIdMapping,dt=ct.argsArray,gt=ct.fnArray,St=[];for(let kt=0,bt=gt.length;kt<bt;kt++){const wt=gt[kt];St.push({fnId:wt,fn:xt[wt],args:dt[kt]})}return lt(St)}executeOpTree(ct){for(const xt of ct){const dt=xt.fn,gt=xt.fnId,St=xt.args;switch(gt|0){case $.OPS.beginText:this.beginText();break;case $.OPS.dependency:break;case $.OPS.setLeading:this.setLeading(St);break;case $.OPS.setLeadingMoveText:this.setLeadingMoveText(St[0],St[1]);break;case $.OPS.setFont:this.setFont(St);break;case $.OPS.showText:this.showText(St[0]);break;case $.OPS.showSpacedText:this.showText(St[0]);break;case $.OPS.endText:this.endText();break;case $.OPS.moveText:this.moveText(St[0],St[1]);break;case $.OPS.setCharSpacing:this.setCharSpacing(St[0]);break;case $.OPS.setWordSpacing:this.setWordSpacing(St[0]);break;case $.OPS.setHScale:this.setHScale(St[0]);break;case $.OPS.setTextMatrix:this.setTextMatrix(St[0],St[1],St[2],St[3],St[4],St[5]);break;case $.OPS.setTextRise:this.setTextRise(St[0]);break;case $.OPS.setTextRenderingMode:this.setTextRenderingMode(St[0]);break;case $.OPS.setLineWidth:this.setLineWidth(St[0]);break;case $.OPS.setLineJoin:this.setLineJoin(St[0]);break;case $.OPS.setLineCap:this.setLineCap(St[0]);break;case $.OPS.setMiterLimit:this.setMiterLimit(St[0]);break;case $.OPS.setFillRGBColor:this.setFillRGBColor(St[0],St[1],St[2]);break;case $.OPS.setStrokeRGBColor:this.setStrokeRGBColor(St[0],St[1],St[2]);break;case $.OPS.setStrokeColorN:this.setStrokeColorN(St);break;case $.OPS.setFillColorN:this.setFillColorN(St);break;case $.OPS.shadingFill:this.shadingFill(St[0]);break;case $.OPS.setDash:this.setDash(St[0],St[1]);break;case $.OPS.setRenderingIntent:this.setRenderingIntent(St[0]);break;case $.OPS.setFlatness:this.setFlatness(St[0]);break;case $.OPS.setGState:this.setGState(St[0]);break;case $.OPS.fill:this.fill();break;case $.OPS.eoFill:this.eoFill();break;case $.OPS.stroke:this.stroke();break;case $.OPS.fillStroke:this.fillStroke();break;case $.OPS.eoFillStroke:this.eoFillStroke();break;case $.OPS.clip:this.clip("nonzero");break;case $.OPS.eoClip:this.clip("evenodd");break;case $.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case $.OPS.paintImageXObject:this.paintImageXObject(St[0]);break;case $.OPS.paintInlineImageXObject:this.paintInlineImageXObject(St[0]);break;case $.OPS.paintImageMaskXObject:this.paintImageMaskXObject(St[0]);break;case $.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(St[0],St[1]);break;case $.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case $.OPS.closePath:this.closePath();break;case $.OPS.closeStroke:this.closeStroke();break;case $.OPS.closeFillStroke:this.closeFillStroke();break;case $.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case $.OPS.nextLine:this.nextLine();break;case $.OPS.transform:this.transform(St[0],St[1],St[2],St[3],St[4],St[5]);break;case $.OPS.constructPath:this.constructPath(St[0],St[1]);break;case $.OPS.endPath:this.endPath();break;case 92:this.group(xt.items);break;default:(0,$.warn)(`Unimplemented operator ${dt}`);break}}}setWordSpacing(ct){this.current.wordSpacing=ct}setCharSpacing(ct){this.current.charSpacing=ct}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(ct,xt,dt,gt,St,kt){const bt=this.current;bt.textMatrix=bt.lineMatrix=[ct,xt,dt,gt,St,kt],bt.textMatrixScale=Math.hypot(ct,xt),bt.x=bt.lineX=0,bt.y=bt.lineY=0,bt.xcoords=[],bt.ycoords=[],bt.tspan=this.svgFactory.createElement("svg:tspan"),bt.tspan.setAttributeNS(null,"font-family",bt.fontFamily),bt.tspan.setAttributeNS(null,"font-size",`${pt(bt.fontSize)}px`),bt.tspan.setAttributeNS(null,"y",pt(-bt.y)),bt.txtElement=this.svgFactory.createElement("svg:text"),bt.txtElement.append(bt.tspan)}beginText(){const ct=this.current;ct.x=ct.lineX=0,ct.y=ct.lineY=0,ct.textMatrix=$.IDENTITY_MATRIX,ct.lineMatrix=$.IDENTITY_MATRIX,ct.textMatrixScale=1,ct.tspan=this.svgFactory.createElement("svg:tspan"),ct.txtElement=this.svgFactory.createElement("svg:text"),ct.txtgrp=this.svgFactory.createElement("svg:g"),ct.xcoords=[],ct.ycoords=[]}moveText(ct,xt){const dt=this.current;dt.x=dt.lineX+=ct,dt.y=dt.lineY+=xt,dt.xcoords=[],dt.ycoords=[],dt.tspan=this.svgFactory.createElement("svg:tspan"),dt.tspan.setAttributeNS(null,"font-family",dt.fontFamily),dt.tspan.setAttributeNS(null,"font-size",`${pt(dt.fontSize)}px`),dt.tspan.setAttributeNS(null,"y",pt(-dt.y))}showText(ct){const xt=this.current,dt=xt.font,gt=xt.fontSize;if(gt===0)return;const St=xt.fontSizeScale,kt=xt.charSpacing,bt=xt.wordSpacing,wt=xt.fontDirection,Tt=xt.textHScale*wt,Ht=dt.vertical,Bt=Ht?1:-1,Wt=dt.defaultVMetrics,Dt=gt*xt.fontMatrix[0];let It=0;for(const Vt of ct){if(Vt===null){It+=wt*bt;continue}else if(typeof Vt=="number"){It+=Bt*Vt*gt/1e3;continue}const Pt=(Vt.isSpace?bt:0)+kt,Et=Vt.fontChar;let _t,Ct,Mt=Vt.width;if(Ht){let zt;const Xt=Vt.vmetric||Wt;zt=Vt.vmetric?Xt[1]:Mt*.5,zt=-zt*Dt;const Jt=Xt[2]*Dt;Mt=Xt?-Xt[0]:Mt,_t=zt/St,Ct=(It+Jt)/St}else _t=It/St,Ct=0;(Vt.isInFont||dt.missingFile)&&(xt.xcoords.push(xt.x+_t),Ht&&xt.ycoords.push(-xt.y+Ct),xt.tspan.textContent+=Et);const Nt=Ht?Mt*Dt-Pt*wt:Mt*Dt+Pt*wt;It+=Nt}xt.tspan.setAttributeNS(null,"x",xt.xcoords.map(pt).join(" ")),Ht?xt.tspan.setAttributeNS(null,"y",xt.ycoords.map(pt).join(" ")):xt.tspan.setAttributeNS(null,"y",pt(-xt.y)),Ht?xt.y-=It:xt.x+=It*Tt,xt.tspan.setAttributeNS(null,"font-family",xt.fontFamily),xt.tspan.setAttributeNS(null,"font-size",`${pt(xt.fontSize)}px`),xt.fontStyle!==_e.fontStyle&&xt.tspan.setAttributeNS(null,"font-style",xt.fontStyle),xt.fontWeight!==_e.fontWeight&&xt.tspan.setAttributeNS(null,"font-weight",xt.fontWeight);const At=xt.textRenderingMode&$.TextRenderingMode.FILL_STROKE_MASK;if(At===$.TextRenderingMode.FILL||At===$.TextRenderingMode.FILL_STROKE?(xt.fillColor!==_e.fillColor&&xt.tspan.setAttributeNS(null,"fill",xt.fillColor),xt.fillAlpha<1&&xt.tspan.setAttributeNS(null,"fill-opacity",xt.fillAlpha)):xt.textRenderingMode===$.TextRenderingMode.ADD_TO_PATH?xt.tspan.setAttributeNS(null,"fill","transparent"):xt.tspan.setAttributeNS(null,"fill","none"),At===$.TextRenderingMode.STROKE||At===$.TextRenderingMode.FILL_STROKE){const Vt=1/(xt.textMatrixScale||1);this._setStrokeAttributes(xt.tspan,Vt)}let Ft=xt.textMatrix;xt.textRise!==0&&(Ft=Ft.slice(),Ft[5]+=xt.textRise),xt.txtElement.setAttributeNS(null,"transform",`${vt(Ft)} scale(${pt(Tt)}, -1)`),xt.txtElement.setAttributeNS(et,"xml:space","preserve"),xt.txtElement.append(xt.tspan),xt.txtgrp.append(xt.txtElement),this._ensureTransformGroup().append(xt.txtElement)}setLeadingMoveText(ct,xt){this.setLeading(-xt),this.moveText(ct,xt)}addFontStyle(ct){if(!ct.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const xt=it(ct.data,ct.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${ct.loadedName}"; src: url(${xt}); }
`}setFont(ct){const xt=this.current,dt=this.commonObjs.get(ct[0]);let gt=ct[1];xt.font=dt,this.embedFonts&&!dt.missingFile&&!this.embeddedFonts[dt.loadedName]&&(this.addFontStyle(dt),this.embeddedFonts[dt.loadedName]=dt),xt.fontMatrix=dt.fontMatrix||$.FONT_IDENTITY_MATRIX;let St="normal";dt.black?St="900":dt.bold&&(St="bold");const kt=dt.italic?"italic":"normal";gt<0?(gt=-gt,xt.fontDirection=-1):xt.fontDirection=1,xt.fontSize=gt,xt.fontFamily=dt.loadedName,xt.fontWeight=St,xt.fontStyle=kt,xt.tspan=this.svgFactory.createElement("svg:tspan"),xt.tspan.setAttributeNS(null,"y",pt(-xt.y)),xt.xcoords=[],xt.ycoords=[]}endText(){var xt;const ct=this.current;ct.textRenderingMode&$.TextRenderingMode.ADD_TO_PATH_FLAG&&((xt=ct.txtElement)!=null&&xt.hasChildNodes())&&(ct.element=ct.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(ct){ct>0&&(this.current.lineWidth=ct)}setLineCap(ct){this.current.lineCap=tt[ct]}setLineJoin(ct){this.current.lineJoin=rt[ct]}setMiterLimit(ct){this.current.miterLimit=ct}setStrokeAlpha(ct){this.current.strokeAlpha=ct}setStrokeRGBColor(ct,xt,dt){this.current.strokeColor=$.Util.makeHexColor(ct,xt,dt)}setFillAlpha(ct){this.current.fillAlpha=ct}setFillRGBColor(ct,xt,dt){this.current.fillColor=$.Util.makeHexColor(ct,xt,dt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(ct){this.current.strokeColor=this._makeColorN_Pattern(ct)}setFillColorN(ct){this.current.fillColor=this._makeColorN_Pattern(ct)}shadingFill(ct){const{width:xt,height:dt}=this.viewport,gt=$.Util.inverseTransform(this.transformMatrix),[St,kt,bt,wt]=$.Util.getAxialAlignedBoundingBox([0,0,xt,dt],gt),Tt=this.svgFactory.createElement("svg:rect");Tt.setAttributeNS(null,"x",St),Tt.setAttributeNS(null,"y",kt),Tt.setAttributeNS(null,"width",bt-St),Tt.setAttributeNS(null,"height",wt-kt),Tt.setAttributeNS(null,"fill",this._makeShadingPattern(ct)),this.current.fillAlpha<1&&Tt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Tt)}_makeColorN_Pattern(ct){return ct[0]==="TilingPattern"?this._makeTilingPattern(ct):this._makeShadingPattern(ct)}_makeTilingPattern(ct){const xt=ct[1],dt=ct[2],gt=ct[3]||$.IDENTITY_MATRIX,[St,kt,bt,wt]=ct[4],Tt=ct[5],Ht=ct[6],Bt=ct[7],Wt=`shading${ot++}`,[Dt,It,At,Ft]=$.Util.normalizeRect([...$.Util.applyTransform([St,kt],gt),...$.Util.applyTransform([bt,wt],gt)]),[Vt,Pt]=$.Util.singularValueDecompose2dScale(gt),Et=Tt*Vt,_t=Ht*Pt,Ct=this.svgFactory.createElement("svg:pattern");Ct.setAttributeNS(null,"id",Wt),Ct.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Ct.setAttributeNS(null,"width",Et),Ct.setAttributeNS(null,"height",_t),Ct.setAttributeNS(null,"x",`${Dt}`),Ct.setAttributeNS(null,"y",`${It}`);const Mt=this.svg,Nt=this.transformMatrix,zt=this.current.fillColor,Xt=this.current.strokeColor,Jt=this.svgFactory.create(At-Dt,Ft-It);if(this.svg=Jt,this.transformMatrix=gt,Bt===2){const on=$.Util.makeHexColor(...xt);this.current.fillColor=on,this.current.strokeColor=on}return this.executeOpTree(this.convertOpList(dt)),this.svg=Mt,this.transformMatrix=Nt,this.current.fillColor=zt,this.current.strokeColor=Xt,Ct.append(Jt.childNodes[0]),this.defs.append(Ct),`url(#${Wt})`}_makeShadingPattern(ct){switch(typeof ct=="string"&&(ct=this.objs.get(ct)),ct[0]){case"RadialAxial":const xt=`shading${ot++}`,dt=ct[3];let gt;switch(ct[1]){case"axial":const St=ct[4],kt=ct[5];gt=this.svgFactory.createElement("svg:linearGradient"),gt.setAttributeNS(null,"id",xt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"x1",St[0]),gt.setAttributeNS(null,"y1",St[1]),gt.setAttributeNS(null,"x2",kt[0]),gt.setAttributeNS(null,"y2",kt[1]);break;case"radial":const bt=ct[4],wt=ct[5],Tt=ct[6],Ht=ct[7];gt=this.svgFactory.createElement("svg:radialGradient"),gt.setAttributeNS(null,"id",xt),gt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),gt.setAttributeNS(null,"cx",wt[0]),gt.setAttributeNS(null,"cy",wt[1]),gt.setAttributeNS(null,"r",Ht),gt.setAttributeNS(null,"fx",bt[0]),gt.setAttributeNS(null,"fy",bt[1]),gt.setAttributeNS(null,"fr",Tt);break;default:throw new Error(`Unknown RadialAxial type: ${ct[1]}`)}for(const St of dt){const kt=this.svgFactory.createElement("svg:stop");kt.setAttributeNS(null,"offset",St[0]),kt.setAttributeNS(null,"stop-color",St[1]),gt.append(kt)}return this.defs.append(gt),`url(#${xt})`;case"Mesh":return(0,$.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${ct[0]}`)}}setDash(ct,xt){this.current.dashArray=ct,this.current.dashPhase=xt}constructPath(ct,xt){const dt=this.current;let gt=dt.x,St=dt.y,kt=[],bt=0;for(const wt of ct)switch(wt|0){case $.OPS.rectangle:gt=xt[bt++],St=xt[bt++];const Tt=xt[bt++],Ht=xt[bt++],Bt=gt+Tt,Wt=St+Ht;kt.push("M",pt(gt),pt(St),"L",pt(Bt),pt(St),"L",pt(Bt),pt(Wt),"L",pt(gt),pt(Wt),"Z");break;case $.OPS.moveTo:gt=xt[bt++],St=xt[bt++],kt.push("M",pt(gt),pt(St));break;case $.OPS.lineTo:gt=xt[bt++],St=xt[bt++],kt.push("L",pt(gt),pt(St));break;case $.OPS.curveTo:gt=xt[bt+4],St=xt[bt+5],kt.push("C",pt(xt[bt]),pt(xt[bt+1]),pt(xt[bt+2]),pt(xt[bt+3]),pt(gt),pt(St)),bt+=6;break;case $.OPS.curveTo2:kt.push("C",pt(gt),pt(St),pt(xt[bt]),pt(xt[bt+1]),pt(xt[bt+2]),pt(xt[bt+3])),gt=xt[bt+2],St=xt[bt+3],bt+=4;break;case $.OPS.curveTo3:gt=xt[bt+2],St=xt[bt+3],kt.push("C",pt(xt[bt]),pt(xt[bt+1]),pt(gt),pt(St),pt(gt),pt(St)),bt+=4;break;case $.OPS.closePath:kt.push("Z");break}kt=kt.join(" "),dt.path&&ct.length>0&&ct[0]!==$.OPS.rectangle&&ct[0]!==$.OPS.moveTo?kt=dt.path.getAttributeNS(null,"d")+kt:(dt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(dt.path)),dt.path.setAttributeNS(null,"d",kt),dt.path.setAttributeNS(null,"fill","none"),dt.element=dt.path,dt.setCurrentPoint(gt,St)}endPath(){const ct=this.current;if(ct.path=null,!this.pendingClip)return;if(!ct.element){this.pendingClip=null;return}const xt=`clippath${yt++}`,dt=this.svgFactory.createElement("svg:clipPath");dt.setAttributeNS(null,"id",xt),dt.setAttributeNS(null,"transform",vt(this.transformMatrix));const gt=ct.element.cloneNode(!0);if(this.pendingClip==="evenodd"?gt.setAttributeNS(null,"clip-rule","evenodd"):gt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,dt.append(gt),this.defs.append(dt),ct.activeClipUrl){ct.clipGroup=null;for(const St of this.extraStack)St.clipGroup=null;dt.setAttributeNS(null,"clip-path",ct.activeClipUrl)}ct.activeClipUrl=`url(#${xt})`,this.tgrp=null}clip(ct){this.pendingClip=ct}closePath(){const ct=this.current;if(ct.path){const xt=`${ct.path.getAttributeNS(null,"d")}Z`;ct.path.setAttributeNS(null,"d",xt)}}setLeading(ct){this.current.leading=-ct}setTextRise(ct){this.current.textRise=ct}setTextRenderingMode(ct){this.current.textRenderingMode=ct}setHScale(ct){this.current.textHScale=ct/100}setRenderingIntent(ct){}setFlatness(ct){}setGState(ct){for(const[xt,dt]of ct)switch(xt){case"LW":this.setLineWidth(dt);break;case"LC":this.setLineCap(dt);break;case"LJ":this.setLineJoin(dt);break;case"ML":this.setMiterLimit(dt);break;case"D":this.setDash(dt[0],dt[1]);break;case"RI":this.setRenderingIntent(dt);break;case"FL":this.setFlatness(dt);break;case"Font":this.setFont(dt);break;case"CA":this.setStrokeAlpha(dt);break;case"ca":this.setFillAlpha(dt);break;default:(0,$.warn)(`Unimplemented graphic state operator ${xt}`);break}}fill(){const ct=this.current;ct.element&&(ct.element.setAttributeNS(null,"fill",ct.fillColor),ct.element.setAttributeNS(null,"fill-opacity",ct.fillAlpha),this.endPath())}stroke(){const ct=this.current;ct.element&&(this._setStrokeAttributes(ct.element),ct.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(ct,xt=1){const dt=this.current;let gt=dt.dashArray;xt!==1&&gt.length>0&&(gt=gt.map(function(St){return xt*St})),ct.setAttributeNS(null,"stroke",dt.strokeColor),ct.setAttributeNS(null,"stroke-opacity",dt.strokeAlpha),ct.setAttributeNS(null,"stroke-miterlimit",pt(dt.miterLimit)),ct.setAttributeNS(null,"stroke-linecap",dt.lineCap),ct.setAttributeNS(null,"stroke-linejoin",dt.lineJoin),ct.setAttributeNS(null,"stroke-width",pt(xt*dt.lineWidth)+"px"),ct.setAttributeNS(null,"stroke-dasharray",gt.map(pt).join(" ")),ct.setAttributeNS(null,"stroke-dashoffset",pt(xt*dt.dashPhase)+"px")}eoFill(){var ct;(ct=this.current.element)==null||ct.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var ct;(ct=this.current.element)==null||ct.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const ct=this.svgFactory.createElement("svg:rect");ct.setAttributeNS(null,"x","0"),ct.setAttributeNS(null,"y","0"),ct.setAttributeNS(null,"width","1px"),ct.setAttributeNS(null,"height","1px"),ct.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(ct)}paintImageXObject(ct){const xt=this.getObject(ct);if(!xt){(0,$.warn)(`Dependent image with object ID ${ct} is not ready yet`);return}this.paintInlineImageXObject(xt)}paintInlineImageXObject(ct,xt){const dt=ct.width,gt=ct.height,St=ht(ct,this.forceDataSchema,!!xt),kt=this.svgFactory.createElement("svg:rect");kt.setAttributeNS(null,"x","0"),kt.setAttributeNS(null,"y","0"),kt.setAttributeNS(null,"width",pt(dt)),kt.setAttributeNS(null,"height",pt(gt)),this.current.element=kt,this.clip("nonzero");const bt=this.svgFactory.createElement("svg:image");bt.setAttributeNS(nt,"xlink:href",St),bt.setAttributeNS(null,"x","0"),bt.setAttributeNS(null,"y",pt(-gt)),bt.setAttributeNS(null,"width",pt(dt)+"px"),bt.setAttributeNS(null,"height",pt(gt)+"px"),bt.setAttributeNS(null,"transform",`scale(${pt(1/dt)} ${pt(-1/gt)})`),xt?xt.append(bt):this._ensureTransformGroup().append(bt)}paintImageMaskXObject(ct){const xt=this.getObject(ct.data,ct);if(xt.bitmap){(0,$.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const dt=this.current,gt=xt.width,St=xt.height,kt=dt.fillColor;dt.maskId=`mask${st++}`;const bt=this.svgFactory.createElement("svg:mask");bt.setAttributeNS(null,"id",dt.maskId);const wt=this.svgFactory.createElement("svg:rect");wt.setAttributeNS(null,"x","0"),wt.setAttributeNS(null,"y","0"),wt.setAttributeNS(null,"width",pt(gt)),wt.setAttributeNS(null,"height",pt(St)),wt.setAttributeNS(null,"fill",kt),wt.setAttributeNS(null,"mask",`url(#${dt.maskId})`),this.defs.append(bt),this._ensureTransformGroup().append(wt),this.paintInlineImageXObject(xt,bt)}paintFormXObjectBegin(ct,xt){if(Array.isArray(ct)&&ct.length===6&&this.transform(ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]),xt){const dt=xt[2]-xt[0],gt=xt[3]-xt[1],St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x",xt[0]),St.setAttributeNS(null,"y",xt[1]),St.setAttributeNS(null,"width",pt(dt)),St.setAttributeNS(null,"height",pt(gt)),this.current.element=St,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(ct){const xt=this.svgFactory.create(ct.width,ct.height),dt=this.svgFactory.createElement("svg:defs");xt.append(dt),this.defs=dt;const gt=this.svgFactory.createElement("svg:g");return gt.setAttributeNS(null,"transform",vt(ct.transform)),xt.append(gt),this.svg=gt,xt}_ensureClipGroup(){if(!this.current.clipGroup){const ct=this.svgFactory.createElement("svg:g");ct.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(ct),this.current.clipGroup=ct}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",vt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}b.SVGGraphics=mt},(g,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XfaText=void 0;class _{static textContent($){const _e=[],et={items:_e,styles:Object.create(null)};function nt(tt){var ht;if(!tt)return;let rt=null;const it=tt.name;if(it==="#text")rt=tt.value;else if(_.shouldBuildText(it))(ht=tt==null?void 0:tt.attributes)!=null&&ht.textContent?rt=tt.attributes.textContent:tt.value&&(rt=tt.value);else return;if(rt!==null&&_e.push({str:rt}),!!tt.children)for(const ut of tt.children)nt(ut)}return nt($),et}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}b.XfaText=_},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TextLayerRenderTask=void 0,b.renderTextLayer=vt,b.updateTextLayer=yt;var j=_(1),$=_(6);const _e=1e5,et=30,nt=.8,tt=new Map;function rt(st,ot){let mt;if(ot&&j.FeatureTest.isOffscreenCanvasSupported)mt=new OffscreenCanvas(st,st).getContext("2d",{alpha:!1});else{const ft=document.createElement("canvas");ft.width=ft.height=st,mt=ft.getContext("2d",{alpha:!1})}return mt}function it(st,ot){const mt=tt.get(st);if(mt)return mt;const ft=rt(et,ot);ft.font=`${et}px ${st}`;const ct=ft.measureText("");let xt=ct.fontBoundingBoxAscent,dt=Math.abs(ct.fontBoundingBoxDescent);if(xt){const St=xt/(xt+dt);return tt.set(st,St),ft.canvas.width=ft.canvas.height=0,St}ft.strokeStyle="red",ft.clearRect(0,0,et,et),ft.strokeText("g",0,0);let gt=ft.getImageData(0,0,et,et).data;dt=0;for(let St=gt.length-1-3;St>=0;St-=4)if(gt[St]>0){dt=Math.ceil(St/4/et);break}ft.clearRect(0,0,et,et),ft.strokeText("A",0,et),gt=ft.getImageData(0,0,et,et).data,xt=0;for(let St=0,kt=gt.length;St<kt;St+=4)if(gt[St]>0){xt=et-Math.floor(St/4/et);break}if(ft.canvas.width=ft.canvas.height=0,xt){const St=xt/(xt+dt);return tt.set(st,St),St}return tt.set(st,nt),nt}function ht(st,ot,mt){const ft=document.createElement("span"),ct={angle:0,canvasWidth:0,hasText:ot.str!=="",hasEOL:ot.hasEOL,fontSize:0};st._textDivs.push(ft);const xt=j.Util.transform(st._transform,ot.transform);let dt=Math.atan2(xt[1],xt[0]);const gt=mt[ot.fontName];gt.vertical&&(dt+=Math.PI/2);const St=Math.hypot(xt[2],xt[3]),kt=St*it(gt.fontFamily,st._isOffscreenCanvasSupported);let bt,wt;dt===0?(bt=xt[4],wt=xt[5]-kt):(bt=xt[4]+kt*Math.sin(dt),wt=xt[5]-kt*Math.cos(dt));const Tt="calc(var(--scale-factor)*",Ht=ft.style;st._container===st._rootContainer?(Ht.left=`${(100*bt/st._pageWidth).toFixed(2)}%`,Ht.top=`${(100*wt/st._pageHeight).toFixed(2)}%`):(Ht.left=`${Tt}${bt.toFixed(2)}px)`,Ht.top=`${Tt}${wt.toFixed(2)}px)`),Ht.fontSize=`${Tt}${St.toFixed(2)}px)`,Ht.fontFamily=gt.fontFamily,ct.fontSize=St,ft.setAttribute("role","presentation"),ft.textContent=ot.str,ft.dir=ot.dir,st._fontInspectorEnabled&&(ft.dataset.fontName=ot.fontName),dt!==0&&(ct.angle=dt*(180/Math.PI));let Bt=!1;if(ot.str.length>1)Bt=!0;else if(ot.str!==" "&&ot.transform[0]!==ot.transform[3]){const Wt=Math.abs(ot.transform[0]),Dt=Math.abs(ot.transform[3]);Wt!==Dt&&Math.max(Wt,Dt)/Math.min(Wt,Dt)>1.5&&(Bt=!0)}Bt&&(ct.canvasWidth=gt.vertical?ot.height:ot.width),st._textDivProperties.set(ft,ct),st._isReadableStream&&st._layoutText(ft)}function ut(st){const{div:ot,scale:mt,properties:ft,ctx:ct,prevFontSize:xt,prevFontFamily:dt}=st,{style:gt}=ot;let St="";if(ft.canvasWidth!==0&&ft.hasText){const{fontFamily:kt}=gt,{canvasWidth:bt,fontSize:wt}=ft;(xt!==wt||dt!==kt)&&(ct.font=`${wt*mt}px ${kt}`,st.prevFontSize=wt,st.prevFontFamily=kt);const{width:Tt}=ct.measureText(ot.textContent);Tt>0&&(St=`scaleX(${bt*mt/Tt})`)}ft.angle!==0&&(St=`rotate(${ft.angle}deg) ${St}`),St.length>0&&(gt.transform=St)}function lt(st){if(st._canceled)return;const ot=st._textDivs,mt=st._capability;if(ot.length>_e){mt.resolve();return}if(!st._isReadableStream)for(const ct of ot)st._layoutText(ct);mt.resolve()}class pt{constructor({textContentSource:ot,container:mt,viewport:ft,textDivs:ct,textDivProperties:xt,textContentItemsStr:dt,isOffscreenCanvasSupported:gt}){var Tt;this._textContentSource=ot,this._isReadableStream=ot instanceof ReadableStream,this._container=this._rootContainer=mt,this._textDivs=ct||[],this._textContentItemsStr=dt||[],this._isOffscreenCanvasSupported=gt,this._fontInspectorEnabled=!!((Tt=globalThis.FontInspector)!=null&&Tt.enabled),this._reader=null,this._textDivProperties=xt||new WeakMap,this._canceled=!1,this._capability=new j.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:ft.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:rt(0,gt)};const{pageWidth:St,pageHeight:kt,pageX:bt,pageY:wt}=ft.rawDims;this._transform=[1,0,0,-1,-bt,wt+kt],this._pageWidth=St,this._pageHeight=kt,(0,$.setLayerDimensions)(mt,ft),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new j.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new j.AbortException("TextLayer task cancelled."))}_processItems(ot,mt){for(const ft of ot){if(ft.str===void 0){if(ft.type==="beginMarkedContentProps"||ft.type==="beginMarkedContent"){const ct=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ft.id!==null&&this._container.setAttribute("id",`${ft.id}`),ct.append(this._container)}else ft.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ft.str),ht(this,ft,mt)}}_layoutText(ot){const mt=this._layoutTextParams.properties=this._textDivProperties.get(ot);if(this._layoutTextParams.div=ot,ut(this._layoutTextParams),mt.hasText&&this._container.append(ot),mt.hasEOL){const ft=document.createElement("br");ft.setAttribute("role","presentation"),this._container.append(ft)}}_render(){const ot=new j.PromiseCapability;let mt=Object.create(null);if(this._isReadableStream){const ft=()=>{this._reader.read().then(({value:ct,done:xt})=>{if(xt){ot.resolve();return}Object.assign(mt,ct.styles),this._processItems(ct.items,mt),ft()},ot.reject)};this._reader=this._textContentSource.getReader(),ft()}else if(this._textContentSource){const{items:ft,styles:ct}=this._textContentSource;this._processItems(ft,ct),ot.resolve()}else throw new Error('No "textContentSource" parameter specified.');ot.promise.then(()=>{mt=null,lt(this)},this._capability.reject)}}b.TextLayerRenderTask=pt;function vt(st){!st.textContentSource&&(st.textContent||st.textContentStream)&&((0,$.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),st.textContentSource=st.textContent||st.textContentStream);const{container:ot,viewport:mt}=st,ft=getComputedStyle(ot),ct=ft.getPropertyValue("visibility"),xt=parseFloat(ft.getPropertyValue("--scale-factor"));ct==="visible"&&(!xt||Math.abs(xt-mt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const dt=new pt(st);return dt._render(),dt}function yt({container:st,viewport:ot,textDivs:mt,textDivProperties:ft,isOffscreenCanvasSupported:ct,mustRotate:xt=!0,mustRescale:dt=!0}){if(xt&&(0,$.setLayerDimensions)(st,{rotation:ot.rotation}),dt){const gt=rt(0,ct),kt={prevFontSize:null,prevFontFamily:null,div:null,scale:ot.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:gt};for(const bt of mt)kt.properties=ft.get(bt),kt.div=bt,ut(kt)}}},(g,b,_)=>{var it,ht,ut,lt,pt,vt,yt,st,ot,mt,ft,Gr,br,Xr,qr;Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationEditorLayer=void 0;var j=_(1),$=_(4),_e=_(28),et=_(33),nt=_(6),tt=_(34);const St=class St{constructor({uiManager:bt,pageIndex:wt,div:Tt,accessibilityManager:Ht,annotationLayer:Bt,viewport:Wt,l10n:Dt}){nn(this,ft);nn(this,it);nn(this,ht,!1);nn(this,ut,null);nn(this,lt,this.pointerup.bind(this));nn(this,pt,this.pointerdown.bind(this));nn(this,vt,new Map);nn(this,yt,!1);nn(this,st,!1);nn(this,ot,!1);nn(this,mt);const It=[_e.FreeTextEditor,et.InkEditor,tt.StampEditor];if(!St._initialized){St._initialized=!0;for(const At of It)At.initialize(Dt)}bt.registerEditorTypes(It),sn(this,mt,bt),this.pageIndex=wt,this.div=Tt,sn(this,it,Ht),sn(this,ut,Bt),this.viewport=Wt,at(this,mt).addLayer(this)}get isEmpty(){return at(this,vt).size===0}updateToolbar(bt){at(this,mt).updateToolbar(bt)}updateMode(bt=at(this,mt).getMode()){Qt(this,ft,qr).call(this),bt===j.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),bt!==j.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",bt===j.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",bt===j.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",bt===j.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(bt){if(!bt&&at(this,mt).getMode()!==j.AnnotationEditorType.INK)return;if(!bt){for(const Tt of at(this,vt).values())if(Tt.isEmpty()){Tt.setInBackground();return}}Qt(this,ft,br).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(bt){at(this,mt).setEditingState(bt)}addCommands(bt){at(this,mt).addCommands(bt)}enable(){this.div.style.pointerEvents="auto";const bt=new Set;for(const Tt of at(this,vt).values())Tt.enableEditing(),Tt.annotationElementId&&bt.add(Tt.annotationElementId);if(!at(this,ut))return;const wt=at(this,ut).getEditableAnnotations();for(const Tt of wt){if(Tt.hide(),at(this,mt).isDeletedAnnotationElement(Tt.data.id)||bt.has(Tt.data.id))continue;const Ht=this.deserialize(Tt);Ht&&(this.addOrRebuild(Ht),Ht.enableEditing())}}disable(){var wt;sn(this,ot,!0),this.div.style.pointerEvents="none";const bt=new Set;for(const Tt of at(this,vt).values()){if(Tt.disableEditing(),!Tt.annotationElementId||Tt.serialize()!==null){bt.add(Tt.annotationElementId);continue}(wt=this.getEditableAnnotation(Tt.annotationElementId))==null||wt.show(),Tt.remove()}if(at(this,ut)){const Tt=at(this,ut).getEditableAnnotations();for(const Ht of Tt){const{id:Bt}=Ht.data;bt.has(Bt)||at(this,mt).isDeletedAnnotationElement(Bt)||Ht.show()}}Qt(this,ft,qr).call(this),this.isEmpty&&(this.div.hidden=!0),sn(this,ot,!1)}getEditableAnnotation(bt){var wt;return((wt=at(this,ut))==null?void 0:wt.getEditableAnnotation(bt))||null}setActiveEditor(bt){at(this,mt).getActive()!==bt&&at(this,mt).setActiveEditor(bt)}enableClick(){this.div.addEventListener("pointerdown",at(this,pt)),this.div.addEventListener("pointerup",at(this,lt))}disableClick(){this.div.removeEventListener("pointerdown",at(this,pt)),this.div.removeEventListener("pointerup",at(this,lt))}attach(bt){at(this,vt).set(bt.id,bt);const{annotationElementId:wt}=bt;wt&&at(this,mt).isDeletedAnnotationElement(wt)&&at(this,mt).removeDeletedAnnotationElement(bt)}detach(bt){var wt;at(this,vt).delete(bt.id),(wt=at(this,it))==null||wt.removePointerInTextLayer(bt.contentDiv),!at(this,ot)&&bt.annotationElementId&&at(this,mt).addDeletedAnnotationElement(bt)}remove(bt){this.detach(bt),at(this,mt).removeEditor(bt),bt.div.contains(document.activeElement)&&setTimeout(()=>{at(this,mt).focusMainContainer()},0),bt.div.remove(),bt.isAttachedToDOM=!1,at(this,st)||this.addInkEditorIfNeeded(!1)}changeParent(bt){var wt;bt.parent!==this&&(bt.annotationElementId&&(at(this,mt).addDeletedAnnotationElement(bt.annotationElementId),$.AnnotationEditor.deleteAnnotationElement(bt),bt.annotationElementId=null),this.attach(bt),(wt=bt.parent)==null||wt.detach(bt),bt.setParent(this),bt.div&&bt.isAttachedToDOM&&(bt.div.remove(),this.div.append(bt.div)))}add(bt){if(this.changeParent(bt),at(this,mt).addEditor(bt),this.attach(bt),!bt.isAttachedToDOM){const wt=bt.render();this.div.append(wt),bt.isAttachedToDOM=!0}bt.fixAndSetPosition(),bt.onceAdded(),at(this,mt).addToAnnotationStorage(bt)}moveEditorInDOM(bt){var Tt;if(!bt.isAttachedToDOM)return;const{activeElement:wt}=document;bt.div.contains(wt)&&(bt._focusEventsAllowed=!1,setTimeout(()=>{bt.div.contains(document.activeElement)?bt._focusEventsAllowed=!0:(bt.div.addEventListener("focusin",()=>{bt._focusEventsAllowed=!0},{once:!0}),wt.focus())},0)),bt._structTreeParentId=(Tt=at(this,it))==null?void 0:Tt.moveElementInDOM(this.div,bt.div,bt.contentDiv,!0)}addOrRebuild(bt){bt.needsToBeRebuilt()?bt.rebuild():this.add(bt)}addUndoableEditor(bt){const wt=()=>bt._uiManager.rebuild(bt),Tt=()=>{bt.remove()};this.addCommands({cmd:wt,undo:Tt,mustExec:!1})}getNextId(){return at(this,mt).getId()}pasteEditor(bt,wt){at(this,mt).updateToolbar(bt),at(this,mt).updateMode(bt);const{offsetX:Tt,offsetY:Ht}=Qt(this,ft,Xr).call(this),Bt=this.getNextId(),Wt=Qt(this,ft,Gr).call(this,{parent:this,id:Bt,x:Tt,y:Ht,uiManager:at(this,mt),isCentered:!0,...wt});Wt&&this.add(Wt)}deserialize(bt){switch(bt.annotationType??bt.annotationEditorType){case j.AnnotationEditorType.FREETEXT:return _e.FreeTextEditor.deserialize(bt,this,at(this,mt));case j.AnnotationEditorType.INK:return et.InkEditor.deserialize(bt,this,at(this,mt));case j.AnnotationEditorType.STAMP:return tt.StampEditor.deserialize(bt,this,at(this,mt))}return null}addNewEditor(){Qt(this,ft,br).call(this,Qt(this,ft,Xr).call(this),!0)}setSelected(bt){at(this,mt).setSelected(bt)}toggleSelected(bt){at(this,mt).toggleSelected(bt)}isSelected(bt){return at(this,mt).isSelected(bt)}unselect(bt){at(this,mt).unselect(bt)}pointerup(bt){const{isMac:wt}=j.FeatureTest.platform;if(!(bt.button!==0||bt.ctrlKey&&wt)&&bt.target===this.div&&at(this,yt)){if(sn(this,yt,!1),!at(this,ht)){sn(this,ht,!0);return}if(at(this,mt).getMode()===j.AnnotationEditorType.STAMP){at(this,mt).unselectAll();return}Qt(this,ft,br).call(this,bt,!1)}}pointerdown(bt){if(at(this,yt)){sn(this,yt,!1);return}const{isMac:wt}=j.FeatureTest.platform;if(bt.button!==0||bt.ctrlKey&&wt||bt.target!==this.div)return;sn(this,yt,!0);const Tt=at(this,mt).getActive();sn(this,ht,!Tt||Tt.isEmpty())}findNewParent(bt,wt,Tt){const Ht=at(this,mt).findParent(wt,Tt);return Ht===null||Ht===this?!1:(Ht.changeParent(bt),!0)}destroy(){var bt,wt;((bt=at(this,mt).getActive())==null?void 0:bt.parent)===this&&(at(this,mt).commitOrRemove(),at(this,mt).setActiveEditor(null));for(const Tt of at(this,vt).values())(wt=at(this,it))==null||wt.removePointerInTextLayer(Tt.contentDiv),Tt.setParent(null),Tt.isAttachedToDOM=!1,Tt.div.remove();this.div=null,at(this,vt).clear(),at(this,mt).removeLayer(this)}render({viewport:bt}){this.viewport=bt,(0,nt.setLayerDimensions)(this.div,bt);for(const wt of at(this,mt).getEditors(this.pageIndex))this.add(wt);this.updateMode()}update({viewport:bt}){at(this,mt).commitOrRemove(),this.viewport=bt,(0,nt.setLayerDimensions)(this.div,{rotation:bt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:bt,pageHeight:wt}=this.viewport.rawDims;return[bt,wt]}};it=new WeakMap,ht=new WeakMap,ut=new WeakMap,lt=new WeakMap,pt=new WeakMap,vt=new WeakMap,yt=new WeakMap,st=new WeakMap,ot=new WeakMap,mt=new WeakMap,ft=new WeakSet,Gr=function(bt){switch(at(this,mt).getMode()){case j.AnnotationEditorType.FREETEXT:return new _e.FreeTextEditor(bt);case j.AnnotationEditorType.INK:return new et.InkEditor(bt);case j.AnnotationEditorType.STAMP:return new tt.StampEditor(bt)}return null},br=function(bt,wt){const Tt=this.getNextId(),Ht=Qt(this,ft,Gr).call(this,{parent:this,id:Tt,x:bt.offsetX,y:bt.offsetY,uiManager:at(this,mt),isCentered:wt});return Ht&&this.add(Ht),Ht},Xr=function(){const{x:bt,y:wt,width:Tt,height:Ht}=this.div.getBoundingClientRect(),Bt=Math.max(0,bt),Wt=Math.max(0,wt),Dt=Math.min(window.innerWidth,bt+Tt),It=Math.min(window.innerHeight,wt+Ht),At=(Bt+Dt)/2-bt,Ft=(Wt+It)/2-wt,[Vt,Pt]=this.viewport.rotation%180===0?[At,Ft]:[Ft,At];return{offsetX:Vt,offsetY:Pt}},qr=function(){sn(this,st,!0);for(const bt of at(this,vt).values())bt.isEmpty()&&bt.remove();sn(this,st,!1)},Gn(St,"_initialized",!1);let rt=St;b.AnnotationEditorLayer=rt},(g,b,_)=>{var tt,rt,it,ht,ut,lt,pt,vt,yt,st,_s,Ss,As,dr,Kr,ws,Yr;Object.defineProperty(b,"__esModule",{value:!0}),b.FreeTextEditor=void 0;var j=_(1),$=_(5),_e=_(4),et=_(29);const St=class St extends _e.AnnotationEditor{constructor(wt){super({...wt,name:"freeTextEditor"});nn(this,st);nn(this,tt,this.editorDivBlur.bind(this));nn(this,rt,this.editorDivFocus.bind(this));nn(this,it,this.editorDivInput.bind(this));nn(this,ht,this.editorDivKeydown.bind(this));nn(this,ut);nn(this,lt,"");nn(this,pt,`${this.id}-editor`);nn(this,vt);nn(this,yt,null);sn(this,ut,wt.color||St._defaultColor||_e.AnnotationEditor._defaultLineColor),sn(this,vt,wt.fontSize||St._defaultFontSize)}static get _keyboardManager(){const wt=St.prototype,Tt=Wt=>Wt.isEmpty(),Ht=$.AnnotationEditorUIManager.TRANSLATE_SMALL,Bt=$.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,j.shadow)(this,"_keyboardManager",new $.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],wt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],wt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],wt._translateEmpty,{args:[-Ht,0],checker:Tt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],wt._translateEmpty,{args:[-Bt,0],checker:Tt}],[["ArrowRight","mac+ArrowRight"],wt._translateEmpty,{args:[Ht,0],checker:Tt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],wt._translateEmpty,{args:[Bt,0],checker:Tt}],[["ArrowUp","mac+ArrowUp"],wt._translateEmpty,{args:[0,-Ht],checker:Tt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],wt._translateEmpty,{args:[0,-Bt],checker:Tt}],[["ArrowDown","mac+ArrowDown"],wt._translateEmpty,{args:[0,Ht],checker:Tt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],wt._translateEmpty,{args:[0,Bt],checker:Tt}]]))}static initialize(wt){_e.AnnotationEditor.initialize(wt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Tt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Tt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(wt,Tt){switch(wt){case j.AnnotationEditorParamsType.FREETEXT_SIZE:St._defaultFontSize=Tt;break;case j.AnnotationEditorParamsType.FREETEXT_COLOR:St._defaultColor=Tt;break}}updateParams(wt,Tt){switch(wt){case j.AnnotationEditorParamsType.FREETEXT_SIZE:Qt(this,st,_s).call(this,Tt);break;case j.AnnotationEditorParamsType.FREETEXT_COLOR:Qt(this,st,Ss).call(this,Tt);break}}static get defaultPropertiesToUpdate(){return[[j.AnnotationEditorParamsType.FREETEXT_SIZE,St._defaultFontSize],[j.AnnotationEditorParamsType.FREETEXT_COLOR,St._defaultColor||_e.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[j.AnnotationEditorParamsType.FREETEXT_SIZE,at(this,vt)],[j.AnnotationEditorParamsType.FREETEXT_COLOR,at(this,ut)]]}_translateEmpty(wt,Tt){this._uiManager.translateSelectedEditors(wt,Tt,!0)}getInitialTranslation(){const wt=this.parentScale;return[-St._internalPadding*wt,-(St._internalPadding+at(this,vt))*wt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(j.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",at(this,ht)),this.editorDiv.addEventListener("focus",at(this,rt)),this.editorDiv.addEventListener("blur",at(this,tt)),this.editorDiv.addEventListener("input",at(this,it)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",at(this,pt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",at(this,ht)),this.editorDiv.removeEventListener("focus",at(this,rt)),this.editorDiv.removeEventListener("blur",at(this,tt)),this.editorDiv.removeEventListener("input",at(this,it)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(wt){this._focusEventsAllowed&&(super.focusin(wt),wt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var wt;if(this.width){Qt(this,st,Yr).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(wt=this._initialOptions)!=null&&wt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const wt=at(this,lt),Tt=sn(this,lt,Qt(this,st,As).call(this).trimEnd());if(wt===Tt)return;const Ht=Bt=>{if(sn(this,lt,Bt),!Bt){this.remove();return}Qt(this,st,Kr).call(this),this._uiManager.rebuild(this),Qt(this,st,dr).call(this)};this.addCommands({cmd:()=>{Ht(Tt)},undo:()=>{Ht(wt)},mustExec:!1}),Qt(this,st,dr).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(wt){this.enterInEditMode()}keydown(wt){wt.target===this.div&&wt.key==="Enter"&&(this.enterInEditMode(),wt.preventDefault())}editorDivKeydown(wt){St._keyboardManager.exec(this,wt)}editorDivFocus(wt){this.isEditing=!0}editorDivBlur(wt){this.isEditing=!1}editorDivInput(wt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let wt,Tt;this.width&&(wt=this.x,Tt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",at(this,pt)),this.enableEditing(),_e.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Bt=>{var Wt;return(Wt=this.editorDiv)==null?void 0:Wt.setAttribute("aria-label",Bt)}),_e.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Bt=>{var Wt;return(Wt=this.editorDiv)==null?void 0:Wt.setAttribute("default-content",Bt)}),this.editorDiv.contentEditable=!0;const{style:Ht}=this.editorDiv;if(Ht.fontSize=`calc(${at(this,vt)}px * var(--scale-factor))`,Ht.color=at(this,ut),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,$.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Bt,Wt]=this.parentDimensions;if(this.annotationElementId){const{position:Dt}=at(this,yt);let[It,At]=this.getInitialTranslation();[It,At]=this.pageTranslationToScreen(It,At);const[Ft,Vt]=this.pageDimensions,[Pt,Et]=this.pageTranslation;let _t,Ct;switch(this.rotation){case 0:_t=wt+(Dt[0]-Pt)/Ft,Ct=Tt+this.height-(Dt[1]-Et)/Vt;break;case 90:_t=wt+(Dt[0]-Pt)/Ft,Ct=Tt-(Dt[1]-Et)/Vt,[It,At]=[At,-It];break;case 180:_t=wt-this.width+(Dt[0]-Pt)/Ft,Ct=Tt-(Dt[1]-Et)/Vt,[It,At]=[-It,-At];break;case 270:_t=wt+(Dt[0]-Pt-this.height*Vt)/Ft,Ct=Tt+(Dt[1]-Et-this.width*Ft)/Vt,[It,At]=[-At,It];break}this.setAt(_t*Bt,Ct*Wt,It,At)}else this.setAt(wt*Bt,Tt*Wt,this.width*Bt,this.height*Wt);Qt(this,st,Kr).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(wt,Tt,Ht){let Bt=null;if(wt instanceof et.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Dt,fontColor:It},rect:At,rotation:Ft,id:Vt},textContent:Pt,textPosition:Et,parent:{page:{pageNumber:_t}}}=wt;if(!Pt||Pt.length===0)return null;Bt=wt={annotationType:j.AnnotationEditorType.FREETEXT,color:Array.from(It),fontSize:Dt,value:Pt.join(`
`),position:Et,pageIndex:_t-1,rect:At,rotation:Ft,id:Vt,deleted:!1}}const Wt=super.deserialize(wt,Tt,Ht);return sn(Wt,vt,wt.fontSize),sn(Wt,ut,j.Util.makeHexColor(...wt.color)),sn(Wt,lt,wt.value),Wt.annotationElementId=wt.id||null,sn(Wt,yt,Bt),Wt}serialize(wt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Tt=St._internalPadding*this.parentScale,Ht=this.getRect(Tt,Tt),Bt=_e.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:at(this,ut)),Wt={annotationType:j.AnnotationEditorType.FREETEXT,color:Bt,fontSize:at(this,vt),value:at(this,lt),pageIndex:this.pageIndex,rect:Ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return wt?Wt:this.annotationElementId&&!Qt(this,st,ws).call(this,Wt)?null:(Wt.id=this.annotationElementId,Wt)}};tt=new WeakMap,rt=new WeakMap,it=new WeakMap,ht=new WeakMap,ut=new WeakMap,lt=new WeakMap,pt=new WeakMap,vt=new WeakMap,yt=new WeakMap,st=new WeakSet,_s=function(wt){const Tt=Bt=>{this.editorDiv.style.fontSize=`calc(${Bt}px * var(--scale-factor))`,this.translate(0,-(Bt-at(this,vt))*this.parentScale),sn(this,vt,Bt),Qt(this,st,dr).call(this)},Ht=at(this,vt);this.addCommands({cmd:()=>{Tt(wt)},undo:()=>{Tt(Ht)},mustExec:!0,type:j.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Ss=function(wt){const Tt=at(this,ut);this.addCommands({cmd:()=>{sn(this,ut,this.editorDiv.style.color=wt)},undo:()=>{sn(this,ut,this.editorDiv.style.color=Tt)},mustExec:!0,type:j.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},As=function(){const wt=this.editorDiv.getElementsByTagName("div");if(wt.length===0)return this.editorDiv.innerText;const Tt=[];for(const Ht of wt)Tt.push(Ht.innerText.replace(/\r\n?|\n/,""));return Tt.join(`
`)},dr=function(){const[wt,Tt]=this.parentDimensions;let Ht;if(this.isAttachedToDOM)Ht=this.div.getBoundingClientRect();else{const{currentLayer:Bt,div:Wt}=this,Dt=Wt.style.display;Wt.style.display="hidden",Bt.div.append(this.div),Ht=Wt.getBoundingClientRect(),Wt.remove(),Wt.style.display=Dt}this.rotation%180===this.parentRotation%180?(this.width=Ht.width/wt,this.height=Ht.height/Tt):(this.width=Ht.height/wt,this.height=Ht.width/Tt),this.fixAndSetPosition()},Kr=function(){if(this.editorDiv.replaceChildren(),!!at(this,lt))for(const wt of at(this,lt).split(`
`)){const Tt=document.createElement("div");Tt.append(wt?document.createTextNode(wt):document.createElement("br")),this.editorDiv.append(Tt)}},ws=function(wt){const{value:Tt,fontSize:Ht,color:Bt,rect:Wt,pageIndex:Dt}=at(this,yt);return wt.value!==Tt||wt.fontSize!==Ht||wt.rect.some((It,At)=>Math.abs(It-Wt[At])>=1)||wt.color.some((It,At)=>It!==Bt[At])||wt.pageIndex!==Dt},Yr=function(wt=!1){if(!this.annotationElementId)return;if(Qt(this,st,dr).call(this),!wt&&(this.width===0||this.height===0)){setTimeout(()=>Qt(this,st,Yr).call(this,!0),0);return}const Tt=St._internalPadding*this.parentScale;at(this,yt).rect=this.getRect(Tt,Tt)},Gn(St,"_freeTextDefaultContent",""),Gn(St,"_internalPadding",0),Gn(St,"_defaultColor",null),Gn(St,"_defaultFontSize",10),Gn(St,"_type","freetext");let nt=St;b.FreeTextEditor=nt},(g,b,_)=>{var Ct,Nt,er,Cs,Jt,on,ln,fn,pn,mn,Yt,Kt,Rt,Ot,qt,en,dn,xn,Zt,Ut,bn,yn,ks,Er,Qr,Zr,kn,zn,$n,gn,tn,rn,An,Jr,Vn,$t,hn,_n,Rs,_i;Object.defineProperty(b,"__esModule",{value:!0}),b.StampAnnotationElement=b.InkAnnotationElement=b.FreeTextAnnotationElement=b.AnnotationLayer=void 0;var j=_(1),$=_(6),_e=_(3),et=_(30),nt=_(31),tt=_(32);const rt=1e3,it=9,ht=new WeakSet;function ut(Cn){return{width:Cn[2]-Cn[0],height:Cn[3]-Cn[1]}}class lt{static create(Lt){switch(Lt.data.annotationType){case j.AnnotationType.LINK:return new vt(Lt);case j.AnnotationType.TEXT:return new yt(Lt);case j.AnnotationType.WIDGET:switch(Lt.data.fieldType){case"Tx":return new ot(Lt);case"Btn":return Lt.data.radioButton?new ct(Lt):Lt.data.checkBox?new ft(Lt):new xt(Lt);case"Ch":return new dt(Lt);case"Sig":return new mt(Lt)}return new st(Lt);case j.AnnotationType.POPUP:return new gt(Lt);case j.AnnotationType.FREETEXT:return new kt(Lt);case j.AnnotationType.LINE:return new bt(Lt);case j.AnnotationType.SQUARE:return new wt(Lt);case j.AnnotationType.CIRCLE:return new Tt(Lt);case j.AnnotationType.POLYLINE:return new Ht(Lt);case j.AnnotationType.CARET:return new Wt(Lt);case j.AnnotationType.INK:return new Dt(Lt);case j.AnnotationType.POLYGON:return new Bt(Lt);case j.AnnotationType.HIGHLIGHT:return new It(Lt);case j.AnnotationType.UNDERLINE:return new At(Lt);case j.AnnotationType.SQUIGGLY:return new Ft(Lt);case j.AnnotationType.STRIKEOUT:return new Vt(Lt);case j.AnnotationType.STAMP:return new Pt(Lt);case j.AnnotationType.FILEATTACHMENT:return new Et(Lt);default:return new pt(Lt)}}}const Mt=class Mt{constructor(Lt,{isRenderable:jt=!1,ignoreBorder:Gt=!1,createQuadrilaterals:an=!1}={}){nn(this,Ct,!1);this.isRenderable=jt,this.data=Lt.data,this.layer=Lt.layer,this.linkService=Lt.linkService,this.downloadManager=Lt.downloadManager,this.imageResourcesPath=Lt.imageResourcesPath,this.renderForms=Lt.renderForms,this.svgFactory=Lt.svgFactory,this.annotationStorage=Lt.annotationStorage,this.enableScripting=Lt.enableScripting,this.hasJSActions=Lt.hasJSActions,this._fieldObjects=Lt.fieldObjects,this.parent=Lt.parent,jt&&(this.container=this._createContainer(Gt)),an&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Lt,contentsObj:jt,richText:Gt}){return!!(Lt!=null&&Lt.str||jt!=null&&jt.str||Gt!=null&&Gt.str)}get hasPopupData(){return Mt._hasPopupData(this.data)}_createContainer(Lt){const{data:jt,parent:{page:Gt,viewport:an}}=this,un=document.createElement("section");un.setAttribute("data-annotation-id",jt.id),this instanceof st||(un.tabIndex=rt),un.style.zIndex=this.parent.zIndex++,this.data.popupRef&&un.setAttribute("aria-haspopup","dialog"),jt.noRotate&&un.classList.add("norotate");const{pageWidth:vn,pageHeight:En,pageX:jn,pageY:Rn}=an.rawDims;if(!jt.rect||this instanceof gt){const{rotation:Ln}=jt;return!jt.hasOwnCanvas&&Ln!==0&&this.setRotation(Ln,un),un}const{width:Sn,height:On}=ut(jt.rect),Pn=j.Util.normalizeRect([jt.rect[0],Gt.view[3]-jt.rect[1]+Gt.view[1],jt.rect[2],Gt.view[3]-jt.rect[3]+Gt.view[1]]);if(!Lt&&jt.borderStyle.width>0){un.style.borderWidth=`${jt.borderStyle.width}px`;const Ln=jt.borderStyle.horizontalCornerRadius,Bn=jt.borderStyle.verticalCornerRadius;if(Ln>0||Bn>0){const Hn=`calc(${Ln}px * var(--scale-factor)) / calc(${Bn}px * var(--scale-factor))`;un.style.borderRadius=Hn}else if(this instanceof ct){const Hn=`calc(${Sn}px * var(--scale-factor)) / calc(${On}px * var(--scale-factor))`;un.style.borderRadius=Hn}switch(jt.borderStyle.style){case j.AnnotationBorderStyleType.SOLID:un.style.borderStyle="solid";break;case j.AnnotationBorderStyleType.DASHED:un.style.borderStyle="dashed";break;case j.AnnotationBorderStyleType.BEVELED:(0,j.warn)("Unimplemented border style: beveled");break;case j.AnnotationBorderStyleType.INSET:(0,j.warn)("Unimplemented border style: inset");break;case j.AnnotationBorderStyleType.UNDERLINE:un.style.borderBottomStyle="solid";break}const Wn=jt.borderColor||null;Wn?(sn(this,Ct,!0),un.style.borderColor=j.Util.makeHexColor(Wn[0]|0,Wn[1]|0,Wn[2]|0)):un.style.borderWidth=0}un.style.left=`${100*(Pn[0]-jn)/vn}%`,un.style.top=`${100*(Pn[1]-Rn)/En}%`;const{rotation:Mn}=jt;return jt.hasOwnCanvas||Mn===0?(un.style.width=`${100*Sn/vn}%`,un.style.height=`${100*On/En}%`):this.setRotation(Mn,un),un}setRotation(Lt,jt=this.container){if(!this.data.rect)return;const{pageWidth:Gt,pageHeight:an}=this.parent.viewport.rawDims,{width:un,height:vn}=ut(this.data.rect);let En,jn;Lt%180===0?(En=100*un/Gt,jn=100*vn/an):(En=100*vn/Gt,jn=100*un/an),jt.style.width=`${En}%`,jt.style.height=`${jn}%`,jt.setAttribute("data-main-rotation",(360-Lt)%360)}get _commonActions(){const Lt=(jt,Gt,an)=>{const un=an.detail[jt],vn=un[0],En=un.slice(1);an.target.style[Gt]=et.ColorConverters[`${vn}_HTML`](En),this.annotationStorage.setValue(this.data.id,{[Gt]:et.ColorConverters[`${vn}_rgb`](En)})};return(0,j.shadow)(this,"_commonActions",{display:jt=>{const{display:Gt}=jt.detail,an=Gt%2===1;this.container.style.visibility=an?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:an,noPrint:Gt===1||Gt===2})},print:jt=>{this.annotationStorage.setValue(this.data.id,{noPrint:!jt.detail.print})},hidden:jt=>{const{hidden:Gt}=jt.detail;this.container.style.visibility=Gt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Gt,noView:Gt})},focus:jt=>{setTimeout(()=>jt.target.focus({preventScroll:!1}),0)},userName:jt=>{jt.target.title=jt.detail.userName},readonly:jt=>{jt.target.disabled=jt.detail.readonly},required:jt=>{this._setRequired(jt.target,jt.detail.required)},bgColor:jt=>{Lt("bgColor","backgroundColor",jt)},fillColor:jt=>{Lt("fillColor","backgroundColor",jt)},fgColor:jt=>{Lt("fgColor","color",jt)},textColor:jt=>{Lt("textColor","color",jt)},borderColor:jt=>{Lt("borderColor","borderColor",jt)},strokeColor:jt=>{Lt("strokeColor","borderColor",jt)},rotation:jt=>{const Gt=jt.detail.rotation;this.setRotation(Gt),this.annotationStorage.setValue(this.data.id,{rotation:Gt})}})}_dispatchEventFromSandbox(Lt,jt){const Gt=this._commonActions;for(const an of Object.keys(jt.detail)){const un=Lt[an]||Gt[an];un==null||un(jt)}}_setDefaultPropertiesFromJS(Lt){if(!this.enableScripting)return;const jt=this.annotationStorage.getRawValue(this.data.id);if(!jt)return;const Gt=this._commonActions;for(const[an,un]of Object.entries(jt)){const vn=Gt[an];if(vn){const En={detail:{[an]:un},target:Lt};vn(En),delete jt[an]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Lt}=this.data;if(!Lt)return;const[jt,Gt,an,un]=this.data.rect;if(Lt.length===1){const[,{x:Bn,y:Wn},{x:Hn,y:qn}]=Lt[0];if(an===Bn&&un===Wn&&jt===Hn&&Gt===qn)return}const{style:vn}=this.container;let En;if(at(this,Ct)){const{borderColor:Bn,borderWidth:Wn}=vn;vn.borderWidth=0,En=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Bn}" stroke-width="${Wn}">`],this.container.classList.add("hasBorder")}const jn=an-jt,Rn=un-Gt,{svgFactory:Sn}=this,On=Sn.createElement("svg");On.classList.add("quadrilateralsContainer"),On.setAttribute("width",0),On.setAttribute("height",0);const Pn=Sn.createElement("defs");On.append(Pn);const Mn=Sn.createElement("clipPath"),Ln=`clippath_${this.data.id}`;Mn.setAttribute("id",Ln),Mn.setAttribute("clipPathUnits","objectBoundingBox"),Pn.append(Mn);for(const[,{x:Bn,y:Wn},{x:Hn,y:qn}]of Lt){const Xn=Sn.createElement("rect"),Yn=(Hn-jt)/jn,Zn=(un-Wn)/Rn,Jn=(Bn-Hn)/jn,cs=(Wn-qn)/Rn;Xn.setAttribute("x",Yn),Xn.setAttribute("y",Zn),Xn.setAttribute("width",Jn),Xn.setAttribute("height",cs),Mn.append(Xn),En==null||En.push(`<rect vector-effect="non-scaling-stroke" x="${Yn}" y="${Zn}" width="${Jn}" height="${cs}"/>`)}at(this,Ct)&&(En.push("</g></svg>')"),vn.backgroundImage=En.join("")),this.container.append(On),this.container.style.clipPath=`url(#${Ln})`}_createPopup(){const{container:Lt,data:jt}=this;Lt.setAttribute("aria-haspopup","dialog");const Gt=new gt({data:{color:jt.color,titleObj:jt.titleObj,modificationDate:jt.modificationDate,contentsObj:jt.contentsObj,richText:jt.richText,parentRect:jt.rect,borderStyle:0,id:`popup_${jt.id}`,rotation:jt.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Gt.render())}render(){(0,j.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Lt,jt=null){const Gt=[];if(this._fieldObjects){const an=this._fieldObjects[Lt];if(an)for(const{page:un,id:vn,exportValues:En}of an){if(un===-1||vn===jt)continue;const jn=typeof En=="string"?En:null,Rn=document.querySelector(`[data-element-id="${vn}"]`);if(Rn&&!ht.has(Rn)){(0,j.warn)(`_getElementsByName - element not allowed: ${vn}`);continue}Gt.push({id:vn,exportValue:jn,domElement:Rn})}return Gt}for(const an of document.getElementsByName(Lt)){const{exportValue:un}=an,vn=an.getAttribute("data-element-id");vn!==jt&&ht.has(an)&&Gt.push({id:vn,exportValue:un,domElement:an})}return Gt}show(){var Lt;this.container&&(this.container.hidden=!1),(Lt=this.popup)==null||Lt.maybeShow()}hide(){var Lt;this.container&&(this.container.hidden=!0),(Lt=this.popup)==null||Lt.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Lt=this.getElementsToTriggerPopup();if(Array.isArray(Lt))for(const jt of Lt)jt.classList.add("highlightArea");else Lt.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Lt,data:{id:jt}}=this;this.container.addEventListener("dblclick",()=>{var Gt;(Gt=this.linkService.eventBus)==null||Gt.dispatch("switchannotationeditormode",{source:this,mode:Lt,editId:jt})})}};Ct=new WeakMap;let pt=Mt;class vt extends pt{constructor(jt,Gt=null){super(jt,{isRenderable:!0,ignoreBorder:!!(Gt!=null&&Gt.ignoreBorder),createQuadrilaterals:!0});nn(this,Nt);this.isTooltipOnly=jt.data.isTooltipOnly}render(){const{data:jt,linkService:Gt}=this,an=document.createElement("a");an.setAttribute("data-element-id",jt.id);let un=!1;return jt.url?(Gt.addLinkAttributes(an,jt.url,jt.newWindow),un=!0):jt.action?(this._bindNamedAction(an,jt.action),un=!0):jt.attachment?(this._bindAttachment(an,jt.attachment),un=!0):jt.setOCGState?(Qt(this,Nt,Cs).call(this,an,jt.setOCGState),un=!0):jt.dest?(this._bindLink(an,jt.dest),un=!0):(jt.actions&&(jt.actions.Action||jt.actions["Mouse Up"]||jt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(an,jt),un=!0),jt.resetForm?(this._bindResetFormAction(an,jt.resetForm),un=!0):this.isTooltipOnly&&!un&&(this._bindLink(an,""),un=!0)),this.container.classList.add("linkAnnotation"),un&&this.container.append(an),this.container}_bindLink(jt,Gt){jt.href=this.linkService.getDestinationHash(Gt),jt.onclick=()=>(Gt&&this.linkService.goToDestination(Gt),!1),(Gt||Gt==="")&&Qt(this,Nt,er).call(this)}_bindNamedAction(jt,Gt){jt.href=this.linkService.getAnchorUrl(""),jt.onclick=()=>(this.linkService.executeNamedAction(Gt),!1),Qt(this,Nt,er).call(this)}_bindAttachment(jt,Gt){jt.href=this.linkService.getAnchorUrl(""),jt.onclick=()=>{var an;return(an=this.downloadManager)==null||an.openOrDownloadData(this.container,Gt.content,Gt.filename),!1},Qt(this,Nt,er).call(this)}_bindJSAction(jt,Gt){jt.href=this.linkService.getAnchorUrl("");const an=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const un of Object.keys(Gt.actions)){const vn=an.get(un);vn&&(jt[vn]=()=>{var En;return(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Gt.id,name:un}}),!1})}jt.onclick||(jt.onclick=()=>!1),Qt(this,Nt,er).call(this)}_bindResetFormAction(jt,Gt){const an=jt.onclick;if(an||(jt.href=this.linkService.getAnchorUrl("")),Qt(this,Nt,er).call(this),!this._fieldObjects){(0,j.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),an||(jt.onclick=()=>!1);return}jt.onclick=()=>{var On;an==null||an();const{fields:un,refs:vn,include:En}=Gt,jn=[];if(un.length!==0||vn.length!==0){const Pn=new Set(vn);for(const Mn of un){const Ln=this._fieldObjects[Mn]||[];for(const{id:Bn}of Ln)Pn.add(Bn)}for(const Mn of Object.values(this._fieldObjects))for(const Ln of Mn)Pn.has(Ln.id)===En&&jn.push(Ln)}else for(const Pn of Object.values(this._fieldObjects))jn.push(...Pn);const Rn=this.annotationStorage,Sn=[];for(const Pn of jn){const{id:Mn}=Pn;switch(Sn.push(Mn),Pn.type){case"text":{const Bn=Pn.defaultValue||"";Rn.setValue(Mn,{value:Bn});break}case"checkbox":case"radiobutton":{const Bn=Pn.defaultValue===Pn.exportValues;Rn.setValue(Mn,{value:Bn});break}case"combobox":case"listbox":{const Bn=Pn.defaultValue||"";Rn.setValue(Mn,{value:Bn});break}default:continue}const Ln=document.querySelector(`[data-element-id="${Mn}"]`);if(Ln){if(!ht.has(Ln)){(0,j.warn)(`_bindResetFormAction - element not allowed: ${Mn}`);continue}}else continue;Ln.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((On=this.linkService.eventBus)==null||On.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Sn,name:"ResetForm"}})),!1}}}Nt=new WeakSet,er=function(){this.container.setAttribute("data-internal-link","")},Cs=function(jt,Gt){jt.href=this.linkService.getAnchorUrl(""),jt.onclick=()=>(this.linkService.executeSetOCGState(Gt),!1),Qt(this,Nt,er).call(this)};class yt extends pt{constructor(Lt){super(Lt,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Lt=document.createElement("img");return Lt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Lt.alt="[{{type}} Annotation]",Lt.dataset.l10nId="text_annotation_type",Lt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Lt),this.container}}class st extends pt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Lt){var jt;this.data.hasOwnCanvas&&(((jt=Lt.previousSibling)==null?void 0:jt.nodeName)==="CANVAS"&&(Lt.previousSibling.hidden=!0),Lt.hidden=!1)}_getKeyModifier(Lt){const{isWin:jt,isMac:Gt}=j.FeatureTest.platform;return jt&&Lt.ctrlKey||Gt&&Lt.metaKey}_setEventListener(Lt,jt,Gt,an,un){Gt.includes("mouse")?Lt.addEventListener(Gt,vn=>{var En;(En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:an,value:un(vn),shift:vn.shiftKey,modifier:this._getKeyModifier(vn)}})}):Lt.addEventListener(Gt,vn=>{var En;if(Gt==="blur"){if(!jt.focused||!vn.relatedTarget)return;jt.focused=!1}else if(Gt==="focus"){if(jt.focused)return;jt.focused=!0}un&&((En=this.linkService.eventBus)==null||En.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:an,value:un(vn)}}))})}_setEventListeners(Lt,jt,Gt,an){var un,vn,En;for(const[jn,Rn]of Gt)(Rn==="Action"||(un=this.data.actions)!=null&&un[Rn])&&((Rn==="Focus"||Rn==="Blur")&&(jt||(jt={focused:!1})),this._setEventListener(Lt,jt,jn,Rn,an),Rn==="Focus"&&!((vn=this.data.actions)!=null&&vn.Blur)?this._setEventListener(Lt,jt,"blur","Blur",null):Rn==="Blur"&&!((En=this.data.actions)!=null&&En.Focus)&&this._setEventListener(Lt,jt,"focus","Focus",null))}_setBackgroundColor(Lt){const jt=this.data.backgroundColor||null;Lt.style.backgroundColor=jt===null?"transparent":j.Util.makeHexColor(jt[0],jt[1],jt[2])}_setTextStyle(Lt){const jt=["left","center","right"],{fontColor:Gt}=this.data.defaultAppearanceData,an=this.data.defaultAppearanceData.fontSize||it,un=Lt.style;let vn;const En=2,jn=Rn=>Math.round(10*Rn)/10;if(this.data.multiLine){const Rn=Math.abs(this.data.rect[3]-this.data.rect[1]-En),Sn=Math.round(Rn/(j.LINE_FACTOR*an))||1,On=Rn/Sn;vn=Math.min(an,jn(On/j.LINE_FACTOR))}else{const Rn=Math.abs(this.data.rect[3]-this.data.rect[1]-En);vn=Math.min(an,jn(Rn/j.LINE_FACTOR))}un.fontSize=`calc(${vn}px * var(--scale-factor))`,un.color=j.Util.makeHexColor(Gt[0],Gt[1],Gt[2]),this.data.textAlignment!==null&&(un.textAlign=jt[this.data.textAlignment])}_setRequired(Lt,jt){jt?Lt.setAttribute("required",!0):Lt.removeAttribute("required"),Lt.setAttribute("aria-required",jt)}}class ot extends st{constructor(Lt){const jt=Lt.renderForms||!Lt.data.hasAppearance&&!!Lt.data.fieldValue;super(Lt,{isRenderable:jt})}setPropertyOnSiblings(Lt,jt,Gt,an){const un=this.annotationStorage;for(const vn of this._getElementsByName(Lt.name,Lt.id))vn.domElement&&(vn.domElement[jt]=Gt),un.setValue(vn.id,{[an]:Gt})}render(){var an,un;const Lt=this.annotationStorage,jt=this.data.id;this.container.classList.add("textWidgetAnnotation");let Gt=null;if(this.renderForms){const vn=Lt.getValue(jt,{value:this.data.fieldValue});let En=vn.value||"";const jn=Lt.getValue(jt,{charLimit:this.data.maxLen}).charLimit;jn&&En.length>jn&&(En=En.slice(0,jn));let Rn=vn.formattedValue||((an=this.data.textContent)==null?void 0:an.join(`
`))||null;Rn&&this.data.comb&&(Rn=Rn.replaceAll(/\s+/g,""));const Sn={userValue:En,formattedValue:Rn,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Gt=document.createElement("textarea"),Gt.textContent=Rn??En,this.data.doNotScroll&&(Gt.style.overflowY="hidden")):(Gt=document.createElement("input"),Gt.type="text",Gt.setAttribute("value",Rn??En),this.data.doNotScroll&&(Gt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Gt.hidden=!0),ht.add(Gt),Gt.setAttribute("data-element-id",jt),Gt.disabled=this.data.readOnly,Gt.name=this.data.fieldName,Gt.tabIndex=rt,this._setRequired(Gt,this.data.required),jn&&(Gt.maxLength=jn),Gt.addEventListener("input",Pn=>{Lt.setValue(jt,{value:Pn.target.value}),this.setPropertyOnSiblings(Gt,"value",Pn.target.value,"value"),Sn.formattedValue=null}),Gt.addEventListener("resetform",Pn=>{const Mn=this.data.defaultFieldValue??"";Gt.value=Sn.userValue=Mn,Sn.formattedValue=null});let On=Pn=>{const{formattedValue:Mn}=Sn;Mn!=null&&(Pn.target.value=Mn),Pn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Gt.addEventListener("focus",Mn=>{if(Sn.focused)return;const{target:Ln}=Mn;Sn.userValue&&(Ln.value=Sn.userValue),Sn.lastCommittedValue=Ln.value,Sn.commitKey=1,Sn.focused=!0}),Gt.addEventListener("updatefromsandbox",Mn=>{this.showElementAndHideCanvas(Mn.target);const Ln={value(Bn){Sn.userValue=Bn.detail.value??"",Lt.setValue(jt,{value:Sn.userValue.toString()}),Bn.target.value=Sn.userValue},formattedValue(Bn){const{formattedValue:Wn}=Bn.detail;Sn.formattedValue=Wn,Wn!=null&&Bn.target!==document.activeElement&&(Bn.target.value=Wn),Lt.setValue(jt,{formattedValue:Wn})},selRange(Bn){Bn.target.setSelectionRange(...Bn.detail.selRange)},charLimit:Bn=>{var Xn;const{charLimit:Wn}=Bn.detail,{target:Hn}=Bn;if(Wn===0){Hn.removeAttribute("maxLength");return}Hn.setAttribute("maxLength",Wn);let qn=Sn.userValue;!qn||qn.length<=Wn||(qn=qn.slice(0,Wn),Hn.value=Sn.userValue=qn,Lt.setValue(jt,{value:qn}),(Xn=this.linkService.eventBus)==null||Xn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:qn,willCommit:!0,commitKey:1,selStart:Hn.selectionStart,selEnd:Hn.selectionEnd}}))}};this._dispatchEventFromSandbox(Ln,Mn)}),Gt.addEventListener("keydown",Mn=>{var Wn;Sn.commitKey=1;let Ln=-1;if(Mn.key==="Escape"?Ln=0:Mn.key==="Enter"&&!this.data.multiLine?Ln=2:Mn.key==="Tab"&&(Sn.commitKey=3),Ln===-1)return;const{value:Bn}=Mn.target;Sn.lastCommittedValue!==Bn&&(Sn.lastCommittedValue=Bn,Sn.userValue=Bn,(Wn=this.linkService.eventBus)==null||Wn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:Bn,willCommit:!0,commitKey:Ln,selStart:Mn.target.selectionStart,selEnd:Mn.target.selectionEnd}}))});const Pn=On;On=null,Gt.addEventListener("blur",Mn=>{var Bn;if(!Sn.focused||!Mn.relatedTarget)return;Sn.focused=!1;const{value:Ln}=Mn.target;Sn.userValue=Ln,Sn.lastCommittedValue!==Ln&&((Bn=this.linkService.eventBus)==null||Bn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:Ln,willCommit:!0,commitKey:Sn.commitKey,selStart:Mn.target.selectionStart,selEnd:Mn.target.selectionEnd}})),Pn(Mn)}),(un=this.data.actions)!=null&&un.Keystroke&&Gt.addEventListener("beforeinput",Mn=>{var Zn;Sn.lastCommittedValue=null;const{data:Ln,target:Bn}=Mn,{value:Wn,selectionStart:Hn,selectionEnd:qn}=Bn;let Xn=Hn,Yn=qn;switch(Mn.inputType){case"deleteWordBackward":{const Jn=Wn.substring(0,Hn).match(/\w*[^\w]*$/);Jn&&(Xn-=Jn[0].length);break}case"deleteWordForward":{const Jn=Wn.substring(Hn).match(/^[^\w]*\w*/);Jn&&(Yn+=Jn[0].length);break}case"deleteContentBackward":Hn===qn&&(Xn-=1);break;case"deleteContentForward":Hn===qn&&(Yn+=1);break}Mn.preventDefault(),(Zn=this.linkService.eventBus)==null||Zn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:Wn,change:Ln||"",willCommit:!1,selStart:Xn,selEnd:Yn}})}),this._setEventListeners(Gt,Sn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Mn=>Mn.target.value)}if(On&&Gt.addEventListener("blur",On),this.data.comb){const Mn=(this.data.rect[2]-this.data.rect[0])/jn;Gt.classList.add("comb"),Gt.style.letterSpacing=`calc(${Mn}px * var(--scale-factor) - 1ch)`}}else Gt=document.createElement("div"),Gt.textContent=this.data.fieldValue,Gt.style.verticalAlign="middle",Gt.style.display="table-cell";return this._setTextStyle(Gt),this._setBackgroundColor(Gt),this._setDefaultPropertiesFromJS(Gt),this.container.append(Gt),this.container}}class mt extends st{constructor(Lt){super(Lt,{isRenderable:!!Lt.data.hasOwnCanvas})}}class ft extends st{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){const Lt=this.annotationStorage,jt=this.data,Gt=jt.id;let an=Lt.getValue(Gt,{value:jt.exportValue===jt.fieldValue}).value;typeof an=="string"&&(an=an!=="Off",Lt.setValue(Gt,{value:an})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const un=document.createElement("input");return ht.add(un),un.setAttribute("data-element-id",Gt),un.disabled=jt.readOnly,this._setRequired(un,this.data.required),un.type="checkbox",un.name=jt.fieldName,an&&un.setAttribute("checked",!0),un.setAttribute("exportValue",jt.exportValue),un.tabIndex=rt,un.addEventListener("change",vn=>{const{name:En,checked:jn}=vn.target;for(const Rn of this._getElementsByName(En,Gt)){const Sn=jn&&Rn.exportValue===jt.exportValue;Rn.domElement&&(Rn.domElement.checked=Sn),Lt.setValue(Rn.id,{value:Sn})}Lt.setValue(Gt,{value:jn})}),un.addEventListener("resetform",vn=>{const En=jt.defaultFieldValue||"Off";vn.target.checked=En===jt.exportValue}),this.enableScripting&&this.hasJSActions&&(un.addEventListener("updatefromsandbox",vn=>{const En={value(jn){jn.target.checked=jn.detail.value!=="Off",Lt.setValue(Gt,{value:jn.target.checked})}};this._dispatchEventFromSandbox(En,vn)}),this._setEventListeners(un,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],vn=>vn.target.checked)),this._setBackgroundColor(un),this._setDefaultPropertiesFromJS(un),this.container.append(un),this.container}}class ct extends st{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Lt=this.annotationStorage,jt=this.data,Gt=jt.id;let an=Lt.getValue(Gt,{value:jt.fieldValue===jt.buttonValue}).value;typeof an=="string"&&(an=an!==jt.buttonValue,Lt.setValue(Gt,{value:an}));const un=document.createElement("input");if(ht.add(un),un.setAttribute("data-element-id",Gt),un.disabled=jt.readOnly,this._setRequired(un,this.data.required),un.type="radio",un.name=jt.fieldName,an&&un.setAttribute("checked",!0),un.tabIndex=rt,un.addEventListener("change",vn=>{const{name:En,checked:jn}=vn.target;for(const Rn of this._getElementsByName(En,Gt))Lt.setValue(Rn.id,{value:!1});Lt.setValue(Gt,{value:jn})}),un.addEventListener("resetform",vn=>{const En=jt.defaultFieldValue;vn.target.checked=En!=null&&En===jt.buttonValue}),this.enableScripting&&this.hasJSActions){const vn=jt.buttonValue;un.addEventListener("updatefromsandbox",En=>{const jn={value:Rn=>{const Sn=vn===Rn.detail.value;for(const On of this._getElementsByName(Rn.target.name)){const Pn=Sn&&On.id===Gt;On.domElement&&(On.domElement.checked=Pn),Lt.setValue(On.id,{value:Pn})}}};this._dispatchEventFromSandbox(jn,En)}),this._setEventListeners(un,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],En=>En.target.checked)}return this._setBackgroundColor(un),this._setDefaultPropertiesFromJS(un),this.container.append(un),this.container}}class xt extends vt{constructor(Lt){super(Lt,{ignoreBorder:Lt.data.hasAppearance})}render(){const Lt=super.render();Lt.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Lt.title=this.data.alternativeText);const jt=Lt.lastChild;return this.enableScripting&&this.hasJSActions&&jt&&(this._setDefaultPropertiesFromJS(jt),jt.addEventListener("updatefromsandbox",Gt=>{this._dispatchEventFromSandbox({},Gt)})),Lt}}class dt extends st{constructor(Lt){super(Lt,{isRenderable:Lt.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Lt=this.annotationStorage,jt=this.data.id,Gt=Lt.getValue(jt,{value:this.data.fieldValue}),an=document.createElement("select");ht.add(an),an.setAttribute("data-element-id",jt),an.disabled=this.data.readOnly,this._setRequired(an,this.data.required),an.name=this.data.fieldName,an.tabIndex=rt;let un=this.data.combo&&this.data.options.length>0;this.data.combo||(an.size=this.data.options.length,this.data.multiSelect&&(an.multiple=!0)),an.addEventListener("resetform",Sn=>{const On=this.data.defaultFieldValue;for(const Pn of an.options)Pn.selected=Pn.value===On});for(const Sn of this.data.options){const On=document.createElement("option");On.textContent=Sn.displayValue,On.value=Sn.exportValue,Gt.value.includes(Sn.exportValue)&&(On.setAttribute("selected",!0),un=!1),an.append(On)}let vn=null;if(un){const Sn=document.createElement("option");Sn.value=" ",Sn.setAttribute("hidden",!0),Sn.setAttribute("selected",!0),an.prepend(Sn),vn=()=>{Sn.remove(),an.removeEventListener("input",vn),vn=null},an.addEventListener("input",vn)}const En=Sn=>{const On=Sn?"value":"textContent",{options:Pn,multiple:Mn}=an;return Mn?Array.prototype.filter.call(Pn,Ln=>Ln.selected).map(Ln=>Ln[On]):Pn.selectedIndex===-1?null:Pn[Pn.selectedIndex][On]};let jn=En(!1);const Rn=Sn=>{const On=Sn.target.options;return Array.prototype.map.call(On,Pn=>({displayValue:Pn.textContent,exportValue:Pn.value}))};return this.enableScripting&&this.hasJSActions?(an.addEventListener("updatefromsandbox",Sn=>{const On={value(Pn){vn==null||vn();const Mn=Pn.detail.value,Ln=new Set(Array.isArray(Mn)?Mn:[Mn]);for(const Bn of an.options)Bn.selected=Ln.has(Bn.value);Lt.setValue(jt,{value:En(!0)}),jn=En(!1)},multipleSelection(Pn){an.multiple=!0},remove(Pn){const Mn=an.options,Ln=Pn.detail.remove;Mn[Ln].selected=!1,an.remove(Ln),Mn.length>0&&Array.prototype.findIndex.call(Mn,Wn=>Wn.selected)===-1&&(Mn[0].selected=!0),Lt.setValue(jt,{value:En(!0),items:Rn(Pn)}),jn=En(!1)},clear(Pn){for(;an.length!==0;)an.remove(0);Lt.setValue(jt,{value:null,items:[]}),jn=En(!1)},insert(Pn){const{index:Mn,displayValue:Ln,exportValue:Bn}=Pn.detail.insert,Wn=an.children[Mn],Hn=document.createElement("option");Hn.textContent=Ln,Hn.value=Bn,Wn?Wn.before(Hn):an.append(Hn),Lt.setValue(jt,{value:En(!0),items:Rn(Pn)}),jn=En(!1)},items(Pn){const{items:Mn}=Pn.detail;for(;an.length!==0;)an.remove(0);for(const Ln of Mn){const{displayValue:Bn,exportValue:Wn}=Ln,Hn=document.createElement("option");Hn.textContent=Bn,Hn.value=Wn,an.append(Hn)}an.options.length>0&&(an.options[0].selected=!0),Lt.setValue(jt,{value:En(!0),items:Rn(Pn)}),jn=En(!1)},indices(Pn){const Mn=new Set(Pn.detail.indices);for(const Ln of Pn.target.options)Ln.selected=Mn.has(Ln.index);Lt.setValue(jt,{value:En(!0)}),jn=En(!1)},editable(Pn){Pn.target.disabled=!Pn.detail.editable}};this._dispatchEventFromSandbox(On,Sn)}),an.addEventListener("input",Sn=>{var Pn;const On=En(!0);Lt.setValue(jt,{value:On}),Sn.preventDefault(),(Pn=this.linkService.eventBus)==null||Pn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:jt,name:"Keystroke",value:jn,changeEx:On,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(an,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Sn=>Sn.target.value)):an.addEventListener("input",function(Sn){Lt.setValue(jt,{value:En(!0)})}),this.data.combo&&this._setTextStyle(an),this._setBackgroundColor(an),this._setDefaultPropertiesFromJS(an),this.container.append(an),this.container}}class gt extends pt{constructor(Lt){const{data:jt,elements:Gt}=Lt;super(Lt,{isRenderable:pt._hasPopupData(jt)}),this.elements=Gt}render(){this.container.classList.add("popupAnnotation");const Lt=new St({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),jt=[];for(const Gt of this.elements)Gt.popup=Lt,jt.push(Gt.data.id),Gt.addHighlightArea();return this.container.setAttribute("aria-controls",jt.map(Gt=>`${j.AnnotationPrefix}${Gt}`).join(",")),this.container}}class St{constructor({container:Lt,color:jt,elements:Gt,titleObj:an,modificationDate:un,contentsObj:vn,richText:En,parent:jn,rect:Rn,parentRect:Sn,open:On}){nn(this,yn);nn(this,Jt,null);nn(this,on,Qt(this,yn,ks).bind(this));nn(this,ln,Qt(this,yn,Zr).bind(this));nn(this,fn,Qt(this,yn,Qr).bind(this));nn(this,pn,Qt(this,yn,Er).bind(this));nn(this,mn,null);nn(this,Yt,null);nn(this,Kt,null);nn(this,Rt,null);nn(this,Ot,null);nn(this,qt,null);nn(this,en,!1);nn(this,dn,null);nn(this,xn,null);nn(this,Zt,null);nn(this,Ut,null);nn(this,bn,!1);var Mn;sn(this,Yt,Lt),sn(this,Ut,an),sn(this,Kt,vn),sn(this,Zt,En),sn(this,Ot,jn),sn(this,mn,jt),sn(this,xn,Rn),sn(this,qt,Sn),sn(this,Rt,Gt);const Pn=$.PDFDateString.toDateObject(un);Pn&&sn(this,Jt,jn.l10n.get("annotation_date_string",{date:Pn.toLocaleDateString(),time:Pn.toLocaleTimeString()})),this.trigger=Gt.flatMap(Ln=>Ln.getElementsToTriggerPopup());for(const Ln of this.trigger)Ln.addEventListener("click",at(this,pn)),Ln.addEventListener("mouseenter",at(this,fn)),Ln.addEventListener("mouseleave",at(this,ln)),Ln.classList.add("popupTriggerArea");for(const Ln of Gt)(Mn=Ln.container)==null||Mn.addEventListener("keydown",at(this,on));at(this,Yt).hidden=!0,On&&Qt(this,yn,Er).call(this)}render(){if(at(this,dn))return;const{page:{view:Lt},viewport:{rawDims:{pageWidth:jt,pageHeight:Gt,pageX:an,pageY:un}}}=at(this,Ot),vn=sn(this,dn,document.createElement("div"));if(vn.className="popup",at(this,mn)){const Xn=vn.style.outlineColor=j.Util.makeHexColor(...at(this,mn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?vn.style.backgroundColor=`color-mix(in srgb, ${Xn} 30%, white)`:vn.style.backgroundColor=j.Util.makeHexColor(...at(this,mn).map(Zn=>Math.floor(.7*(255-Zn)+Zn)))}const En=document.createElement("span");En.className="header";const jn=document.createElement("h1");if(En.append(jn),{dir:jn.dir,str:jn.textContent}=at(this,Ut),vn.append(En),at(this,Jt)){const Xn=document.createElement("span");Xn.classList.add("popupDate"),at(this,Jt).then(Yn=>{Xn.textContent=Yn}),En.append(Xn)}const Rn=at(this,Kt),Sn=at(this,Zt);if(Sn!=null&&Sn.str&&(!(Rn!=null&&Rn.str)||Rn.str===Sn.str))tt.XfaLayer.render({xfaHtml:Sn.html,intent:"richText",div:vn}),vn.lastChild.classList.add("richText","popupContent");else{const Xn=this._formatContents(Rn);vn.append(Xn)}let On=!!at(this,qt),Pn=On?at(this,qt):at(this,xn);for(const Xn of at(this,Rt))if(!Pn||j.Util.intersect(Xn.data.rect,Pn)!==null){Pn=Xn.data.rect,On=!0;break}const Mn=j.Util.normalizeRect([Pn[0],Lt[3]-Pn[1]+Lt[1],Pn[2],Lt[3]-Pn[3]+Lt[1]]),Bn=On?Pn[2]-Pn[0]+5:0,Wn=Mn[0]+Bn,Hn=Mn[1],{style:qn}=at(this,Yt);qn.left=`${100*(Wn-an)/jt}%`,qn.top=`${100*(Hn-un)/Gt}%`,at(this,Yt).append(vn)}_formatContents({str:Lt,dir:jt}){const Gt=document.createElement("p");Gt.classList.add("popupContent"),Gt.dir=jt;const an=Lt.split(/(?:\r\n?|\n)/);for(let un=0,vn=an.length;un<vn;++un){const En=an[un];Gt.append(document.createTextNode(En)),un<vn-1&&Gt.append(document.createElement("br"))}return Gt}forceHide(){sn(this,bn,this.isVisible),at(this,bn)&&(at(this,Yt).hidden=!0)}maybeShow(){at(this,bn)&&(sn(this,bn,!1),at(this,Yt).hidden=!1)}get isVisible(){return at(this,Yt).hidden===!1}}Jt=new WeakMap,on=new WeakMap,ln=new WeakMap,fn=new WeakMap,pn=new WeakMap,mn=new WeakMap,Yt=new WeakMap,Kt=new WeakMap,Rt=new WeakMap,Ot=new WeakMap,qt=new WeakMap,en=new WeakMap,dn=new WeakMap,xn=new WeakMap,Zt=new WeakMap,Ut=new WeakMap,bn=new WeakMap,yn=new WeakSet,ks=function(Lt){Lt.altKey||Lt.shiftKey||Lt.ctrlKey||Lt.metaKey||(Lt.key==="Enter"||Lt.key==="Escape"&&at(this,en))&&Qt(this,yn,Er).call(this)},Er=function(){sn(this,en,!at(this,en)),at(this,en)?(Qt(this,yn,Qr).call(this),at(this,Yt).addEventListener("click",at(this,pn)),at(this,Yt).addEventListener("keydown",at(this,on))):(Qt(this,yn,Zr).call(this),at(this,Yt).removeEventListener("click",at(this,pn)),at(this,Yt).removeEventListener("keydown",at(this,on)))},Qr=function(){at(this,dn)||this.render(),this.isVisible?at(this,en)&&at(this,Yt).classList.add("focused"):(at(this,Yt).hidden=!1,at(this,Yt).style.zIndex=parseInt(at(this,Yt).style.zIndex)+1e3)},Zr=function(){at(this,Yt).classList.remove("focused"),!(at(this,en)||!this.isVisible)&&(at(this,Yt).hidden=!0,at(this,Yt).style.zIndex=parseInt(at(this,Yt).style.zIndex)-1e3)};class kt extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Lt.data.textContent,this.textPosition=Lt.data.textPosition,this.annotationEditorType=j.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Lt=document.createElement("div");Lt.classList.add("annotationTextContent"),Lt.setAttribute("role","comment");for(const jt of this.textContent){const Gt=document.createElement("span");Gt.textContent=jt,Lt.append(Gt)}this.container.append(Lt)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}b.FreeTextAnnotationElement=kt;class bt extends pt{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});nn(this,kn,null)}render(){this.container.classList.add("lineAnnotation");const jt=this.data,{width:Gt,height:an}=ut(jt.rect),un=this.svgFactory.create(Gt,an,!0),vn=sn(this,kn,this.svgFactory.createElement("svg:line"));return vn.setAttribute("x1",jt.rect[2]-jt.lineCoordinates[0]),vn.setAttribute("y1",jt.rect[3]-jt.lineCoordinates[1]),vn.setAttribute("x2",jt.rect[2]-jt.lineCoordinates[2]),vn.setAttribute("y2",jt.rect[3]-jt.lineCoordinates[3]),vn.setAttribute("stroke-width",jt.borderStyle.width||1),vn.setAttribute("stroke","transparent"),vn.setAttribute("fill","transparent"),un.append(vn),this.container.append(un),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,kn)}addHighlightArea(){this.container.classList.add("highlightArea")}}kn=new WeakMap;class wt extends pt{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});nn(this,zn,null)}render(){this.container.classList.add("squareAnnotation");const jt=this.data,{width:Gt,height:an}=ut(jt.rect),un=this.svgFactory.create(Gt,an,!0),vn=jt.borderStyle.width,En=sn(this,zn,this.svgFactory.createElement("svg:rect"));return En.setAttribute("x",vn/2),En.setAttribute("y",vn/2),En.setAttribute("width",Gt-vn),En.setAttribute("height",an-vn),En.setAttribute("stroke-width",vn||1),En.setAttribute("stroke","transparent"),En.setAttribute("fill","transparent"),un.append(En),this.container.append(un),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,zn)}addHighlightArea(){this.container.classList.add("highlightArea")}}zn=new WeakMap;class Tt extends pt{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});nn(this,$n,null)}render(){this.container.classList.add("circleAnnotation");const jt=this.data,{width:Gt,height:an}=ut(jt.rect),un=this.svgFactory.create(Gt,an,!0),vn=jt.borderStyle.width,En=sn(this,$n,this.svgFactory.createElement("svg:ellipse"));return En.setAttribute("cx",Gt/2),En.setAttribute("cy",an/2),En.setAttribute("rx",Gt/2-vn/2),En.setAttribute("ry",an/2-vn/2),En.setAttribute("stroke-width",vn||1),En.setAttribute("stroke","transparent"),En.setAttribute("fill","transparent"),un.append(En),this.container.append(un),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,$n)}addHighlightArea(){this.container.classList.add("highlightArea")}}$n=new WeakMap;class Ht extends pt{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});nn(this,gn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const jt=this.data,{width:Gt,height:an}=ut(jt.rect),un=this.svgFactory.create(Gt,an,!0);let vn=[];for(const jn of jt.vertices){const Rn=jn.x-jt.rect[0],Sn=jt.rect[3]-jn.y;vn.push(Rn+","+Sn)}vn=vn.join(" ");const En=sn(this,gn,this.svgFactory.createElement(this.svgElementName));return En.setAttribute("points",vn),En.setAttribute("stroke-width",jt.borderStyle.width||1),En.setAttribute("stroke","transparent"),En.setAttribute("fill","transparent"),un.append(En),this.container.append(un),!jt.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return at(this,gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}gn=new WeakMap;class Bt extends Ht{constructor(Lt){super(Lt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Wt extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Dt extends pt{constructor(jt){super(jt,{isRenderable:!0,ignoreBorder:!0});nn(this,tn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=j.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const jt=this.data,{width:Gt,height:an}=ut(jt.rect),un=this.svgFactory.create(Gt,an,!0);for(const vn of jt.inkLists){let En=[];for(const Rn of vn){const Sn=Rn.x-jt.rect[0],On=jt.rect[3]-Rn.y;En.push(`${Sn},${On}`)}En=En.join(" ");const jn=this.svgFactory.createElement(this.svgElementName);at(this,tn).push(jn),jn.setAttribute("points",En),jn.setAttribute("stroke-width",jt.borderStyle.width||1),jn.setAttribute("stroke","transparent"),jn.setAttribute("fill","transparent"),!jt.popupRef&&this.hasPopupData&&this._createPopup(),un.append(jn)}return this.container.append(un),this.container}getElementsToTriggerPopup(){return at(this,tn)}addHighlightArea(){this.container.classList.add("highlightArea")}}tn=new WeakMap,b.InkAnnotationElement=Dt;class It extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class At extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Ft extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Vt extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Pt extends pt{constructor(Lt){super(Lt,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}b.StampAnnotationElement=Pt;class Et extends pt{constructor(jt){var un;super(jt,{isRenderable:!0});nn(this,An);nn(this,rn,null);const{filename:Gt,content:an}=this.data.file;this.filename=(0,$.getFilenameFromUrl)(Gt,!0),this.content=an,(un=this.linkService.eventBus)==null||un.dispatch("fileattachmentannotation",{source:this,filename:Gt,content:an})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:jt,data:Gt}=this;let an;Gt.hasAppearance||Gt.fillAlpha===0?an=document.createElement("div"):(an=document.createElement("img"),an.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Gt.name)?"paperclip":"pushpin"}.svg`,Gt.fillAlpha&&Gt.fillAlpha<1&&(an.style=`filter: opacity(${Math.round(Gt.fillAlpha*100)}%);`)),an.addEventListener("dblclick",Qt(this,An,Jr).bind(this)),sn(this,rn,an);const{isMac:un}=j.FeatureTest.platform;return jt.addEventListener("keydown",vn=>{vn.key==="Enter"&&(un?vn.metaKey:vn.ctrlKey)&&Qt(this,An,Jr).call(this)}),!Gt.popupRef&&this.hasPopupData?this._createPopup():an.classList.add("popupTriggerArea"),jt.append(an),jt}getElementsToTriggerPopup(){return at(this,rn)}addHighlightArea(){this.container.classList.add("highlightArea")}}rn=new WeakMap,An=new WeakSet,Jr=function(){var jt;(jt=this.downloadManager)==null||jt.openOrDownloadData(this.container,this.content,this.filename)};class _t{constructor({div:Lt,accessibilityManager:jt,annotationCanvasMap:Gt,l10n:an,page:un,viewport:vn}){nn(this,_n);nn(this,Vn,null);nn(this,$t,null);nn(this,hn,new Map);this.div=Lt,sn(this,Vn,jt),sn(this,$t,Gt),this.l10n=an,this.page=un,this.viewport=vn,this.zIndex=0,this.l10n||(this.l10n=nt.NullL10n)}async render(Lt){const{annotations:jt}=Lt,Gt=this.div;(0,$.setLayerDimensions)(Gt,this.viewport);const an=new Map,un={data:null,layer:Gt,linkService:Lt.linkService,downloadManager:Lt.downloadManager,imageResourcesPath:Lt.imageResourcesPath||"",renderForms:Lt.renderForms!==!1,svgFactory:new $.DOMSVGFactory,annotationStorage:Lt.annotationStorage||new _e.AnnotationStorage,enableScripting:Lt.enableScripting===!0,hasJSActions:Lt.hasJSActions,fieldObjects:Lt.fieldObjects,parent:this,elements:null};for(const vn of jt){if(vn.noHTML)continue;const En=vn.annotationType===j.AnnotationType.POPUP;if(En){const Sn=an.get(vn.id);if(!Sn)continue;un.elements=Sn}else{const{width:Sn,height:On}=ut(vn.rect);if(Sn<=0||On<=0)continue}un.data=vn;const jn=lt.create(un);if(!jn.isRenderable)continue;if(!En&&vn.popupRef){const Sn=an.get(vn.popupRef);Sn?Sn.push(jn):an.set(vn.popupRef,[jn])}jn.annotationEditorType>0&&at(this,hn).set(jn.data.id,jn);const Rn=jn.render();vn.hidden&&(Rn.style.visibility="hidden"),Qt(this,_n,Rs).call(this,Rn,vn.id)}Qt(this,_n,_i).call(this),await this.l10n.translate(Gt)}update({viewport:Lt}){const jt=this.div;this.viewport=Lt,(0,$.setLayerDimensions)(jt,{rotation:Lt.rotation}),Qt(this,_n,_i).call(this),jt.hidden=!1}getEditableAnnotations(){return Array.from(at(this,hn).values())}getEditableAnnotation(Lt){return at(this,hn).get(Lt)}}Vn=new WeakMap,$t=new WeakMap,hn=new WeakMap,_n=new WeakSet,Rs=function(Lt,jt){var an;const Gt=Lt.firstChild||Lt;Gt.id=`${j.AnnotationPrefix}${jt}`,this.div.append(Lt),(an=at(this,Vn))==null||an.moveElementInDOM(this.div,Lt,Gt,!1)},_i=function(){if(!at(this,$t))return;const Lt=this.div;for(const[jt,Gt]of at(this,$t)){const an=Lt.querySelector(`[data-annotation-id="${jt}"]`);if(!an)continue;const{firstChild:un}=an;un?un.nodeName==="CANVAS"?un.replaceWith(Gt):un.before(Gt):an.append(Gt)}at(this,$t).clear()},b.AnnotationLayer=_t},(g,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ColorConverters=void 0;function _(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function j(_e){return Math.max(0,Math.min(255,255*_e))}class ${static CMYK_G([et,nt,tt,rt]){return["G",1-Math.min(1,.3*et+.59*tt+.11*nt+rt)]}static G_CMYK([et]){return["CMYK",0,0,0,1-et]}static G_RGB([et]){return["RGB",et,et,et]}static G_rgb([et]){return et=j(et),[et,et,et]}static G_HTML([et]){const nt=_(et);return`#${nt}${nt}${nt}`}static RGB_G([et,nt,tt]){return["G",.3*et+.59*nt+.11*tt]}static RGB_rgb(et){return et.map(j)}static RGB_HTML(et){return`#${et.map(_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([et,nt,tt,rt]){return["RGB",1-Math.min(1,et+rt),1-Math.min(1,tt+rt),1-Math.min(1,nt+rt)]}static CMYK_rgb([et,nt,tt,rt]){return[j(1-Math.min(1,et+rt)),j(1-Math.min(1,tt+rt)),j(1-Math.min(1,nt+rt))]}static CMYK_HTML(et){const nt=this.CMYK_RGB(et).slice(1);return this.RGB_HTML(nt)}static RGB_CMYK([et,nt,tt]){const rt=1-et,it=1-nt,ht=1-tt,ut=Math.min(rt,it,ht);return["CMYK",rt,it,ht,ut]}}b.ColorConverters=$},(g,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NullL10n=void 0,b.getL10nFallback=j;const _={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};_.print_progress_percent="{{progress}}%";function j(et,nt){switch(et){case"find_match_count":et=`find_match_count[${nt.total===1?"one":"other"}]`;break;case"find_match_count_limit":et=`find_match_count_limit[${nt.limit===1?"one":"other"}]`;break}return _[et]||""}function $(et,nt){return nt?et.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(tt,rt)=>rt in nt?nt[rt]:"{{"+rt+"}}"):et}const _e={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(et,nt=null,tt=j(et,nt)){return $(tt,nt)},async translate(et){}};b.NullL10n=_e},(g,b,_)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.XfaLayer=void 0;var j=_(25);class ${static setupStorage(et,nt,tt,rt,it){const ht=rt.getValue(nt,{value:null});switch(tt.name){case"textarea":if(ht.value!==null&&(et.textContent=ht.value),it==="print")break;et.addEventListener("input",ut=>{rt.setValue(nt,{value:ut.target.value})});break;case"input":if(tt.attributes.type==="radio"||tt.attributes.type==="checkbox"){if(ht.value===tt.attributes.xfaOn?et.setAttribute("checked",!0):ht.value===tt.attributes.xfaOff&&et.removeAttribute("checked"),it==="print")break;et.addEventListener("change",ut=>{rt.setValue(nt,{value:ut.target.checked?ut.target.getAttribute("xfaOn"):ut.target.getAttribute("xfaOff")})})}else{if(ht.value!==null&&et.setAttribute("value",ht.value),it==="print")break;et.addEventListener("input",ut=>{rt.setValue(nt,{value:ut.target.value})})}break;case"select":if(ht.value!==null){et.setAttribute("value",ht.value);for(const ut of tt.children)ut.attributes.value===ht.value?ut.attributes.selected=!0:ut.attributes.hasOwnProperty("selected")&&delete ut.attributes.selected}et.addEventListener("input",ut=>{const lt=ut.target.options,pt=lt.selectedIndex===-1?"":lt[lt.selectedIndex].value;rt.setValue(nt,{value:pt})});break}}static setAttributes({html:et,element:nt,storage:tt=null,intent:rt,linkService:it}){const{attributes:ht}=nt,ut=et instanceof HTMLAnchorElement;ht.type==="radio"&&(ht.name=`${ht.name}-${rt}`);for(const[lt,pt]of Object.entries(ht))if(pt!=null)switch(lt){case"class":pt.length&&et.setAttribute(lt,pt.join(" "));break;case"dataId":break;case"id":et.setAttribute("data-element-id",pt);break;case"style":Object.assign(et.style,pt);break;case"textContent":et.textContent=pt;break;default:(!ut||lt!=="href"&&lt!=="newWindow")&&et.setAttribute(lt,pt)}ut&&it.addLinkAttributes(et,ht.href,ht.newWindow),tt&&ht.dataId&&this.setupStorage(et,ht.dataId,nt,tt)}static render(et){var vt;const nt=et.annotationStorage,tt=et.linkService,rt=et.xfaHtml,it=et.intent||"display",ht=document.createElement(rt.name);rt.attributes&&this.setAttributes({html:ht,element:rt,intent:it,linkService:tt});const ut=[[rt,-1,ht]],lt=et.div;if(lt.append(ht),et.viewport){const yt=`matrix(${et.viewport.transform.join(",")})`;lt.style.transform=yt}it!=="richText"&&lt.setAttribute("class","xfaLayer xfaFont");const pt=[];for(;ut.length>0;){const[yt,st,ot]=ut.at(-1);if(st+1===yt.children.length){ut.pop();continue}const mt=yt.children[++ut.at(-1)[1]];if(mt===null)continue;const{name:ft}=mt;if(ft==="#text"){const xt=document.createTextNode(mt.value);pt.push(xt),ot.append(xt);continue}const ct=(vt=mt==null?void 0:mt.attributes)!=null&&vt.xmlns?document.createElementNS(mt.attributes.xmlns,ft):document.createElement(ft);if(ot.append(ct),mt.attributes&&this.setAttributes({html:ct,element:mt,storage:nt,intent:it,linkService:tt}),mt.children&&mt.children.length>0)ut.push([mt,-1,ct]);else if(mt.value){const xt=document.createTextNode(mt.value);j.XfaText.shouldBuildText(ft)&&pt.push(xt),ct.append(xt)}}for(const yt of lt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))yt.setAttribute("readOnly",!0);return{textDivs:pt}}static update(et){const nt=`matrix(${et.viewport.transform.join(",")})`;et.div.style.transform=nt,et.div.hidden=!1}}b.XfaLayer=$},(g,b,_)=>{var rt,it,ht,ut,lt,pt,vt,yt,st,ot,mt,ft,ct,xt,dt,Ps,Ts,js,Ms,es,Ds,ts,Is,Ns,Ls,Fs,Os,Qn,ns,_r,Sr,ir,rs,Ar,Nt,zs,ss,$s,Bs,os,wr,sr;Object.defineProperty(b,"__esModule",{value:!0}),b.InkEditor=void 0;var j=_(1),$=_(4),_e=_(29),et=_(6),nt=_(5);const mn=class mn extends $.AnnotationEditor{constructor(Rt){super({...Rt,name:"inkEditor"});nn(this,dt);nn(this,rt,0);nn(this,it,0);nn(this,ht,this.canvasPointermove.bind(this));nn(this,ut,this.canvasPointerleave.bind(this));nn(this,lt,this.canvasPointerup.bind(this));nn(this,pt,this.canvasPointerdown.bind(this));nn(this,vt,new Path2D);nn(this,yt,!1);nn(this,st,!1);nn(this,ot,!1);nn(this,mt,null);nn(this,ft,0);nn(this,ct,0);nn(this,xt,null);this.color=Rt.color||null,this.thickness=Rt.thickness||null,this.opacity=Rt.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(Rt){$.AnnotationEditor.initialize(Rt,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(Rt,Ot){switch(Rt){case j.AnnotationEditorParamsType.INK_THICKNESS:mn._defaultThickness=Ot;break;case j.AnnotationEditorParamsType.INK_COLOR:mn._defaultColor=Ot;break;case j.AnnotationEditorParamsType.INK_OPACITY:mn._defaultOpacity=Ot/100;break}}updateParams(Rt,Ot){switch(Rt){case j.AnnotationEditorParamsType.INK_THICKNESS:Qt(this,dt,Ps).call(this,Ot);break;case j.AnnotationEditorParamsType.INK_COLOR:Qt(this,dt,Ts).call(this,Ot);break;case j.AnnotationEditorParamsType.INK_OPACITY:Qt(this,dt,js).call(this,Ot);break}}static get defaultPropertiesToUpdate(){return[[j.AnnotationEditorParamsType.INK_THICKNESS,mn._defaultThickness],[j.AnnotationEditorParamsType.INK_COLOR,mn._defaultColor||$.AnnotationEditor._defaultLineColor],[j.AnnotationEditorParamsType.INK_OPACITY,Math.round(mn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[j.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||mn._defaultThickness],[j.AnnotationEditorParamsType.INK_COLOR,this.color||mn._defaultColor||$.AnnotationEditor._defaultLineColor],[j.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??mn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Qt(this,dt,_r).call(this),Qt(this,dt,Sr).call(this)),this.isAttachedToDOM||(this.parent.add(this),Qt(this,dt,ir).call(this)),Qt(this,dt,sr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,at(this,mt).disconnect(),sn(this,mt,null),super.remove())}setParent(Rt){!this.parent&&Rt?this._uiManager.removeShouldRescale(this):this.parent&&Rt===null&&this._uiManager.addShouldRescale(this),super.setParent(Rt)}onScaleChanging(){const[Rt,Ot]=this.parentDimensions,qt=this.width*Rt,en=this.height*Ot;this.setDimensions(qt,en)}enableEditMode(){at(this,yt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",at(this,pt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",at(this,pt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){at(this,yt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),sn(this,yt,!0),this.div.classList.add("disabled"),Qt(this,dt,sr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(Rt){this._focusEventsAllowed&&(super.focusin(Rt),this.enableEditMode())}canvasPointerdown(Rt){Rt.button!==0||!this.isInEditMode()||at(this,yt)||(this.setInForeground(),Rt.preventDefault(),Rt.type!=="mouse"&&this.div.focus(),Qt(this,dt,Ds).call(this,Rt.offsetX,Rt.offsetY))}canvasPointermove(Rt){Rt.preventDefault(),Qt(this,dt,ts).call(this,Rt.offsetX,Rt.offsetY)}canvasPointerup(Rt){Rt.preventDefault(),Qt(this,dt,ns).call(this,Rt)}canvasPointerleave(Rt){Qt(this,dt,ns).call(this,Rt)}get isResizable(){return!this.isEmpty()&&at(this,yt)}render(){if(this.div)return this.div;let Rt,Ot;this.width&&(Rt=this.x,Ot=this.y),super.render(),$.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Zt=>{var Ut;return(Ut=this.div)==null?void 0:Ut.setAttribute("aria-label",Zt)});const[qt,en,dn,xn]=Qt(this,dt,Ms).call(this);if(this.setAt(qt,en,0,0),this.setDims(dn,xn),Qt(this,dt,_r).call(this),this.width){const[Zt,Ut]=this.parentDimensions;this.setAspectRatio(this.width*Zt,this.height*Ut),this.setAt(Rt*Zt,Ot*Ut,this.width*Zt,this.height*Ut),sn(this,ot,!0),Qt(this,dt,ir).call(this),this.setDims(this.width*Zt,this.height*Ut),Qt(this,dt,Qn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Qt(this,dt,Sr).call(this),this.div}setDimensions(Rt,Ot){const qt=Math.round(Rt),en=Math.round(Ot);if(at(this,ft)===qt&&at(this,ct)===en)return;sn(this,ft,qt),sn(this,ct,en),this.canvas.style.visibility="hidden";const[dn,xn]=this.parentDimensions;this.width=Rt/dn,this.height=Ot/xn,this.fixAndSetPosition(),at(this,yt)&&Qt(this,dt,rs).call(this,Rt,Ot),Qt(this,dt,ir).call(this),Qt(this,dt,Qn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(Rt,Ot,qt){var kn,zn,$n;if(Rt instanceof _e.InkAnnotationElement)return null;const en=super.deserialize(Rt,Ot,qt);en.thickness=Rt.thickness,en.color=j.Util.makeHexColor(...Rt.color),en.opacity=Rt.opacity;const[dn,xn]=en.pageDimensions,Zt=en.width*dn,Ut=en.height*xn,bn=en.parentScale,yn=Rt.thickness/2;sn(en,yt,!0),sn(en,ft,Math.round(Zt)),sn(en,ct,Math.round(Ut));const{paths:In,rect:Nn,rotation:Fn}=Rt;for(let{bezier:gn}of In){gn=Qt(kn=mn,Nt,$s).call(kn,gn,Nn,Fn);const tn=[];en.paths.push(tn);let rn=bn*(gn[0]-yn),An=bn*(gn[1]-yn);for(let Vn=2,$t=gn.length;Vn<$t;Vn+=6){const hn=bn*(gn[Vn]-yn),_n=bn*(gn[Vn+1]-yn),Tn=bn*(gn[Vn+2]-yn),Dn=bn*(gn[Vn+3]-yn),Cn=bn*(gn[Vn+4]-yn),Lt=bn*(gn[Vn+5]-yn);tn.push([[rn,An],[hn,_n],[Tn,Dn],[Cn,Lt]]),rn=Cn,An=Lt}const Un=Qt(this,Nt,zs).call(this,tn);en.bezierPath2D.push(Un)}const wn=Qt(zn=en,dt,os).call(zn);return sn(en,it,Math.max($.AnnotationEditor.MIN_SIZE,wn[2]-wn[0])),sn(en,rt,Math.max($.AnnotationEditor.MIN_SIZE,wn[3]-wn[1])),Qt($n=en,dt,rs).call($n,Zt,Ut),en}serialize(){if(this.isEmpty())return null;const Rt=this.getRect(0,0),Ot=$.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:j.AnnotationEditorType.INK,color:Ot,thickness:this.thickness,opacity:this.opacity,paths:Qt(this,dt,Bs).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Rt),pageIndex:this.pageIndex,rect:Rt,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};rt=new WeakMap,it=new WeakMap,ht=new WeakMap,ut=new WeakMap,lt=new WeakMap,pt=new WeakMap,vt=new WeakMap,yt=new WeakMap,st=new WeakMap,ot=new WeakMap,mt=new WeakMap,ft=new WeakMap,ct=new WeakMap,xt=new WeakMap,dt=new WeakSet,Ps=function(Rt){const Ot=this.thickness;this.addCommands({cmd:()=>{this.thickness=Rt,Qt(this,dt,sr).call(this)},undo:()=>{this.thickness=Ot,Qt(this,dt,sr).call(this)},mustExec:!0,type:j.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ts=function(Rt){const Ot=this.color;this.addCommands({cmd:()=>{this.color=Rt,Qt(this,dt,Qn).call(this)},undo:()=>{this.color=Ot,Qt(this,dt,Qn).call(this)},mustExec:!0,type:j.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},js=function(Rt){Rt/=100;const Ot=this.opacity;this.addCommands({cmd:()=>{this.opacity=Rt,Qt(this,dt,Qn).call(this)},undo:()=>{this.opacity=Ot,Qt(this,dt,Qn).call(this)},mustExec:!0,type:j.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ms=function(){const{parentRotation:Rt,parentDimensions:[Ot,qt]}=this;switch(Rt){case 90:return[0,qt,qt,Ot];case 180:return[Ot,qt,Ot,qt];case 270:return[Ot,0,qt,Ot];default:return[0,0,Ot,qt]}},es=function(){const{ctx:Rt,color:Ot,opacity:qt,thickness:en,parentScale:dn,scaleFactor:xn}=this;Rt.lineWidth=en*dn/xn,Rt.lineCap="round",Rt.lineJoin="round",Rt.miterLimit=10,Rt.strokeStyle=`${Ot}${(0,nt.opacityToHex)(qt)}`},Ds=function(Rt,Ot){this.canvas.addEventListener("contextmenu",et.noContextMenu),this.canvas.addEventListener("pointerleave",at(this,ut)),this.canvas.addEventListener("pointermove",at(this,ht)),this.canvas.addEventListener("pointerup",at(this,lt)),this.canvas.removeEventListener("pointerdown",at(this,pt)),this.isEditing=!0,at(this,ot)||(sn(this,ot,!0),Qt(this,dt,ir).call(this),this.thickness||(this.thickness=mn._defaultThickness),this.color||(this.color=mn._defaultColor||$.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=mn._defaultOpacity)),this.currentPath.push([Rt,Ot]),sn(this,st,!1),Qt(this,dt,es).call(this),sn(this,xt,()=>{Qt(this,dt,Ls).call(this),at(this,xt)&&window.requestAnimationFrame(at(this,xt))}),window.requestAnimationFrame(at(this,xt))},ts=function(Rt,Ot){const[qt,en]=this.currentPath.at(-1);if(this.currentPath.length>1&&Rt===qt&&Ot===en)return;const dn=this.currentPath;let xn=at(this,vt);if(dn.push([Rt,Ot]),sn(this,st,!0),dn.length<=2){xn.moveTo(...dn[0]),xn.lineTo(Rt,Ot);return}dn.length===3&&(sn(this,vt,xn=new Path2D),xn.moveTo(...dn[0])),Qt(this,dt,Fs).call(this,xn,...dn.at(-3),...dn.at(-2),Rt,Ot)},Is=function(){if(this.currentPath.length===0)return;const Rt=this.currentPath.at(-1);at(this,vt).lineTo(...Rt)},Ns=function(Rt,Ot){sn(this,xt,null),Rt=Math.min(Math.max(Rt,0),this.canvas.width),Ot=Math.min(Math.max(Ot,0),this.canvas.height),Qt(this,dt,ts).call(this,Rt,Ot),Qt(this,dt,Is).call(this);let qt;if(this.currentPath.length!==1)qt=Qt(this,dt,Os).call(this);else{const Ut=[Rt,Ot];qt=[[Ut,Ut.slice(),Ut.slice(),Ut]]}const en=at(this,vt),dn=this.currentPath;this.currentPath=[],sn(this,vt,new Path2D);const xn=()=>{this.allRawPaths.push(dn),this.paths.push(qt),this.bezierPath2D.push(en),this.rebuild()},Zt=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Qt(this,dt,_r).call(this),Qt(this,dt,Sr).call(this)),Qt(this,dt,sr).call(this))};this.addCommands({cmd:xn,undo:Zt,mustExec:!0})},Ls=function(){if(!at(this,st))return;sn(this,st,!1);const Rt=Math.ceil(this.thickness*this.parentScale),Ot=this.currentPath.slice(-3),qt=Ot.map(xn=>xn[0]),en=Ot.map(xn=>xn[1]);Math.min(...qt)-Rt,Math.max(...qt)+Rt,Math.min(...en)-Rt,Math.max(...en)+Rt;const{ctx:dn}=this;dn.save(),dn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const xn of this.bezierPath2D)dn.stroke(xn);dn.stroke(at(this,vt)),dn.restore()},Fs=function(Rt,Ot,qt,en,dn,xn,Zt){const Ut=(Ot+en)/2,bn=(qt+dn)/2,yn=(en+xn)/2,In=(dn+Zt)/2;Rt.bezierCurveTo(Ut+2*(en-Ut)/3,bn+2*(dn-bn)/3,yn+2*(en-yn)/3,In+2*(dn-In)/3,yn,In)},Os=function(){const Rt=this.currentPath;if(Rt.length<=2)return[[Rt[0],Rt[0],Rt.at(-1),Rt.at(-1)]];const Ot=[];let qt,[en,dn]=Rt[0];for(qt=1;qt<Rt.length-2;qt++){const[Nn,Fn]=Rt[qt],[wn,kn]=Rt[qt+1],zn=(Nn+wn)/2,$n=(Fn+kn)/2,gn=[en+2*(Nn-en)/3,dn+2*(Fn-dn)/3],tn=[zn+2*(Nn-zn)/3,$n+2*(Fn-$n)/3];Ot.push([[en,dn],gn,tn,[zn,$n]]),[en,dn]=[zn,$n]}const[xn,Zt]=Rt[qt],[Ut,bn]=Rt[qt+1],yn=[en+2*(xn-en)/3,dn+2*(Zt-dn)/3],In=[Ut+2*(xn-Ut)/3,bn+2*(Zt-bn)/3];return Ot.push([[en,dn],yn,In,[Ut,bn]]),Ot},Qn=function(){if(this.isEmpty()){Qt(this,dt,Ar).call(this);return}Qt(this,dt,es).call(this);const{canvas:Rt,ctx:Ot}=this;Ot.setTransform(1,0,0,1,0,0),Ot.clearRect(0,0,Rt.width,Rt.height),Qt(this,dt,Ar).call(this);for(const qt of this.bezierPath2D)Ot.stroke(qt)},ns=function(Rt){this.canvas.removeEventListener("pointerleave",at(this,ut)),this.canvas.removeEventListener("pointermove",at(this,ht)),this.canvas.removeEventListener("pointerup",at(this,lt)),this.canvas.addEventListener("pointerdown",at(this,pt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",et.noContextMenu)},10),Qt(this,dt,Ns).call(this,Rt.offsetX,Rt.offsetY),this.addToAnnotationStorage(),this.setInBackground()},_r=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",$.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(Rt=>{var Ot;return(Ot=this.canvas)==null?void 0:Ot.setAttribute("aria-label",Rt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Sr=function(){sn(this,mt,new ResizeObserver(Rt=>{const Ot=Rt[0].contentRect;Ot.width&&Ot.height&&this.setDimensions(Ot.width,Ot.height)})),at(this,mt).observe(this.div)},ir=function(){if(!at(this,ot))return;const[Rt,Ot]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Rt),this.canvas.height=Math.ceil(this.height*Ot),Qt(this,dt,Ar).call(this)},rs=function(Rt,Ot){const qt=Qt(this,dt,wr).call(this),en=(Rt-qt)/at(this,it),dn=(Ot-qt)/at(this,rt);this.scaleFactor=Math.min(en,dn)},Ar=function(){const Rt=Qt(this,dt,wr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Rt,this.translationY*this.scaleFactor+Rt)},Nt=new WeakSet,zs=function(Rt){const Ot=new Path2D;for(let qt=0,en=Rt.length;qt<en;qt++){const[dn,xn,Zt,Ut]=Rt[qt];qt===0&&Ot.moveTo(...dn),Ot.bezierCurveTo(xn[0],xn[1],Zt[0],Zt[1],Ut[0],Ut[1])}return Ot},ss=function(Rt,Ot,qt){const[en,dn,xn,Zt]=Ot;switch(qt){case 0:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2)Rt[Ut]+=en,Rt[Ut+1]=Zt-Rt[Ut+1];break;case 90:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2){const yn=Rt[Ut];Rt[Ut]=Rt[Ut+1]+en,Rt[Ut+1]=yn+dn}break;case 180:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2)Rt[Ut]=xn-Rt[Ut],Rt[Ut+1]+=dn;break;case 270:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2){const yn=Rt[Ut];Rt[Ut]=xn-Rt[Ut+1],Rt[Ut+1]=Zt-yn}break;default:throw new Error("Invalid rotation")}return Rt},$s=function(Rt,Ot,qt){const[en,dn,xn,Zt]=Ot;switch(qt){case 0:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2)Rt[Ut]-=en,Rt[Ut+1]=Zt-Rt[Ut+1];break;case 90:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2){const yn=Rt[Ut];Rt[Ut]=Rt[Ut+1]-dn,Rt[Ut+1]=yn-en}break;case 180:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2)Rt[Ut]=xn-Rt[Ut],Rt[Ut+1]-=dn;break;case 270:for(let Ut=0,bn=Rt.length;Ut<bn;Ut+=2){const yn=Rt[Ut];Rt[Ut]=Zt-Rt[Ut+1],Rt[Ut+1]=xn-yn}break;default:throw new Error("Invalid rotation")}return Rt},Bs=function(Rt,Ot,qt,en){var bn,yn;const dn=[],xn=this.thickness/2,Zt=Rt*Ot+xn,Ut=Rt*qt+xn;for(const In of this.paths){const Nn=[],Fn=[];for(let wn=0,kn=In.length;wn<kn;wn++){const[zn,$n,gn,tn]=In[wn],rn=Rt*zn[0]+Zt,An=Rt*zn[1]+Ut,Un=Rt*$n[0]+Zt,Vn=Rt*$n[1]+Ut,$t=Rt*gn[0]+Zt,hn=Rt*gn[1]+Ut,_n=Rt*tn[0]+Zt,Tn=Rt*tn[1]+Ut;wn===0&&(Nn.push(rn,An),Fn.push(rn,An)),Nn.push(Un,Vn,$t,hn,_n,Tn),Fn.push(Un,Vn),wn===kn-1&&Fn.push(_n,Tn)}dn.push({bezier:Qt(bn=mn,Nt,ss).call(bn,Nn,en,this.rotation),points:Qt(yn=mn,Nt,ss).call(yn,Fn,en,this.rotation)})}return dn},os=function(){let Rt=1/0,Ot=-1/0,qt=1/0,en=-1/0;for(const dn of this.paths)for(const[xn,Zt,Ut,bn]of dn){const yn=j.Util.bezierBoundingBox(...xn,...Zt,...Ut,...bn);Rt=Math.min(Rt,yn[0]),qt=Math.min(qt,yn[1]),Ot=Math.max(Ot,yn[2]),en=Math.max(en,yn[3])}return[Rt,qt,Ot,en]},wr=function(){return at(this,yt)?Math.ceil(this.thickness*this.parentScale):0},sr=function(Rt=!1){if(this.isEmpty())return;if(!at(this,yt)){Qt(this,dt,Qn).call(this);return}const Ot=Qt(this,dt,os).call(this),qt=Qt(this,dt,wr).call(this);sn(this,it,Math.max($.AnnotationEditor.MIN_SIZE,Ot[2]-Ot[0])),sn(this,rt,Math.max($.AnnotationEditor.MIN_SIZE,Ot[3]-Ot[1]));const en=Math.ceil(qt+at(this,it)*this.scaleFactor),dn=Math.ceil(qt+at(this,rt)*this.scaleFactor),[xn,Zt]=this.parentDimensions;this.width=en/xn,this.height=dn/Zt,this.setAspectRatio(en,dn);const Ut=this.translationX,bn=this.translationY;this.translationX=-Ot[0],this.translationY=-Ot[1],Qt(this,dt,ir).call(this),Qt(this,dt,Qn).call(this),sn(this,ft,en),sn(this,ct,dn),this.setDims(en,dn);const yn=Rt?qt/this.scaleFactor/2:0;this.translate(Ut-this.translationX-yn,bn-this.translationY-yn)},nn(mn,Nt),Gn(mn,"_defaultColor",null),Gn(mn,"_defaultOpacity",1),Gn(mn,"_defaultThickness",1),Gn(mn,"_type","ink");let tt=mn;b.InkEditor=tt},(g,b,_)=>{var tt,rt,it,ht,ut,lt,pt,vt,yt,st,ot,pr,hr,Cr,as,Us,Vs,ls,kr,Ws;Object.defineProperty(b,"__esModule",{value:!0}),b.StampEditor=void 0;var j=_(1),$=_(4),_e=_(6),et=_(29);const wt=class wt extends $.AnnotationEditor{constructor(Bt){super({...Bt,name:"stampEditor"});nn(this,ot);nn(this,tt,null);nn(this,rt,null);nn(this,it,null);nn(this,ht,null);nn(this,ut,null);nn(this,lt,null);nn(this,pt,null);nn(this,vt,null);nn(this,yt,!1);nn(this,st,!1);sn(this,ht,Bt.bitmapUrl),sn(this,ut,Bt.bitmapFile)}static initialize(Bt){$.AnnotationEditor.initialize(Bt)}static get supportedTypes(){const Bt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,j.shadow)(this,"supportedTypes",Bt.map(Wt=>`image/${Wt}`))}static get supportedTypesStr(){return(0,j.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Bt){return this.supportedTypes.includes(Bt)}static paste(Bt,Wt){Wt.pasteEditor(j.AnnotationEditorType.STAMP,{bitmapFile:Bt.getAsFile()})}remove(){var Bt,Wt;at(this,rt)&&(sn(this,tt,null),this._uiManager.imageManager.deleteId(at(this,rt)),(Bt=at(this,lt))==null||Bt.remove(),sn(this,lt,null),(Wt=at(this,pt))==null||Wt.disconnect(),sn(this,pt,null)),super.remove()}rebuild(){if(!this.parent){at(this,rt)&&Qt(this,ot,Cr).call(this);return}super.rebuild(),this.div!==null&&(at(this,rt)&&Qt(this,ot,Cr).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(at(this,it)||at(this,tt)||at(this,ht)||at(this,ut))}get isResizable(){return!0}render(){if(this.div)return this.div;let Bt,Wt;if(this.width&&(Bt=this.x,Wt=this.y),super.render(),this.div.hidden=!0,at(this,tt)?Qt(this,ot,as).call(this):Qt(this,ot,Cr).call(this),this.width){const[Dt,It]=this.parentDimensions;this.setAt(Bt*Dt,Wt*It,this.width*Dt,this.height*It)}return this.div}static deserialize(Bt,Wt,Dt){if(Bt instanceof et.StampAnnotationElement)return null;const It=super.deserialize(Bt,Wt,Dt),{rect:At,bitmapUrl:Ft,bitmapId:Vt,isSvg:Pt,accessibilityData:Et}=Bt;Vt&&Dt.imageManager.isValidId(Vt)?sn(It,rt,Vt):sn(It,ht,Ft),sn(It,yt,Pt);const[_t,Ct]=It.pageDimensions;return It.width=(At[2]-At[0])/_t,It.height=(At[3]-At[1])/Ct,Et&&(It.altTextData=Et),It}serialize(Bt=!1,Wt=null){if(this.isEmpty())return null;const Dt={annotationType:j.AnnotationEditorType.STAMP,bitmapId:at(this,rt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:at(this,yt),structTreeParentId:this._structTreeParentId};if(Bt)return Dt.bitmapUrl=Qt(this,ot,kr).call(this,!0),Dt.accessibilityData=this.altTextData,Dt;const{decorative:It,altText:At}=this.altTextData;if(!It&&At&&(Dt.accessibilityData={type:"Figure",alt:At}),Wt===null)return Dt;Wt.stamps||(Wt.stamps=new Map);const Ft=at(this,yt)?(Dt.rect[2]-Dt.rect[0])*(Dt.rect[3]-Dt.rect[1]):null;if(!Wt.stamps.has(at(this,rt)))Wt.stamps.set(at(this,rt),{area:Ft,serialized:Dt}),Dt.bitmap=Qt(this,ot,kr).call(this,!1);else if(at(this,yt)){const Vt=Wt.stamps.get(at(this,rt));Ft>Vt.area&&(Vt.area=Ft,Vt.serialized.bitmap.close(),Vt.serialized.bitmap=Qt(this,ot,kr).call(this,!1))}return Dt}};tt=new WeakMap,rt=new WeakMap,it=new WeakMap,ht=new WeakMap,ut=new WeakMap,lt=new WeakMap,pt=new WeakMap,vt=new WeakMap,yt=new WeakMap,st=new WeakMap,ot=new WeakSet,pr=function(Bt,Wt=!1){if(!Bt){this.remove();return}sn(this,tt,Bt.bitmap),Wt||(sn(this,rt,Bt.id),sn(this,yt,Bt.isSvg)),Qt(this,ot,as).call(this)},hr=function(){sn(this,it,null),this._uiManager.enableWaiting(!1),at(this,lt)&&this.div.focus()},Cr=function(){if(at(this,rt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(at(this,rt)).then(Wt=>Qt(this,ot,pr).call(this,Wt,!0)).finally(()=>Qt(this,ot,hr).call(this));return}if(at(this,ht)){const Wt=at(this,ht);sn(this,ht,null),this._uiManager.enableWaiting(!0),sn(this,it,this._uiManager.imageManager.getFromUrl(Wt).then(Dt=>Qt(this,ot,pr).call(this,Dt)).finally(()=>Qt(this,ot,hr).call(this)));return}if(at(this,ut)){const Wt=at(this,ut);sn(this,ut,null),this._uiManager.enableWaiting(!0),sn(this,it,this._uiManager.imageManager.getFromFile(Wt).then(Dt=>Qt(this,ot,pr).call(this,Dt)).finally(()=>Qt(this,ot,hr).call(this)));return}const Bt=document.createElement("input");Bt.type="file",Bt.accept=wt.supportedTypesStr,sn(this,it,new Promise(Wt=>{Bt.addEventListener("change",async()=>{if(!Bt.files||Bt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Dt=await this._uiManager.imageManager.getFromFile(Bt.files[0]);Qt(this,ot,pr).call(this,Dt)}Wt()}),Bt.addEventListener("cancel",()=>{this.remove(),Wt()})}).finally(()=>Qt(this,ot,hr).call(this))),Bt.click()},as=function(){const{div:Bt}=this;let{width:Wt,height:Dt}=at(this,tt);const[It,At]=this.pageDimensions,Ft=.75;if(this.width)Wt=this.width*It,Dt=this.height*At;else if(Wt>Ft*It||Dt>Ft*At){const _t=Math.min(Ft*It/Wt,Ft*At/Dt);Wt*=_t,Dt*=_t}const[Vt,Pt]=this.parentDimensions;this.setDims(Wt*Vt/It,Dt*Pt/At),this._uiManager.enableWaiting(!1);const Et=sn(this,lt,document.createElement("canvas"));Bt.append(Et),Bt.hidden=!1,Qt(this,ot,ls).call(this,Wt,Dt),Qt(this,ot,Ws).call(this),at(this,st)||(this.parent.addUndoableEditor(this),sn(this,st,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Us=function(Bt,Wt){var Ft;const[Dt,It]=this.parentDimensions;this.width=Bt/Dt,this.height=Wt/It,this.setDims(Bt,Wt),(Ft=this._initialOptions)!=null&&Ft.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,at(this,vt)!==null&&clearTimeout(at(this,vt)),sn(this,vt,setTimeout(()=>{sn(this,vt,null),Qt(this,ot,ls).call(this,Bt,Wt)},200))},Vs=function(Bt,Wt){const{width:Dt,height:It}=at(this,tt);let At=Dt,Ft=It,Vt=at(this,tt);for(;At>2*Bt||Ft>2*Wt;){const Pt=At,Et=Ft;At>2*Bt&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2)),Ft>2*Wt&&(Ft=Ft>=16384?Math.floor(Ft/2)-1:Math.ceil(Ft/2));const _t=new OffscreenCanvas(At,Ft);_t.getContext("2d").drawImage(Vt,0,0,Pt,Et,0,0,At,Ft),Vt=_t.transferToImageBitmap()}return Vt},ls=function(Bt,Wt){Bt=Math.ceil(Bt),Wt=Math.ceil(Wt);const Dt=at(this,lt);if(!Dt||Dt.width===Bt&&Dt.height===Wt)return;Dt.width=Bt,Dt.height=Wt;const It=at(this,yt)?at(this,tt):Qt(this,ot,Vs).call(this,Bt,Wt),At=Dt.getContext("2d");At.filter=this._uiManager.hcmFilter,At.drawImage(It,0,0,It.width,It.height,0,0,Bt,Wt)},kr=function(Bt){if(Bt){if(at(this,yt)){const It=this._uiManager.imageManager.getSvgUrl(at(this,rt));if(It)return It}const Wt=document.createElement("canvas");return{width:Wt.width,height:Wt.height}=at(this,tt),Wt.getContext("2d").drawImage(at(this,tt),0,0),Wt.toDataURL()}if(at(this,yt)){const[Wt,Dt]=this.pageDimensions,It=Math.round(this.width*Wt*_e.PixelsPerInch.PDF_TO_CSS_UNITS),At=Math.round(this.height*Dt*_e.PixelsPerInch.PDF_TO_CSS_UNITS),Ft=new OffscreenCanvas(It,At);return Ft.getContext("2d").drawImage(at(this,tt),0,0,at(this,tt).width,at(this,tt).height,0,0,It,At),Ft.transferToImageBitmap()}return structuredClone(at(this,tt))},Ws=function(){sn(this,pt,new ResizeObserver(Bt=>{const Wt=Bt[0].contentRect;Wt.width&&Wt.height&&Qt(this,ot,Us).call(this,Wt.width,Wt.height)})),at(this,pt).observe(this.div)},Gn(wt,"_type","stamp");let nt=wt;b.StampEditor=nt}],__webpack_module_cache__={};function __w_pdfjs_require__(g){var b=__webpack_module_cache__[g];if(b!==void 0)return b.exports;var _=__webpack_module_cache__[g]={exports:{}};return __webpack_modules__[g](_,_.exports,__w_pdfjs_require__),_.exports}var __webpack_exports__={};return(()=>{var g=__webpack_exports__;Object.defineProperty(g,"__esModule",{value:!0}),Object.defineProperty(g,"AbortException",{enumerable:!0,get:function(){return b.AbortException}}),Object.defineProperty(g,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _e.AnnotationEditorLayer}}),Object.defineProperty(g,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return b.AnnotationEditorParamsType}}),Object.defineProperty(g,"AnnotationEditorType",{enumerable:!0,get:function(){return b.AnnotationEditorType}}),Object.defineProperty(g,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return et.AnnotationEditorUIManager}}),Object.defineProperty(g,"AnnotationLayer",{enumerable:!0,get:function(){return nt.AnnotationLayer}}),Object.defineProperty(g,"AnnotationMode",{enumerable:!0,get:function(){return b.AnnotationMode}}),Object.defineProperty(g,"CMapCompressionType",{enumerable:!0,get:function(){return b.CMapCompressionType}}),Object.defineProperty(g,"DOMSVGFactory",{enumerable:!0,get:function(){return j.DOMSVGFactory}}),Object.defineProperty(g,"FeatureTest",{enumerable:!0,get:function(){return b.FeatureTest}}),Object.defineProperty(g,"GlobalWorkerOptions",{enumerable:!0,get:function(){return tt.GlobalWorkerOptions}}),Object.defineProperty(g,"ImageKind",{enumerable:!0,get:function(){return b.ImageKind}}),Object.defineProperty(g,"InvalidPDFException",{enumerable:!0,get:function(){return b.InvalidPDFException}}),Object.defineProperty(g,"MissingPDFException",{enumerable:!0,get:function(){return b.MissingPDFException}}),Object.defineProperty(g,"OPS",{enumerable:!0,get:function(){return b.OPS}}),Object.defineProperty(g,"PDFDataRangeTransport",{enumerable:!0,get:function(){return _.PDFDataRangeTransport}}),Object.defineProperty(g,"PDFDateString",{enumerable:!0,get:function(){return j.PDFDateString}}),Object.defineProperty(g,"PDFWorker",{enumerable:!0,get:function(){return _.PDFWorker}}),Object.defineProperty(g,"PasswordResponses",{enumerable:!0,get:function(){return b.PasswordResponses}}),Object.defineProperty(g,"PermissionFlag",{enumerable:!0,get:function(){return b.PermissionFlag}}),Object.defineProperty(g,"PixelsPerInch",{enumerable:!0,get:function(){return j.PixelsPerInch}}),Object.defineProperty(g,"PromiseCapability",{enumerable:!0,get:function(){return b.PromiseCapability}}),Object.defineProperty(g,"RenderingCancelledException",{enumerable:!0,get:function(){return j.RenderingCancelledException}}),Object.defineProperty(g,"SVGGraphics",{enumerable:!0,get:function(){return _.SVGGraphics}}),Object.defineProperty(g,"UnexpectedResponseException",{enumerable:!0,get:function(){return b.UnexpectedResponseException}}),Object.defineProperty(g,"Util",{enumerable:!0,get:function(){return b.Util}}),Object.defineProperty(g,"VerbosityLevel",{enumerable:!0,get:function(){return b.VerbosityLevel}}),Object.defineProperty(g,"XfaLayer",{enumerable:!0,get:function(){return rt.XfaLayer}}),Object.defineProperty(g,"build",{enumerable:!0,get:function(){return _.build}}),Object.defineProperty(g,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return b.createValidAbsoluteUrl}}),Object.defineProperty(g,"getDocument",{enumerable:!0,get:function(){return _.getDocument}}),Object.defineProperty(g,"getFilenameFromUrl",{enumerable:!0,get:function(){return j.getFilenameFromUrl}}),Object.defineProperty(g,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return j.getPdfFilenameFromUrl}}),Object.defineProperty(g,"getXfaPageViewport",{enumerable:!0,get:function(){return j.getXfaPageViewport}}),Object.defineProperty(g,"isDataScheme",{enumerable:!0,get:function(){return j.isDataScheme}}),Object.defineProperty(g,"isPdfFile",{enumerable:!0,get:function(){return j.isPdfFile}}),Object.defineProperty(g,"loadScript",{enumerable:!0,get:function(){return j.loadScript}}),Object.defineProperty(g,"noContextMenu",{enumerable:!0,get:function(){return j.noContextMenu}}),Object.defineProperty(g,"normalizeUnicode",{enumerable:!0,get:function(){return b.normalizeUnicode}}),Object.defineProperty(g,"renderTextLayer",{enumerable:!0,get:function(){return $.renderTextLayer}}),Object.defineProperty(g,"setLayerDimensions",{enumerable:!0,get:function(){return j.setLayerDimensions}}),Object.defineProperty(g,"shadow",{enumerable:!0,get:function(){return b.shadow}}),Object.defineProperty(g,"updateTextLayer",{enumerable:!0,get:function(){return $.updateTextLayer}}),Object.defineProperty(g,"version",{enumerable:!0,get:function(){return _.version}});var b=__w_pdfjs_require__(1),_=__w_pdfjs_require__(2),j=__w_pdfjs_require__(6),$=__w_pdfjs_require__(26),_e=__w_pdfjs_require__(27),et=__w_pdfjs_require__(5),nt=__w_pdfjs_require__(29),tt=__w_pdfjs_require__(14),rt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjs=pdf;var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function g(j,$,_e,et,nt,tt){if(tt!==ReactPropTypesSecret){var rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw rt.name="Invariant Violation",rt}}g.isRequired=g;function b(){return g}var _={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:b,element:g,elementType:g,instanceOf:b,node:g,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _.PropTypes=_,_};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var __spreadArray=function(g,b,_){if(_||arguments.length===2)for(var j=0,$=b.length,_e;j<$;j++)(_e||!(j in b))&&(_e||(_e=Array.prototype.slice.call(b,0,j)),_e[j]=b[j]);return g.concat(_e||Array.prototype.slice.call(b))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(g,b){var _={};return allEvents.forEach(function(j){var $=g[j];$&&(b?_[j]=function(_e){return $(_e,b(j))}:_[j]=$)}),_}function makeCancellablePromise(g){var b=!1,_=new Promise(function(j,$){g.then(function(_e){return!b&&j(_e)}).catch(function(_e){return!b&&$(_e)})});return{promise:_,cancel:function(){b=!0}}}var prefix="Invariant failed";function invariant(g,b){if(!g)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(g,b,_){for(_ of g.keys())if(dequal(_,b))return _}function dequal(g,b){var _,j,$;if(g===b)return!0;if(g&&b&&(_=g.constructor)===b.constructor){if(_===Date)return g.getTime()===b.getTime();if(_===RegExp)return g.toString()===b.toString();if(_===Array){if((j=g.length)===b.length)for(;j--&&dequal(g[j],b[j]););return j===-1}if(_===Set){if(g.size!==b.size)return!1;for(j of g)if($=j,$&&typeof $=="object"&&($=find(b,$),!$)||!b.has($))return!1;return!0}if(_===Map){if(g.size!==b.size)return!1;for(j of g)if($=j[0],$&&typeof $=="object"&&($=find(b,$),!$)||!dequal(j[1],b.get($)))return!1;return!0}if(_===ArrayBuffer)g=new Uint8Array(g),b=new Uint8Array(b);else if(_===DataView){if((j=g.byteLength)===b.byteLength)for(;j--&&g.getInt8(j)===b.getInt8(j););return j===-1}if(ArrayBuffer.isView(g)){if((j=g.byteLength)===b.byteLength)for(;j--&&g[j]===b[j];);return j===-1}if(!_||typeof g=="object"){j=0;for(_ in g)if(has.call(g,_)&&++j&&!has.call(b,_)||!(_ in b)||!dequal(g[_],b[_]))return!1;return Object.keys(b).length===j}}return g!==g&&b!==b}const DocumentContext=reactExports.createContext(null);function Message({children:g,type:b}){return React$2.createElement("div",{className:`react-pdf__message react-pdf__message--${b}`},g)}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(b){this.pdfDocument=b}setViewer(b){this.pdfViewer=b}setExternalLinkRel(b){this.externalLinkRel=b}setExternalLinkTarget(b){this.externalLinkTarget=b}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(b){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=b}get rotation(){return 0}set rotation(b){}goToDestination(b){return new Promise(_=>{invariant(this.pdfDocument),invariant(b),typeof b=="string"?this.pdfDocument.getDestination(b).then(_):Array.isArray(b)?_(b):b.then(_)}).then(_=>{invariant(Array.isArray(_));const j=_[0];new Promise($=>{invariant(this.pdfDocument),j instanceof Object?this.pdfDocument.getPageIndex(j).then(_e=>{$(_e)}).catch(()=>{invariant(!1)}):typeof j=="number"?$(j):invariant(!1)}).then($=>{const _e=$+1;invariant(this.pdfViewer),invariant(_e>=1&&_e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:_,pageIndex:$,pageNumber:_e})})})}navigateTo(b){this.goToDestination(b)}goToPage(b){const _=b-1;invariant(this.pdfViewer),invariant(b>=1&&b<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:_,pageNumber:b})}addLinkAttributes(b,_,j){b.href=_,b.rel=this.externalLinkRel||DEFAULT_LINK_REL,b.target=j?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined$1(g){return typeof g<"u"}function isProvided(g){return isDefined$1(g)&&g!==null}function isString(g){return typeof g=="string"}function isArrayBuffer(g){return g instanceof ArrayBuffer}function isBlob(g){return invariant(isBrowser),g instanceof Blob}function isDataURI(g){return isString(g)&&/^data:/.test(g)}function dataURItoByteString(g){invariant(isDataURI(g));const[b="",_=""]=g.split(",");return b.split(";").indexOf("base64")!==-1?atob(_):unescape(_)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(g){g&&g.cancel&&g.cancel()}function makePageCallback(g,b){return Object.defineProperty(g,"width",{get(){return this.view[2]*b},configurable:!0}),Object.defineProperty(g,"height",{get(){return this.view[3]*b},configurable:!0}),Object.defineProperty(g,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(g,"originalHeight",{get(){return this.view[3]},configurable:!0}),g}function isCancelException(g){return g.name==="RenderingCancelledException"}function loadFromFile(g){return new Promise((b,_)=>{const j=new FileReader;j.onload=()=>{if(!j.result)return _(new Error("Error while reading a file."));b(j.result)},j.onerror=$=>{if(!$.target)return _(new Error("Error while reading a file."));const{error:_e}=$.target;if(!_e)return _(new Error("Error while reading a file."));switch(_e.code){case _e.NOT_FOUND_ERR:return _(new Error("Error while reading a file: File not found."));case _e.SECURITY_ERR:return _(new Error("Error while reading a file: Security error."));case _e.ABORT_ERR:return _(new Error("Error while reading a file: Aborted."));default:return _(new Error("Error while reading a file."))}},j.readAsArrayBuffer(g)})}function reducer$1(g,b){switch(b.type){case"RESOLVE":return{value:b.value,error:void 0};case"REJECT":return{value:!1,error:b.error};case"RESET":return{value:void 0,error:void 0};default:return g}}function useResolver(){return reactExports.useReducer(reducer$1,{value:void 0,error:void 0})}const{PDFDataRangeTransport:PDFDataRangeTransport$1}=pdfjs,eventProps=(()=>{const g={};return allEvents.forEach(b=>{g[b]=PropTypes.func}),g})(),isTypedArray=PropTypes.oneOfType([PropTypes.instanceOf(Int8Array),PropTypes.instanceOf(Uint8Array),PropTypes.instanceOf(Uint8ClampedArray),PropTypes.instanceOf(Int16Array),PropTypes.instanceOf(Uint16Array),PropTypes.instanceOf(Int32Array),PropTypes.instanceOf(Uint32Array),PropTypes.instanceOf(Float32Array),PropTypes.instanceOf(Float64Array)]),fileTypes=[PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.shape({data:PropTypes.oneOfType([PropTypes.string,PropTypes.instanceOf(ArrayBuffer),PropTypes.arrayOf(PropTypes.number.isRequired),isTypedArray]).isRequired}),PropTypes.shape({range:PropTypes.instanceOf(PDFDataRangeTransport$1).isRequired}),PropTypes.shape({url:PropTypes.string.isRequired})];typeof Blob<"u"&&fileTypes.push(PropTypes.instanceOf(Blob));const isClassName=PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),isFile=PropTypes.oneOfType(fileTypes);PropTypes.instanceOf(LinkService);PropTypes.oneOf(["_self","_blank","_parent","_top"]);PropTypes.shape({commonObjs:PropTypes.shape({}).isRequired,getAnnotations:PropTypes.func.isRequired,getTextContent:PropTypes.func.isRequired,getViewport:PropTypes.func.isRequired,render:PropTypes.func.isRequired});const isPageIndex=function g(b,_,j){const{[_]:$,pageNumber:_e,pdf:et}=b;if(!isDefined$1(et))return null;if(isDefined$1($)){if(typeof $!="number")return new Error(`\`${_}\` of type \`${typeof $}\` supplied to \`${j}\`, expected \`number\`.`);if($<0)return new Error(`Expected \`${_}\` to be greater or equal to 0.`);const{numPages:nt}=et;if($+1>nt)return new Error(`Expected \`${_}\` to be less or equal to ${nt-1}.`)}else if(!isDefined$1(_e))return new Error(`\`${_}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${j}\`.`);return null},isPageNumber=function g(b,_,j){const{[_]:$,pageIndex:_e,pdf:et}=b;if(!isDefined$1(et))return null;if(isDefined$1($)){if(typeof $!="number")return new Error(`\`${_}\` of type \`${typeof $}\` supplied to \`${j}\`, expected \`number\`.`);if($<1)return new Error(`Expected \`${_}\` to be greater or equal to 1.`);const{numPages:nt}=et;if($>nt)return new Error(`Expected \`${_}\` to be less or equal to ${nt}.`)}else if(!isDefined$1(_e))return new Error(`\`${_}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${j}\`.`);return null},isPdf=PropTypes.oneOfType([PropTypes.any,PropTypes.oneOf([!1])]),isRef=PropTypes.oneOfType([PropTypes.func,PropTypes.exact({current:PropTypes.any})]),isRenderMode=PropTypes.oneOf(["canvas","custom","none","svg"]),isRotate=PropTypes.oneOf([0,90,180,270]);var __awaiter$1=function(g,b,_,j){function $(_e){return _e instanceof _?_e:new _(function(et){et(_e)})}return new(_||(_=Promise))(function(_e,et){function nt(it){try{rt(j.next(it))}catch(ht){et(ht)}}function tt(it){try{rt(j.throw(it))}catch(ht){et(ht)}}function rt(it){it.done?_e(it.value):$(it.value).then(nt,tt)}rt((j=j.apply(g,b||[])).next())})},__rest$1=function(g,b){var _={};for(var j in g)Object.prototype.hasOwnProperty.call(g,j)&&b.indexOf(j)<0&&(_[j]=g[j]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,j=Object.getOwnPropertySymbols(g);$<j.length;$++)b.indexOf(j[$])<0&&Object.prototype.propertyIsEnumerable.call(g,j[$])&&(_[j[$]]=g[j[$]]);return _};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(g,b)=>{switch(b){case PasswordResponses.NEED_PASSWORD:{const _=prompt("Enter the password to open this PDF file.");g(_);break}case PasswordResponses.INCORRECT_PASSWORD:{const _=prompt("Invalid password. Please try again.");g(_);break}}};function isParameterObject(g){return typeof g=="object"&&g!==null&&("data"in g||"range"in g||"url"in g)}const Document=reactExports.forwardRef(function g(b,_){var{children:j,className:$,error:_e="Failed to load PDF file.",externalLinkRel:et,externalLinkTarget:nt,file:tt,inputRef:rt,imageResourcesPath:it,loading:ht="Loading PDF…",noData:ut="No PDF file specified.",onItemClick:lt,onLoadError:pt,onLoadProgress:vt,onLoadSuccess:yt,onPassword:st=defaultOnPassword,onSourceError:ot,onSourceSuccess:mt,options:ft,renderMode:ct,rotate:xt}=b,dt=__rest$1(b,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[gt,St]=useResolver(),{value:kt,error:bt}=gt,[wt,Tt]=useResolver(),{value:Ht,error:Bt}=wt,Wt=reactExports.useRef(new LinkService),Dt=reactExports.useRef([]),It=reactExports.useRef(),At=reactExports.useRef();reactExports.useEffect(()=>{tt&&tt!==It.current&&isParameterObject(tt)&&(warning$1(!dequal(tt,It.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),It.current=tt)},[tt]),reactExports.useEffect(()=>{ft&&ft!==At.current&&(warning$1(!dequal(ft,At.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),At.current=ft)},[ft]);const Ft=reactExports.useRef({scrollPageIntoView:Yt=>{const{dest:Kt,pageNumber:Rt,pageIndex:Ot=Rt-1}=Yt;if(lt){lt({dest:Kt,pageIndex:Ot,pageNumber:Rt});return}const qt=Dt.current[Ot];if(qt){qt.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${Rt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(_,()=>({linkService:Wt,pages:Dt,viewer:Ft}),[]);function Vt(){mt&&mt()}function Pt(){bt&&(warning$1(!1,bt.toString()),ot&&ot(bt))}function Et(){St({type:"RESET"})}reactExports.useEffect(Et,[tt,St]);const _t=reactExports.useCallback(()=>__awaiter$1(this,void 0,void 0,function*(){if(!tt)return null;if(typeof tt=="string")return isDataURI(tt)?{data:dataURItoByteString(tt)}:(displayCORSWarning(),{url:tt});if(tt instanceof PDFDataRangeTransport)return{range:tt};if(isArrayBuffer(tt))return{data:tt};if(isBrowser&&isBlob(tt))return{data:yield loadFromFile(tt)};if(invariant(typeof tt=="object"),invariant(isParameterObject(tt)),"url"in tt&&typeof tt.url=="string"){if(isDataURI(tt.url)){const{url:Yt}=tt,Kt=__rest$1(tt,["url"]),Rt=dataURItoByteString(Yt);return Object.assign({data:Rt},Kt)}displayCORSWarning()}return tt}),[tt]);reactExports.useEffect(()=>{const Yt=makeCancellablePromise(_t());return Yt.promise.then(Kt=>{St({type:"RESOLVE",value:Kt})}).catch(Kt=>{St({type:"REJECT",error:Kt})}),()=>{cancelRunningTask(Yt)}},[_t,St]),reactExports.useEffect(()=>{if(!(typeof kt>"u")){if(kt===!1){Pt();return}Vt()}},[kt]);function Ct(){Ht&&(yt&&yt(Ht),Dt.current=new Array(Ht.numPages),Wt.current.setDocument(Ht))}function Mt(){Bt&&(warning$1(!1,Bt.toString()),pt&&pt(Bt))}function Nt(){Tt({type:"RESET"})}reactExports.useEffect(Nt,[Tt,kt]);function zt(){if(!kt)return;const Yt=Object.assign(Object.assign({},ft),{isEvalSupported:!1}),Kt=Object.assign(Object.assign({},kt),Yt),Rt=pdfjs.getDocument(Kt);vt&&(Rt.onProgress=vt),st&&(Rt.onPassword=st);const Ot=Rt;return Ot.promise.then(qt=>{Tt({type:"RESOLVE",value:qt})}).catch(qt=>{Ot.destroyed||Tt({type:"REJECT",error:qt})}),()=>{Ot.destroy()}}reactExports.useEffect(zt,[ft,Tt,kt]),reactExports.useEffect(()=>{if(!(typeof Ht>"u")){if(Ht===!1){Mt();return}Ct()}},[Ht]);function Xt(){Wt.current.setViewer(Ft.current),Wt.current.setExternalLinkRel(et),Wt.current.setExternalLinkTarget(nt)}reactExports.useEffect(Xt,[et,nt]);function Jt(Yt,Kt){Dt.current[Yt]=Kt}function on(Yt){delete Dt.current[Yt]}const ln=reactExports.useMemo(()=>({imageResourcesPath:it,linkService:Wt.current,onItemClick:lt,pdf:Ht,registerPage:Jt,renderMode:ct,rotate:xt,unregisterPage:on}),[it,lt,Ht,ct,xt]),fn=reactExports.useMemo(()=>makeEventProps(dt,()=>Ht),[dt,Ht]);function pn(){return React$2.createElement(DocumentContext.Provider,{value:ln},j)}function mn(){return tt?Ht==null?React$2.createElement(Message,{type:"loading"},typeof ht=="function"?ht():ht):Ht===!1?React$2.createElement(Message,{type:"error"},typeof _e=="function"?_e():_e):pn():React$2.createElement(Message,{type:"no-data"},typeof ut=="function"?ut():ut)}return React$2.createElement("div",Object.assign({className:clsx("react-pdf__Document",$),ref:rt,style:{"--scale-factor":"1"}},fn),mn())}),isFunctionOrNode$1=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Document.propTypes=Object.assign(Object.assign({},eventProps),{children:PropTypes.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:PropTypes.string,externalLinkTarget:PropTypes.oneOf(["_self","_blank","_parent","_top"]),file:isFile,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:PropTypes.func,onLoadError:PropTypes.func,onLoadProgress:PropTypes.func,onLoadSuccess:PropTypes.func,onPassword:PropTypes.func,onSourceError:PropTypes.func,onSourceSuccess:PropTypes.func,options:PropTypes.shape({canvasFactory:PropTypes.any,canvasMaxAreaInBytes:PropTypes.number,cMapPacked:PropTypes.bool,CMapReaderFactory:PropTypes.any,cMapUrl:PropTypes.string,disableAutoFetch:PropTypes.bool,disableFontFace:PropTypes.bool,disableRange:PropTypes.bool,disableStream:PropTypes.bool,docBaseUrl:PropTypes.string,enableXfa:PropTypes.bool,filterFactory:PropTypes.any,fontExtraProperties:PropTypes.bool,httpHeaders:PropTypes.object,isEvalSupported:PropTypes.bool,isOffscreenCanvasSupported:PropTypes.bool,length:PropTypes.number,maxImageSize:PropTypes.number,ownerDocument:PropTypes.any,password:PropTypes.string,pdfBug:PropTypes.bool,rangeChunkSize:PropTypes.number,StandardFontDataFactory:PropTypes.any,standardFontDataUrl:PropTypes.string,stopAtErrors:PropTypes.bool,useSystemFonts:PropTypes.bool,useWorkerFetch:PropTypes.bool,verbosity:PropTypes.number,withCredentials:PropTypes.bool,worker:PropTypes.any}),rotate:PropTypes.number});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];var _=g.filter(Boolean);if(_.length<=1){var j=_[0];return j||null}return function(_e){_.forEach(function(et){typeof et=="function"?et(_e):et&&(et.current=_e)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(g){return g in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(g){return"children"in g}function isStructTreeNodeWithOnlyContentChild(g){return isStructTreeNode(g)?g.children.length===1&&0 in g.children&&"id"in g.children[0]:!1}function getRoleAttributes(g){const b={};if(isStructTreeNode(g)){const{role:_}=g,j=_.match(HEADING_PATTERN);if(j)b.role="heading",b["aria-level"]=Number(j[1]);else if(isPdfRole(_)){const $=PDF_ROLE_TO_HTML_ROLE[_];$&&(b.role=$)}}return b}function getBaseAttributes(g){const b={};if(isStructTreeNode(g)){if(g.alt!==void 0&&(b["aria-label"]=g.alt),g.lang!==void 0&&(b.lang=g.lang),isStructTreeNodeWithOnlyContentChild(g)){const[_]=g.children;if(_){const j=getBaseAttributes(_);return Object.assign(Object.assign({},b),j)}}}else"id"in g&&(b["aria-owns"]=g.id);return b}function getAttributes(g){return g?Object.assign(Object.assign({},getRoleAttributes(g)),getBaseAttributes(g)):null}function StructTreeItem({className:g,node:b}){const _=reactExports.useMemo(()=>getAttributes(b),[b]),j=reactExports.useMemo(()=>!isStructTreeNode(b)||isStructTreeNodeWithOnlyContentChild(b)?null:b.children.map(($,_e)=>React$2.createElement(StructTreeItem,{key:_e,node:$})),[b]);return React$2.createElement("span",Object.assign({className:g},_),j)}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const g=usePageContext();invariant(g);const{onGetStructTreeError:b,onGetStructTreeSuccess:_}=g,[j,$]=useResolver(),{value:_e,error:et}=j,{customTextRenderer:nt,page:tt}=g;function rt(){_e&&_&&_(_e)}function it(){et&&(warning$1(!1,et.toString()),b&&b(et))}function ht(){$({type:"RESET"})}reactExports.useEffect(ht,[$,tt]);function ut(){if(nt||!tt)return;const lt=makeCancellablePromise(tt.getStructTree()),pt=lt;return lt.promise.then(vt=>{$({type:"RESOLVE",value:vt})}).catch(vt=>{$({type:"REJECT",error:vt})}),()=>cancelRunningTask(pt)}return reactExports.useEffect(ut,[nt,tt,$]),reactExports.useEffect(()=>{if(_e!==void 0){if(_e===!1){it();return}rt()}},[_e]),_e?React$2.createElement(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:_e}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(g){const b=usePageContext();invariant(b);const _=Object.assign(Object.assign({},b),g),{_className:j,canvasBackground:$,devicePixelRatio:_e=getDevicePixelRatio(),onRenderError:et,onRenderSuccess:nt,page:tt,renderForms:rt,renderTextLayer:it,rotate:ht,scale:ut}=_,{canvasRef:lt}=g;invariant(tt);const pt=reactExports.useRef(null);function vt(){tt&&nt&&nt(makePageCallback(tt,ut))}function yt(ct){isCancelException(ct)||(warning$1(!1,ct.toString()),et&&et(ct))}const st=reactExports.useMemo(()=>tt.getViewport({scale:ut*_e,rotation:ht}),[_e,tt,ht,ut]),ot=reactExports.useMemo(()=>tt.getViewport({scale:ut,rotation:ht}),[tt,ht,ut]);function mt(){if(!tt)return;tt.cleanup();const{current:ct}=pt;if(!ct)return;ct.width=st.width,ct.height=st.height,ct.style.width=`${Math.floor(ot.width)}px`,ct.style.height=`${Math.floor(ot.height)}px`,ct.style.visibility="hidden";const xt={annotationMode:rt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:ct.getContext("2d",{alpha:!1}),viewport:st};$&&(xt.background=$);const dt=tt.render(xt),gt=dt;return dt.promise.then(()=>{ct.style.visibility="",vt()}).catch(yt),()=>cancelRunningTask(gt)}reactExports.useEffect(mt,[$,pt,_e,tt,rt,st,ot]);const ft=reactExports.useCallback(()=>{const{current:ct}=pt;ct&&(ct.width=0,ct.height=0)},[pt]);return reactExports.useEffect(()=>ft,[ft]),React$2.createElement("canvas",{className:`${j}__canvas`,dir:"ltr",ref:mergeRefs(lt,pt),style:{display:"block",userSelect:"none"}},it?React$2.createElement(StructTree,null):null)}function PageSVG(){const g=usePageContext();invariant(g);const{_className:b,onRenderSuccess:_,onRenderError:j,page:$,rotate:_e,scale:et}=g;invariant($);const[nt,tt]=useResolver(),{value:rt,error:it}=nt;function ht(){$&&_&&_(makePageCallback($,et))}function ut(){it&&(isCancelException(it)||(warning$1(!1,it.toString()),j&&j(it)))}const lt=reactExports.useMemo(()=>$.getViewport({scale:et,rotation:_e}),[$,_e,et]);function pt(){tt({type:"RESET"})}reactExports.useEffect(pt,[$,tt,lt]);function vt(){if(!$)return;const mt=makeCancellablePromise($.getOperatorList());return mt.promise.then(ft=>{new pdfjs.SVGGraphics($.commonObjs,$.objs).getSVG(ft,lt).then(xt=>{if(!(xt instanceof SVGElement))throw new Error("getSVG returned unexpected result.");tt({type:"RESOLVE",value:xt})}).catch(xt=>{tt({type:"REJECT",error:xt})})}).catch(ft=>{tt({type:"REJECT",error:ft})}),()=>cancelRunningTask(mt)}reactExports.useEffect(vt,[$,tt,lt]),reactExports.useEffect(()=>{if(rt!==void 0){if(rt===!1){ut();return}ht()}},[rt]);function yt(mt){if(!mt||!rt)return;mt.firstElementChild||mt.appendChild(rt);const{width:ft,height:ct}=lt;rt.setAttribute("width",`${ft}`),rt.setAttribute("height",`${ct}`)}const{width:st,height:ot}=lt;return React$2.createElement("div",{className:`${b}__svg`,ref:mt=>yt(mt),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:st,height:ot,userSelect:"none"}})}function isTextItem(g){return"str"in g}function TextLayer(){const g=usePageContext();invariant(g);const{customTextRenderer:b,onGetTextError:_,onGetTextSuccess:j,onRenderTextLayerError:$,onRenderTextLayerSuccess:_e,page:et,pageIndex:nt,pageNumber:tt,rotate:rt,scale:it}=g;invariant(et);const[ht,ut]=useResolver(),{value:lt,error:pt}=ht,vt=reactExports.useRef(null),yt=reactExports.useRef();warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function st(){lt&&j&&j(lt)}function ot(){pt&&(warning$1(!1,pt.toString()),_&&_(pt))}function mt(){ut({type:"RESET"})}reactExports.useEffect(mt,[et,ut]);function ft(){if(!et)return;const bt=makeCancellablePromise(et.getTextContent()),wt=bt;return bt.promise.then(Tt=>{ut({type:"RESOLVE",value:Tt})}).catch(Tt=>{ut({type:"REJECT",error:Tt})}),()=>cancelRunningTask(wt)}reactExports.useEffect(ft,[et,ut]),reactExports.useEffect(()=>{if(lt!==void 0){if(lt===!1){ot();return}st()}},[lt]);const ct=reactExports.useCallback(()=>{_e&&_e()},[_e]),xt=reactExports.useCallback(bt=>{warning$1(!1,bt.toString()),$&&$(bt)},[$]);function dt(){const bt=yt.current;bt&&bt.classList.add("active")}function gt(){const bt=yt.current;bt&&bt.classList.remove("active")}const St=reactExports.useMemo(()=>et.getViewport({scale:it,rotation:rt}),[et,rt,it]);function kt(){if(!et||!lt)return;const{current:bt}=vt;if(!bt)return;bt.innerHTML="";const wt=et.streamTextContent({includeMarkedContent:!0}),Tt={container:bt,textContentSource:wt,viewport:St},Ht=pdfjs.renderTextLayer(Tt),Bt=Ht;return Ht.promise.then(()=>{const Wt=document.createElement("div");Wt.className="endOfContent",bt.append(Wt),yt.current=Wt;const Dt=bt.querySelectorAll('[role="presentation"]');if(b){let It=0;lt.items.forEach((At,Ft)=>{if(!isTextItem(At))return;const Vt=Dt[It];if(!Vt)return;const Pt=b(Object.assign({pageIndex:nt,pageNumber:tt,itemIndex:Ft},At));Vt.innerHTML=Pt,It+=At.str&&At.hasEOL?2:1})}ct()}).catch(xt),()=>cancelRunningTask(Bt)}return reactExports.useLayoutEffect(kt,[b,xt,ct,et,nt,tt,lt,St]),React$2.createElement("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:gt,onMouseDown:dt,ref:vt})}function AnnotationLayer(){const g=useDocumentContext(),b=usePageContext();invariant(b);const _=Object.assign(Object.assign({},g),b),{imageResourcesPath:j,linkService:$,onGetAnnotationsError:_e,onGetAnnotationsSuccess:et,onRenderAnnotationLayerError:nt,onRenderAnnotationLayerSuccess:tt,page:rt,pdf:it,renderForms:ht,rotate:ut,scale:lt=1}=_;invariant(it),invariant(rt),invariant($);const[pt,vt]=useResolver(),{value:yt,error:st}=pt,ot=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function mt(){yt&&et&&et(yt)}function ft(){st&&(warning$1(!1,st.toString()),_e&&_e(st))}function ct(){vt({type:"RESET"})}reactExports.useEffect(ct,[vt,rt]);function xt(){if(!rt)return;const bt=makeCancellablePromise(rt.getAnnotations()),wt=bt;return bt.promise.then(Tt=>{vt({type:"RESOLVE",value:Tt})}).catch(Tt=>{vt({type:"REJECT",error:Tt})}),()=>{cancelRunningTask(wt)}}reactExports.useEffect(xt,[vt,rt,ht]),reactExports.useEffect(()=>{if(yt!==void 0){if(yt===!1){ft();return}mt()}},[yt]);function dt(){tt&&tt()}function gt(bt){warning$1(!1,`${bt}`),nt&&nt(bt)}const St=reactExports.useMemo(()=>rt.getViewport({scale:lt,rotation:ut}),[rt,ut,lt]);function kt(){if(!it||!rt||!$||!yt)return;const{current:bt}=ot;if(!bt)return;const wt=St.clone({dontFlip:!0}),Tt={accessibilityManager:null,annotationCanvasMap:null,div:bt,l10n:null,page:rt,viewport:wt},Ht={annotations:yt,annotationStorage:it.annotationStorage,div:bt,downloadManager:null,imageResourcesPath:j,linkService:$,page:rt,renderForms:ht,viewport:wt};bt.innerHTML="";try{new pdfjs.AnnotationLayer(Tt).render(Ht),dt()}catch(Bt){gt(Bt)}return()=>{}}return reactExports.useEffect(kt,[yt,j,$,rt,ht,St]),React$2.createElement("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:ot})}var __rest=function(g,b){var _={};for(var j in g)Object.prototype.hasOwnProperty.call(g,j)&&b.indexOf(j)<0&&(_[j]=g[j]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,j=Object.getOwnPropertySymbols(g);$<j.length;$++)b.indexOf(j[$])<0&&Object.prototype.propertyIsEnumerable.call(g,j[$])&&(_[j[$]]=g[j[$]]);return _};const defaultScale=1,Page=function g(b){const _=useDocumentContext(),j=Object.assign(Object.assign({},_),b),{_className:$="react-pdf__Page",_enableRegisterUnregisterPage:_e=!0,canvasBackground:et,canvasRef:nt,children:tt,className:rt,customRenderer:it,customTextRenderer:ht,devicePixelRatio:ut,error:lt="Failed to load the page.",height:pt,inputRef:vt,loading:yt="Loading page…",noData:st="No page specified.",onGetAnnotationsError:ot,onGetAnnotationsSuccess:mt,onGetStructTreeError:ft,onGetStructTreeSuccess:ct,onGetTextError:xt,onGetTextSuccess:dt,onLoadError:gt,onLoadSuccess:St,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:bt,onRenderError:wt,onRenderSuccess:Tt,onRenderTextLayerError:Ht,onRenderTextLayerSuccess:Bt,pageIndex:Wt,pageNumber:Dt,pdf:It,registerPage:At,renderAnnotationLayer:Ft=!0,renderForms:Vt=!1,renderMode:Pt="canvas",renderTextLayer:Et=!0,rotate:_t,scale:Ct=defaultScale,unregisterPage:Mt,width:Nt}=j,zt=__rest(j,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Xt,Jt]=useResolver(),{value:on,error:ln}=Xt,fn=reactExports.useRef(null);invariant(It);const pn=isProvided(Dt)?Dt-1:Wt??null,mn=Dt??(isProvided(Wt)?Wt+1:null),Yt=_t??(on?on.rotate:null),Kt=reactExports.useMemo(()=>{if(!on)return null;let kn=1;const zn=Ct??defaultScale;if(Nt||pt){const $n=on.getViewport({scale:1,rotation:Yt});Nt?kn=Nt/$n.width:pt&&(kn=pt/$n.height)}return zn*kn},[pt,on,Yt,Ct,Nt]);function Rt(){return()=>{isProvided(pn)&&_e&&Mt&&Mt(pn)}}reactExports.useEffect(Rt,[_e,It,pn,Mt]);function Ot(){if(St){if(!on||!Kt)return;St(makePageCallback(on,Kt))}if(_e&&At){if(!isProvided(pn)||!fn.current)return;At(pn,fn.current)}}function qt(){ln&&(warning$1(!1,ln.toString()),gt&&gt(ln))}function en(){Jt({type:"RESET"})}reactExports.useEffect(en,[Jt,It,pn]);function dn(){if(!It||!mn)return;const kn=makeCancellablePromise(It.getPage(mn)),zn=kn;return kn.promise.then($n=>{Jt({type:"RESOLVE",value:$n})}).catch($n=>{Jt({type:"REJECT",error:$n})}),()=>cancelRunningTask(zn)}reactExports.useEffect(dn,[Jt,It,pn,mn,At]),reactExports.useEffect(()=>{if(on!==void 0){if(on===!1){qt();return}Ot()}},[on,Kt]);const xn=reactExports.useMemo(()=>on&&isProvided(pn)&&mn&&isProvided(Yt)&&isProvided(Kt)?{_className:$,canvasBackground:et,customTextRenderer:ht,devicePixelRatio:ut,onGetAnnotationsError:ot,onGetAnnotationsSuccess:mt,onGetStructTreeError:ft,onGetStructTreeSuccess:ct,onGetTextError:xt,onGetTextSuccess:dt,onRenderAnnotationLayerError:kt,onRenderAnnotationLayerSuccess:bt,onRenderError:wt,onRenderSuccess:Tt,onRenderTextLayerError:Ht,onRenderTextLayerSuccess:Bt,page:on,pageIndex:pn,pageNumber:mn,renderForms:Vt,renderTextLayer:Et,rotate:Yt,scale:Kt}:null,[$,et,ht,ut,ot,mt,ft,ct,xt,dt,kt,bt,wt,Tt,Ht,Bt,on,pn,mn,Vt,Et,Yt,Kt]),Zt=reactExports.useMemo(()=>makeEventProps(zt,()=>on&&(Kt?makePageCallback(on,Kt):void 0)),[zt,on,Kt]),Ut=`${pn}@${Kt}/${Yt}`,bn=`${pn}/${Yt}`;function yn(){switch(Pt){case"custom":return invariant(it),React$2.createElement(it,{key:`${Ut}_custom`});case"none":return null;case"svg":return React$2.createElement(PageSVG,{key:`${bn}_svg`});case"canvas":default:return React$2.createElement(PageCanvas,{key:`${Ut}_canvas`,canvasRef:nt})}}function In(){return Et?React$2.createElement(TextLayer,{key:`${Ut}_text`}):null}function Nn(){return Ft?React$2.createElement(AnnotationLayer,{key:`${Ut}_annotations`}):null}function Fn(){return React$2.createElement(PageContext.Provider,{value:xn},yn(),In(),Nn(),tt)}function wn(){return mn?It===null||on===void 0||on===null?React$2.createElement(Message,{type:"loading"},typeof yt=="function"?yt():yt):It===!1||on===!1?React$2.createElement(Message,{type:"error"},typeof lt=="function"?lt():lt):Fn():React$2.createElement(Message,{type:"no-data"},typeof st=="function"?st():st)}return React$2.createElement("div",Object.assign({className:clsx($,rt),"data-page-number":mn,ref:mergeRefs(vt,fn),style:{"--scale-factor":`${Kt}`,backgroundColor:et||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Zt),wn())},isFunctionOrNode=PropTypes.oneOfType([PropTypes.func,PropTypes.node]);Page.propTypes=Object.assign(Object.assign({},eventProps),{canvasBackground:PropTypes.string,canvasRef:isRef,children:PropTypes.node,className:isClassName,customRenderer:PropTypes.func,customTextRenderer:PropTypes.func,devicePixelRatio:PropTypes.number,error:isFunctionOrNode,height:PropTypes.number,imageResourcesPath:PropTypes.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:PropTypes.func,onGetTextSuccess:PropTypes.func,onLoadError:PropTypes.func,onLoadSuccess:PropTypes.func,onRenderError:PropTypes.func,onRenderSuccess:PropTypes.func,onRenderTextLayerError:PropTypes.func,onRenderTextLayerSuccess:PropTypes.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,renderAnnotationLayer:PropTypes.bool,renderForms:PropTypes.bool,renderMode:isRenderMode,renderTextLayer:PropTypes.bool,rotate:isRotate,scale:PropTypes.number,width:PropTypes.number});displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`;const DocumentViewer=()=>{const{selectedFile:g,setTotalPages:b,redactionSuggestions:_,processingStatus:j,selectedRedaction:$,setSelectedRedaction:_e}=useAppStore(),[et,nt]=reactExports.useState(1),[tt,rt]=reactExports.useState(.8),[it,ht]=reactExports.useState(null),[ut,lt]=reactExports.useState(null),pt=reactExports.useCallback(({numPages:dt})=>{console.log("PDF loaded with",dt,"pages"),ht(dt),b(dt)},[b]),vt=dt=>{console.error("Error loading PDF:",dt)},yt=reactExports.useCallback(dt=>{console.log("onRenderSuccess called with page:",dt);const gt=document.querySelector(".react-pdf__Page"),St=gt==null?void 0:gt.querySelector("canvas");if(St){const kt={width:St.clientWidth,height:St.clientHeight,nativeWidth:dt.originalWidth||dt.width,nativeHeight:dt.originalHeight||dt.height};console.log("Page dimensions - rendered:",St.clientWidth,"x",St.clientHeight),console.log("Page dimensions - native:",kt.nativeWidth,"x",kt.nativeHeight),console.log("Current scale setting:",tt),lt(kt)}else console.log("Could not find canvas element")},[tt]),st=dt=>{dt>=1&&dt<=(it||1)&&(nt(dt),_e(null),lt(null))},ot=()=>{lt(null),rt(dt=>Math.min(dt+.1,2))},mt=()=>{lt(null),rt(dt=>Math.max(dt-.1,.3))},ft=()=>_.get(et)||[],ct=()=>{const dt=ft();return ut?dt.map(gt=>{const St=($==null?void 0:$.id)===gt.id,kt=gt.accepted,bt=ut.nativeWidth,wt=ut.nativeHeight,Tt=ut.width/bt,Ht=ut.height/wt,Bt=gt.coordinates.x*Tt+16,Wt=gt.coordinates.y*Ht+16,Dt=gt.coordinates.width*Tt,It=gt.coordinates.height*Ht;return jsxRuntimeExports.jsx("div",{className:`absolute cursor-pointer transition-all pointer-events-auto ${St?"border-2 border-blue-500 bg-blue-100/30 z-20":kt?"bg-black z-15":"border-2 border-red-500 bg-red-100/30 hover:bg-red-100/50 z-10"}`,style:{left:Bt,top:Wt,width:Dt,height:It,transform:"translateZ(0)"},onClick:At=>{At.stopPropagation(),_e(gt)},children:St&&jsxRuntimeExports.jsxs("div",{className:"absolute -top-20 left-0 bg-black text-white text-xs px-2 py-1 rounded whitespace-nowrap pointer-events-none z-30",children:[jsxRuntimeExports.jsxs("div",{children:["PDF: (",gt.coordinates.x.toFixed(1),", ",gt.coordinates.y.toFixed(1),")"]}),jsxRuntimeExports.jsxs("div",{children:["Native: ",bt.toFixed(0),"x",wt.toFixed(0)]}),jsxRuntimeExports.jsxs("div",{children:["Rendered: ",ut.width.toFixed(0),"x",ut.height.toFixed(0)]}),jsxRuntimeExports.jsxs("div",{children:["Scale: ",Tt.toFixed(3),"x, ",Ht.toFixed(3),"x"]}),jsxRuntimeExports.jsxs("div",{children:["Display: (",Bt.toFixed(1),", ",Wt.toFixed(1),")"]})]})},gt.id)}):null},xt=()=>j.status==="processing"&&j.currentPage===et;return g?jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-muted/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 bg-background border-b",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>st(et-1),disabled:et<=1,children:jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Page ",et," of ",it||"?"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:()=>st(et+1),disabled:et>=(it||1),children:jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:mt,children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:[Math.round(tt*100),"%"]}),jsxRuntimeExports.jsx(Button,{variant:"outline",size:"sm",onClick:ot,children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-hidden p-4",children:jsxRuntimeExports.jsx("div",{className:"flex justify-center h-full overflow-auto",children:jsxRuntimeExports.jsxs("div",{className:"relative",style:{maxWidth:"100%"},children:[g&&jsxRuntimeExports.jsx(Document,{file:g,onLoadSuccess:pt,onLoadError:vt,loading:jsxRuntimeExports.jsx("div",{className:"w-[600px] h-[800px] bg-white border border-muted flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Loading PDF..."})}),className:"max-w-full",children:jsxRuntimeExports.jsx(Page,{pageNumber:et,scale:tt,onRenderSuccess:yt,loading:jsxRuntimeExports.jsx("div",{className:"w-[600px] h-[800px] bg-white border border-muted flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Loading page..."})}),className:"border border-muted shadow-lg max-w-full"})}),ct(),xt()&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-blue-100/30 border-2 border-blue-500 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-lg shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Analyzing this page..."})]})})})]})})})]}):jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center bg-muted/50",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"No document selected"})})},ProcessingScreen=()=>{const{selectedFile:g,totalPages:b,processingStatus:_,redactionSuggestions:j,selectedProfile:$,sidebarOpen:_e,setProcessingStatus:et,addPageRedactions:nt,setSidebarOpen:tt,reset:rt}=useAppStore(),[it,ht]=reactExports.useState(!1);reactExports.useEffect(()=>{g&&b>0&&!it&&_.status==="idle"&&ut()},[g,b,it,_.status]);const ut=async()=>{if(!(!g||b===0))try{ht(!0),et({status:"processing",currentPage:1,totalPages:b});for(let st=1;st<=b;st++){et({status:"processing",currentPage:st,totalPages:b,message:`Analyzing page ${st} of ${b}...`});try{const ot=g.tempPath||g.name;console.log(`Processing page ${st} with file path: ${ot}`);const mt=await invoke("process_single_page",{filePath:ot,pageNumber:st,profile:$});console.log(`Page ${st} raw suggestions received:`,mt),nt(st,mt),console.log(`Page ${st} processing complete:`,mt.length,"suggestions found")}catch(ot){console.error(`Error processing page ${st}:`,ot),console.log("Falling back to mock data for page",st);const mt=[{id:`page_${st}_redaction_0`,text:`Sample PII (Page ${st})`,confidence:.95,category:"PII",coordinates:{page:st,x:100,y:100+st*30,width:120,height:20},accepted:!1}];nt(st,mt)}}et({status:"completed",message:"Document analysis complete"})}catch(st){console.error("Error during processing:",st),et({status:"error",message:`Processing failed: ${st}`})}finally{ht(!1)}},lt=async()=>{try{const st=[];if(j.forEach(xt=>{st.push(...xt.filter(dt=>dt.accepted))}),st.length===0){alert("No redactions have been accepted for export.");return}const ot=(g==null?void 0:g.tempPath)||(g==null?void 0:g.name)||"";if(console.log("Selected file object:",g),console.log("Temp path:",g==null?void 0:g.tempPath),console.log("File name:",g==null?void 0:g.name),!ot){alert("Unable to locate the source file for export.");return}console.log("Exporting with file path:",ot),console.log("Accepted redactions:",st.length),console.log("First redaction:",st[0]);const ft=`redacted_${(g==null?void 0:g.name)||"document.pdf"}`,ct=await invoke("export_redacted_document",{filePath:ot,redactions:st,suggestedFilename:ft});alert(`Document exported successfully to: ${ct}`)}catch(st){console.error("Error exporting document:",st),alert(`Failed to export document: ${st}`)}},pt=()=>_.status==="completed"?100:_.currentPage&&_.totalPages?_.currentPage/_.totalPages*100:0,vt=()=>{let st=0;return j.forEach(ot=>{st+=ot.length}),st},yt=()=>{let st=0;return j.forEach(ot=>{st+=ot.filter(mt=>mt.accepted).length}),st};return g?jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>rt(),children:"← Back"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-semibold",children:g.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[$==="quick"?"Quick Scan":"Deep Analysis"," • ",b," pages"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button,{variant:"outline",onClick:()=>tt(!_e),children:[_e?jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}),_e?"Hide":"Show"," Suggestions"]}),jsxRuntimeExports.jsxs(Button,{onClick:lt,disabled:yt()===0,children:[jsxRuntimeExports.jsx(FileDown,{className:"w-4 h-4 mr-2"}),"Export Redacted PDF"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative min-w-0",children:[jsxRuntimeExports.jsx(DocumentViewer,{}),_.status==="processing"&&_.currentPage&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10",children:jsxRuntimeExports.jsxs(Card,{className:"w-96",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),"Processing Document"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm",children:_.message||"Analyzing document..."}),jsxRuntimeExports.jsx(Progress,{value:pt(),className:"mb-2"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[Math.round(pt()),"% complete"]})]})]})})]}),_e&&jsxRuntimeExports.jsx("div",{className:"w-96 border-l flex-shrink-0",children:jsxRuntimeExports.jsx(RedactionSidebar,{})})]}),jsxRuntimeExports.jsxs("div",{className:"h-12 border-t flex items-center justify-between px-4 bg-muted/50 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("span",{children:["Status: ",_.status]}),_.currentPage&&_.totalPages&&jsxRuntimeExports.jsxs("span",{children:["Page ",_.currentPage," of ",_.totalPages]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[jsxRuntimeExports.jsxs("span",{children:[vt()," suggestions found"]}),jsxRuntimeExports.jsxs("span",{children:[yt()," accepted"]})]})]})]}):jsxRuntimeExports.jsx("div",{children:"No file selected"})},AIInitializationScreen=({onComplete:g})=>{const[b,_]=reactExports.useState(null),[j,$]=reactExports.useState(!1),[_e,et]=reactExports.useState(null),nt=async()=>{try{$(!0),et(null),_({status:"initializing",message:"Starting AI engine..."});const it=await invoke("initialize_ai_engine");_(it),it.status==="ready"?setTimeout(()=>{g()},2e3):it.status==="error"&&et(it.message)}catch(it){console.error("AI initialization error:",it),et(`Failed to initialize AI engine: ${it}`)}finally{$(!1)}},tt=()=>{switch(b==null?void 0:b.status){case"initializing":return jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6 animate-pulse text-blue-500"});case"downloading_model":return jsxRuntimeExports.jsx(Download,{className:"w-6 h-6 animate-bounce text-orange-500"});case"ready":return jsxRuntimeExports.jsx(CheckCircle,{className:"w-6 h-6 text-green-500"});case"error":return jsxRuntimeExports.jsx(AlertCircle,{className:"w-6 h-6 text-red-500"});default:return jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6 text-gray-400"})}},rt=()=>{switch(b==null?void 0:b.status){case"initializing":return 25;case"downloading_model":return 75;case"ready":return 100;case"error":return 0;default:return 0}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:tt()}),jsxRuntimeExports.jsx(CardTitle,{className:"text-2xl",children:"Guardian Redact"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"AI-Powered Document Protection with Gemma 3n"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[!b&&!_e&&jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:"Click the button below to initialize the AI engine with Gemma 3n and Ollama. This may take a few minutes on first run."}),jsxRuntimeExports.jsxs(Button,{onClick:nt,disabled:j,className:"w-full",children:[jsxRuntimeExports.jsx(Brain,{className:"w-4 h-4 mr-2"}),"Initialize AI Engine"]})]}),b&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-2",children:b.message}),jsxRuntimeExports.jsx(Progress,{value:rt(),className:"mb-4"}),b.status==="downloading_model"&&jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Downloading Gemma 3n model... This may take several minutes depending on your internet connection."}),b.status==="ready"&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600",children:"✅ AI engine with Gemma 3n is ready! Launching application..."})]})}),_e&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(AlertCircle,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 font-medium mb-2",children:"Initialization Failed"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:_e}),jsxRuntimeExports.jsx(Button,{onClick:()=>{et(null),_(null)},variant:"outline",className:"w-full",children:"Try Again"})]})}),(b==null?void 0:b.status)==="initializing"&&jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})})};function __awaiter(g,b,_,j){function $(_e){return _e instanceof _?_e:new _(function(et){et(_e)})}return new(_||(_=Promise))(function(_e,et){function nt(it){try{rt(j.next(it))}catch(ht){et(ht)}}function tt(it){try{rt(j.throw(it))}catch(ht){et(ht)}}function rt(it){it.done?_e(it.value):$(it.value).then(nt,tt)}rt((j=j.apply(g,b||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(g,b,_){const j=withMimeType(g),{webkitRelativePath:$}=g,_e=typeof b=="string"?b:typeof $=="string"&&$.length>0?$:`./${g.name}`;return typeof j.path!="string"&&setObjProp(j,"path",_e),setObjProp(j,"relativePath",_e),j}function withMimeType(g){const{name:b}=g;if(b&&b.lastIndexOf(".")!==-1&&!g.type){const j=b.split(".").pop().toLowerCase(),$=COMMON_MIME_TYPES.get(j);$&&Object.defineProperty(g,"type",{value:$,writable:!1,configurable:!1,enumerable:!0})}return g}function setObjProp(g,b,_){Object.defineProperty(g,b,{value:_,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(g){return __awaiter(this,void 0,void 0,function*(){return isObject(g)&&isDataTransfer(g.dataTransfer)?getDataTransferFiles(g.dataTransfer,g.type):isChangeEvt(g)?getInputFiles(g):Array.isArray(g)&&g.every(b=>"getFile"in b&&typeof b.getFile=="function")?getFsHandleFiles(g):[]})}function isDataTransfer(g){return isObject(g)}function isChangeEvt(g){return isObject(g)&&isObject(g.target)}function isObject(g){return typeof g=="object"&&g!==null}function getInputFiles(g){return fromList(g.target.files).map(b=>toFileWithPath(b))}function getFsHandleFiles(g){return __awaiter(this,void 0,void 0,function*(){return(yield Promise.all(g.map(_=>_.getFile()))).map(_=>toFileWithPath(_))})}function getDataTransferFiles(g,b){return __awaiter(this,void 0,void 0,function*(){if(g.items){const _=fromList(g.items).filter($=>$.kind==="file");if(b!=="drop")return _;const j=yield Promise.all(_.map(toFilePromises));return noIgnoredFiles(flatten(j))}return noIgnoredFiles(fromList(g.files).map(_=>toFileWithPath(_)))})}function noIgnoredFiles(g){return g.filter(b=>FILES_TO_IGNORE.indexOf(b.name)===-1)}function fromList(g){if(g===null)return[];const b=[];for(let _=0;_<g.length;_++){const j=g[_];b.push(j)}return b}function toFilePromises(g){if(typeof g.webkitGetAsEntry!="function")return fromDataTransferItem(g);const b=g.webkitGetAsEntry();return b&&b.isDirectory?fromDirEntry(b):fromDataTransferItem(g,b)}function flatten(g){return g.reduce((b,_)=>[...b,...Array.isArray(_)?flatten(_):[_]],[])}function fromDataTransferItem(g,b){return __awaiter(this,void 0,void 0,function*(){var _;if(globalThis.isSecureContext&&typeof g.getAsFileSystemHandle=="function"){const _e=yield g.getAsFileSystemHandle();if(_e===null)throw new Error(`${g} is not a File`);if(_e!==void 0){const et=yield _e.getFile();return et.handle=_e,toFileWithPath(et)}}const j=g.getAsFile();if(!j)throw new Error(`${g} is not a File`);return toFileWithPath(j,(_=b==null?void 0:b.fullPath)!==null&&_!==void 0?_:void 0)})}function fromEntry(g){return __awaiter(this,void 0,void 0,function*(){return g.isDirectory?fromDirEntry(g):fromFileEntry(g)})}function fromDirEntry(g){const b=g.createReader();return new Promise((_,j)=>{const $=[];function _e(){b.readEntries(et=>__awaiter(this,void 0,void 0,function*(){if(et.length){const nt=Promise.all(et.map(fromEntry));$.push(nt),_e()}else try{const nt=yield Promise.all($);_(nt)}catch(nt){j(nt)}}),et=>{j(et)})}_e()})}function fromFileEntry(g){return __awaiter(this,void 0,void 0,function*(){return new Promise((b,_)=>{g.file(j=>{const $=toFileWithPath(j,g.fullPath);b($)},j=>{_(j)})})})}var _default=function(g,b){if(g&&b){var _=Array.isArray(b)?b:b.split(",");if(_.length===0)return!0;var j=g.name||"",$=(g.type||"").toLowerCase(),_e=$.replace(/\/.*$/,"");return _.some(function(et){var nt=et.trim().toLowerCase();return nt.charAt(0)==="."?j.toLowerCase().endsWith(nt):nt.endsWith("/*")?_e===nt.replace(/\/.*$/,""):$===nt})}return!0};function _toConsumableArray$1(g){return _arrayWithoutHoles$1(g)||_iterableToArray$1(g)||_unsupportedIterableToArray$1(g)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function _arrayWithoutHoles$1(g){if(Array.isArray(g))return _arrayLikeToArray$1(g)}function ownKeys$1(g,b){var _=Object.keys(g);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(g);b&&(j=j.filter(function($){return Object.getOwnPropertyDescriptor(g,$).enumerable})),_.push.apply(_,j)}return _}function _objectSpread$1(g){for(var b=1;b<arguments.length;b++){var _=arguments[b]!=null?arguments[b]:{};b%2?ownKeys$1(Object(_),!0).forEach(function(j){_defineProperty$1(g,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(_)):ownKeys$1(Object(_)).forEach(function(j){Object.defineProperty(g,j,Object.getOwnPropertyDescriptor(_,j))})}return g}function _defineProperty$1(g,b,_){return b in g?Object.defineProperty(g,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[b]=_,g}function _slicedToArray$1(g,b){return _arrayWithHoles$1(g)||_iterableToArrayLimit$1(g,b)||_unsupportedIterableToArray$1(g,b)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(g,b){if(g){if(typeof g=="string")return _arrayLikeToArray$1(g,b);var _=Object.prototype.toString.call(g).slice(8,-1);if(_==="Object"&&g.constructor&&(_=g.constructor.name),_==="Map"||_==="Set")return Array.from(g);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray$1(g,b)}}function _arrayLikeToArray$1(g,b){(b==null||b>g.length)&&(b=g.length);for(var _=0,j=new Array(b);_<b;_++)j[_]=g[_];return j}function _iterableToArrayLimit$1(g,b){var _=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(_!=null){var j=[],$=!0,_e=!1,et,nt;try{for(_=_.call(g);!($=(et=_.next()).done)&&(j.push(et.value),!(b&&j.length===b));$=!0);}catch(tt){_e=!0,nt=tt}finally{try{!$&&_.return!=null&&_.return()}finally{if(_e)throw nt}}return j}}function _arrayWithHoles$1(g){if(Array.isArray(g))return g}var accepts=typeof _default=="function"?_default:_default.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function g(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",_=b.split(","),j=_.length>1?"one of ".concat(_.join(", ")):_[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(j)}},getTooLargeRejectionErr=function g(b){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(b," ").concat(b===1?"byte":"bytes")}},getTooSmallRejectionErr=function g(b){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(b," ").concat(b===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(g,b){var _=g.type==="application/x-moz-file"||accepts(g,b);return[_,_?null:getInvalidTypeRejectionErr(b)]}function fileMatchSize(g,b,_){if(isDefined(g.size))if(isDefined(b)&&isDefined(_)){if(g.size>_)return[!1,getTooLargeRejectionErr(_)];if(g.size<b)return[!1,getTooSmallRejectionErr(b)]}else{if(isDefined(b)&&g.size<b)return[!1,getTooSmallRejectionErr(b)];if(isDefined(_)&&g.size>_)return[!1,getTooLargeRejectionErr(_)]}return[!0,null]}function isDefined(g){return g!=null}function allFilesAccepted(g){var b=g.files,_=g.accept,j=g.minSize,$=g.maxSize,_e=g.multiple,et=g.maxFiles,nt=g.validator;return!_e&&b.length>1||_e&&et>=1&&b.length>et?!1:b.every(function(tt){var rt=fileAccepted(tt,_),it=_slicedToArray$1(rt,1),ht=it[0],ut=fileMatchSize(tt,j,$),lt=_slicedToArray$1(ut,1),pt=lt[0],vt=nt?nt(tt):null;return ht&&pt&&!vt})}function isPropagationStopped(g){return typeof g.isPropagationStopped=="function"?g.isPropagationStopped():typeof g.cancelBubble<"u"?g.cancelBubble:!1}function isEvtWithFiles(g){return g.dataTransfer?Array.prototype.some.call(g.dataTransfer.types,function(b){return b==="Files"||b==="application/x-moz-file"}):!!g.target&&!!g.target.files}function onDocumentDragOver(g){g.preventDefault()}function isIe(g){return g.indexOf("MSIE")!==-1||g.indexOf("Trident/")!==-1}function isEdge(g){return g.indexOf("Edge/")!==-1}function isIeOrEdge(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(g)||isEdge(g)}function composeEventHandlers(){for(var g=arguments.length,b=new Array(g),_=0;_<g;_++)b[_]=arguments[_];return function(j){for(var $=arguments.length,_e=new Array($>1?$-1:0),et=1;et<$;et++)_e[et-1]=arguments[et];return b.some(function(nt){return!isPropagationStopped(j)&&nt&&nt.apply(void 0,[j].concat(_e)),isPropagationStopped(j)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(g){if(isDefined(g)){var b=Object.entries(g).filter(function(_){var j=_slicedToArray$1(_,2),$=j[0],_e=j[1],et=!0;return isMIMEType($)||(console.warn('Skipped "'.concat($,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),et=!1),(!Array.isArray(_e)||!_e.every(isExt))&&(console.warn('Skipped "'.concat($,'" because an invalid file extension was provided.')),et=!1),et}).reduce(function(_,j){var $=_slicedToArray$1(j,2),_e=$[0],et=$[1];return _objectSpread$1(_objectSpread$1({},_),{},_defineProperty$1({},_e,et))},{});return[{description:"Files",accept:b}]}return g}function acceptPropAsAcceptAttr(g){if(isDefined(g))return Object.entries(g).reduce(function(b,_){var j=_slicedToArray$1(_,2),$=j[0],_e=j[1];return[].concat(_toConsumableArray$1(b),[$],_toConsumableArray$1(_e))},[]).filter(function(b){return isMIMEType(b)||isExt(b)}).join(",")}function isAbort(g){return g instanceof DOMException&&(g.name==="AbortError"||g.code===g.ABORT_ERR)}function isSecurityError(g){return g instanceof DOMException&&(g.name==="SecurityError"||g.code===g.SECURITY_ERR)}function isMIMEType(g){return g==="audio/*"||g==="video/*"||g==="image/*"||g==="text/*"||g==="application/*"||/\w+\/[-+.\w]+/g.test(g)}function isExt(g){return/^.*\.[\w]+$/.test(g)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(g){return _arrayWithoutHoles(g)||_iterableToArray(g)||_unsupportedIterableToArray(g)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}function _arrayWithoutHoles(g){if(Array.isArray(g))return _arrayLikeToArray(g)}function _slicedToArray(g,b){return _arrayWithHoles(g)||_iterableToArrayLimit(g,b)||_unsupportedIterableToArray(g,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(g,b){if(g){if(typeof g=="string")return _arrayLikeToArray(g,b);var _=Object.prototype.toString.call(g).slice(8,-1);if(_==="Object"&&g.constructor&&(_=g.constructor.name),_==="Map"||_==="Set")return Array.from(g);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _arrayLikeToArray(g,b)}}function _arrayLikeToArray(g,b){(b==null||b>g.length)&&(b=g.length);for(var _=0,j=new Array(b);_<b;_++)j[_]=g[_];return j}function _iterableToArrayLimit(g,b){var _=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(_!=null){var j=[],$=!0,_e=!1,et,nt;try{for(_=_.call(g);!($=(et=_.next()).done)&&(j.push(et.value),!(b&&j.length===b));$=!0);}catch(tt){_e=!0,nt=tt}finally{try{!$&&_.return!=null&&_.return()}finally{if(_e)throw nt}}return j}}function _arrayWithHoles(g){if(Array.isArray(g))return g}function ownKeys(g,b){var _=Object.keys(g);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(g);b&&(j=j.filter(function($){return Object.getOwnPropertyDescriptor(g,$).enumerable})),_.push.apply(_,j)}return _}function _objectSpread(g){for(var b=1;b<arguments.length;b++){var _=arguments[b]!=null?arguments[b]:{};b%2?ownKeys(Object(_),!0).forEach(function(j){_defineProperty(g,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(_)):ownKeys(Object(_)).forEach(function(j){Object.defineProperty(g,j,Object.getOwnPropertyDescriptor(_,j))})}return g}function _defineProperty(g,b,_){return b in g?Object.defineProperty(g,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[b]=_,g}function _objectWithoutProperties(g,b){if(g==null)return{};var _=_objectWithoutPropertiesLoose(g,b),j,$;if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(g);for($=0;$<_e.length;$++)j=_e[$],!(b.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(g,j)&&(_[j]=g[j])}return _}function _objectWithoutPropertiesLoose(g,b){if(g==null)return{};var _={},j=Object.keys(g),$,_e;for(_e=0;_e<j.length;_e++)$=j[_e],!(b.indexOf($)>=0)&&(_[$]=g[$]);return _}var Dropzone=reactExports.forwardRef(function(g,b){var _=g.children,j=_objectWithoutProperties(g,_excluded),$=useDropzone(j),_e=$.open,et=_objectWithoutProperties($,_excluded2);return reactExports.useImperativeHandle(b,function(){return{open:_e}},[_e]),React$2.createElement(reactExports.Fragment,null,_(_objectSpread(_objectSpread({},et),{},{open:_e})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=_objectSpread(_objectSpread({},defaultProps),g),_=b.accept,j=b.disabled,$=b.getFilesFromEvent,_e=b.maxSize,et=b.minSize,nt=b.multiple,tt=b.maxFiles,rt=b.onDragEnter,it=b.onDragLeave,ht=b.onDragOver,ut=b.onDrop,lt=b.onDropAccepted,pt=b.onDropRejected,vt=b.onFileDialogCancel,yt=b.onFileDialogOpen,st=b.useFsAccessApi,ot=b.autoFocus,mt=b.preventDropOnDocument,ft=b.noClick,ct=b.noKeyboard,xt=b.noDrag,dt=b.noDragEventsBubbling,gt=b.onError,St=b.validator,kt=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(_)},[_]),bt=reactExports.useMemo(function(){return pickerOptionsFromAccept(_)},[_]),wt=reactExports.useMemo(function(){return typeof yt=="function"?yt:noop},[yt]),Tt=reactExports.useMemo(function(){return typeof vt=="function"?vt:noop},[vt]),Ht=reactExports.useRef(null),Bt=reactExports.useRef(null),Wt=reactExports.useReducer(reducer,initialState),Dt=_slicedToArray(Wt,2),It=Dt[0],At=Dt[1],Ft=It.isFocused,Vt=It.isFileDialogActive,Pt=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&st&&canUseFileSystemAccessAPI()),Et=function(){!Pt.current&&Vt&&setTimeout(function(){if(Bt.current){var Ut=Bt.current.files;Ut.length||(At({type:"closeDialog"}),Tt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Et,!1),function(){window.removeEventListener("focus",Et,!1)}},[Bt,Vt,Tt,Pt]);var _t=reactExports.useRef([]),Ct=function(Ut){Ht.current&&Ht.current.contains(Ut.target)||(Ut.preventDefault(),_t.current=[])};reactExports.useEffect(function(){return mt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Ct,!1)),function(){mt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Ct))}},[Ht,mt]),reactExports.useEffect(function(){return!j&&ot&&Ht.current&&Ht.current.focus(),function(){}},[Ht,ot,j]);var Mt=reactExports.useCallback(function(Zt){gt?gt(Zt):console.error(Zt)},[gt]),Nt=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),qt(Zt),_t.current=[].concat(_toConsumableArray(_t.current),[Zt.target]),isEvtWithFiles(Zt)&&Promise.resolve($(Zt)).then(function(Ut){if(!(isPropagationStopped(Zt)&&!dt)){var bn=Ut.length,yn=bn>0&&allFilesAccepted({files:Ut,accept:kt,minSize:et,maxSize:_e,multiple:nt,maxFiles:tt,validator:St}),In=bn>0&&!yn;At({isDragAccept:yn,isDragReject:In,isDragActive:!0,type:"setDraggedFiles"}),rt&&rt(Zt)}}).catch(function(Ut){return Mt(Ut)})},[$,rt,Mt,dt,kt,et,_e,nt,tt,St]),zt=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),qt(Zt);var Ut=isEvtWithFiles(Zt);if(Ut&&Zt.dataTransfer)try{Zt.dataTransfer.dropEffect="copy"}catch{}return Ut&&ht&&ht(Zt),!1},[ht,dt]),Xt=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),qt(Zt);var Ut=_t.current.filter(function(yn){return Ht.current&&Ht.current.contains(yn)}),bn=Ut.indexOf(Zt.target);bn!==-1&&Ut.splice(bn,1),_t.current=Ut,!(Ut.length>0)&&(At({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(Zt)&&it&&it(Zt))},[Ht,it,dt]),Jt=reactExports.useCallback(function(Zt,Ut){var bn=[],yn=[];Zt.forEach(function(In){var Nn=fileAccepted(In,kt),Fn=_slicedToArray(Nn,2),wn=Fn[0],kn=Fn[1],zn=fileMatchSize(In,et,_e),$n=_slicedToArray(zn,2),gn=$n[0],tn=$n[1],rn=St?St(In):null;if(wn&&gn&&!rn)bn.push(In);else{var An=[kn,tn];rn&&(An=An.concat(rn)),yn.push({file:In,errors:An.filter(function(Un){return Un})})}}),(!nt&&bn.length>1||nt&&tt>=1&&bn.length>tt)&&(bn.forEach(function(In){yn.push({file:In,errors:[TOO_MANY_FILES_REJECTION]})}),bn.splice(0)),At({acceptedFiles:bn,fileRejections:yn,isDragReject:yn.length>0,type:"setFiles"}),ut&&ut(bn,yn,Ut),yn.length>0&&pt&&pt(yn,Ut),bn.length>0&&lt&&lt(bn,Ut)},[At,nt,kt,et,_e,tt,ut,lt,pt,St]),on=reactExports.useCallback(function(Zt){Zt.preventDefault(),Zt.persist(),qt(Zt),_t.current=[],isEvtWithFiles(Zt)&&Promise.resolve($(Zt)).then(function(Ut){isPropagationStopped(Zt)&&!dt||Jt(Ut,Zt)}).catch(function(Ut){return Mt(Ut)}),At({type:"reset"})},[$,Jt,Mt,dt]),ln=reactExports.useCallback(function(){if(Pt.current){At({type:"openDialog"}),wt();var Zt={multiple:nt,types:bt};window.showOpenFilePicker(Zt).then(function(Ut){return $(Ut)}).then(function(Ut){Jt(Ut,null),At({type:"closeDialog"})}).catch(function(Ut){isAbort(Ut)?(Tt(Ut),At({type:"closeDialog"})):isSecurityError(Ut)?(Pt.current=!1,Bt.current?(Bt.current.value=null,Bt.current.click()):Mt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Mt(Ut)});return}Bt.current&&(At({type:"openDialog"}),wt(),Bt.current.value=null,Bt.current.click())},[At,wt,Tt,st,Jt,Mt,bt,nt]),fn=reactExports.useCallback(function(Zt){!Ht.current||!Ht.current.isEqualNode(Zt.target)||(Zt.key===" "||Zt.key==="Enter"||Zt.keyCode===32||Zt.keyCode===13)&&(Zt.preventDefault(),ln())},[Ht,ln]),pn=reactExports.useCallback(function(){At({type:"focus"})},[]),mn=reactExports.useCallback(function(){At({type:"blur"})},[]),Yt=reactExports.useCallback(function(){ft||(isIeOrEdge()?setTimeout(ln,0):ln())},[ft,ln]),Kt=function(Ut){return j?null:Ut},Rt=function(Ut){return ct?null:Kt(Ut)},Ot=function(Ut){return xt?null:Kt(Ut)},qt=function(Ut){dt&&Ut.stopPropagation()},en=reactExports.useMemo(function(){return function(){var Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ut=Zt.refKey,bn=Ut===void 0?"ref":Ut,yn=Zt.role,In=Zt.onKeyDown,Nn=Zt.onFocus,Fn=Zt.onBlur,wn=Zt.onClick,kn=Zt.onDragEnter,zn=Zt.onDragOver,$n=Zt.onDragLeave,gn=Zt.onDrop,tn=_objectWithoutProperties(Zt,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:Rt(composeEventHandlers(In,fn)),onFocus:Rt(composeEventHandlers(Nn,pn)),onBlur:Rt(composeEventHandlers(Fn,mn)),onClick:Kt(composeEventHandlers(wn,Yt)),onDragEnter:Ot(composeEventHandlers(kn,Nt)),onDragOver:Ot(composeEventHandlers(zn,zt)),onDragLeave:Ot(composeEventHandlers($n,Xt)),onDrop:Ot(composeEventHandlers(gn,on)),role:typeof yn=="string"&&yn!==""?yn:"presentation"},bn,Ht),!j&&!ct?{tabIndex:0}:{}),tn)}},[Ht,fn,pn,mn,Yt,Nt,zt,Xt,on,ct,xt,j]),dn=reactExports.useCallback(function(Zt){Zt.stopPropagation()},[]),xn=reactExports.useMemo(function(){return function(){var Zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ut=Zt.refKey,bn=Ut===void 0?"ref":Ut,yn=Zt.onChange,In=Zt.onClick,Nn=_objectWithoutProperties(Zt,_excluded4),Fn=_defineProperty({accept:kt,multiple:nt,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Kt(composeEventHandlers(yn,on)),onClick:Kt(composeEventHandlers(In,dn)),tabIndex:-1},bn,Bt);return _objectSpread(_objectSpread({},Fn),Nn)}},[Bt,_,nt,on,j]);return _objectSpread(_objectSpread({},It),{},{isFocused:Ft&&!j,getRootProps:en,getInputProps:xn,rootRef:Ht,inputRef:Bt,open:Kt(ln)})}function reducer(g,b){switch(b.type){case"focus":return _objectSpread(_objectSpread({},g),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},g),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},g),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},g),{},{isDragActive:b.isDragActive,isDragAccept:b.isDragAccept,isDragReject:b.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},g),{},{acceptedFiles:b.acceptedFiles,fileRejections:b.fileRejections,isDragReject:b.isDragReject});case"reset":return _objectSpread({},initialState);default:return g}}function noop(){}function AudioUploadScreen({onFileSelect:g,onBack:b}){const[_,j]=reactExports.useState(!1),$=reactExports.useCallback(tt=>{const rt=tt[0];rt&&rt.type.startsWith("audio/")&&g(rt)},[g]),{getRootProps:_e,getInputProps:et,isDragActive:nt}=useDropzone({onDrop:$,accept:{"audio/mpeg":[".mp3"],"audio/wav":[".wav"],"audio/mp4":[".m4a"],"audio/ogg":[".ogg"]},multiple:!1,onDragEnter:()=>j(!0),onDragLeave:()=>j(!1)});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center p-6 bg-white shadow-sm",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:b,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back to Home"]}),jsxRuntimeExports.jsx("div",{className:"flex-1 text-center",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Audio Redaction"})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"max-w-2xl w-full",children:[jsxRuntimeExports.jsxs("div",{..._e(),className:`
              border-2 border-dashed rounded-xl p-16 text-center cursor-pointer transition-all duration-200
              ${nt||_?"border-green-500 bg-green-50 scale-105":"border-gray-300 bg-white hover:border-green-400 hover:bg-green-50"}
            `,children:[jsxRuntimeExports.jsx("input",{...et()}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:`
                rounded-full p-8 mb-6 transition-colors
                ${nt||_?"bg-green-200":"bg-green-100"}
              `,children:jsxRuntimeExports.jsx(Upload,{className:`
                  w-16 h-16 transition-colors
                  ${nt||_?"text-green-700":"text-green-600"}
                `})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:nt?"Drop your audio file here":"Upload your audio file"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Drag & drop your MP3, WAV, or M4A file here"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-500 mb-4",children:"or"}),jsxRuntimeExports.jsx(Button,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:"Browse Files"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 text-sm text-gray-500",children:[jsxRuntimeExports.jsx("p",{children:"Supported formats: MP3, WAV, M4A, OGG"}),jsxRuntimeExports.jsx("p",{className:"mt-1",children:"Maximum file size: 500MB"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-blue-600 font-semibold",children:"1"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Transcribe"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"AI transcribes your audio with precise word-level timestamps"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-orange-600 font-semibold",children:"2"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Analyze"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Identify PII like names, addresses, phone numbers automatically"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-green-600 font-semibold",children:"3"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Redact"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Silence, beep, or anonymize sensitive audio sections"})]})]})]})})]})}function t$1(g,b,_,j){return new(_||(_=Promise))(function($,_e){function et(rt){try{tt(j.next(rt))}catch(it){_e(it)}}function nt(rt){try{tt(j.throw(rt))}catch(it){_e(it)}}function tt(rt){var it;rt.done?$(rt.value):(it=rt.value,it instanceof _?it:new _(function(ht){ht(it)})).then(et,nt)}tt((j=j.apply(g,b||[])).next())})}let e$1=class{constructor(){this.listeners={}}on(b,_,j){if(this.listeners[b]||(this.listeners[b]=new Set),this.listeners[b].add(_),j==null?void 0:j.once){const $=()=>{this.un(b,$),this.un(b,_)};return this.on(b,$),$}return()=>this.un(b,_)}un(b,_){var j;(j=this.listeners[b])===null||j===void 0||j.delete(_)}once(b,_){return this.on(b,_,{once:!0})}unAll(){this.listeners={}}emit(b,..._){this.listeners[b]&&this.listeners[b].forEach(j=>j(..._))}};const i$1={decode:function(g,b){return t$1(this,void 0,void 0,function*(){const _=new AudioContext({sampleRate:b});return _.decodeAudioData(g).finally(()=>_.close())})},createBuffer:function(g,b){return typeof g[0]=="number"&&(g=[g]),function(_){const j=_[0];if(j.some($=>$>1||$<-1)){const $=j.length;let _e=0;for(let et=0;et<$;et++){const nt=Math.abs(j[et]);nt>_e&&(_e=nt)}for(const et of _)for(let nt=0;nt<$;nt++)et[nt]/=_e}}(g),{duration:b,length:g[0].length,sampleRate:g[0].length/b,numberOfChannels:g.length,getChannelData:_=>g==null?void 0:g[_],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function s$1(g,b){const _=b.xmlns?document.createElementNS(b.xmlns,g):document.createElement(g);for(const[j,$]of Object.entries(b))if(j==="children"&&$)for(const[_e,et]of Object.entries($))et instanceof Node?_.appendChild(et):typeof et=="string"?_.appendChild(document.createTextNode(et)):_.appendChild(s$1(_e,et));else j==="style"?Object.assign(_.style,$):j==="textContent"?_.textContent=$:_.setAttribute(j,$.toString());return _}function n$1(g,b,_){const j=s$1(g,b||{});return _==null||_.appendChild(j),j}var r$1=Object.freeze({__proto__:null,createElement:n$1,default:n$1});const o$1={fetchBlob:function(g,b,_){return t$1(this,void 0,void 0,function*(){const j=yield fetch(g,_);if(j.status>=400)throw new Error(`Failed to fetch ${g}: ${j.status} (${j.statusText})`);return function($,_e){t$1(this,void 0,void 0,function*(){if(!$.body||!$.headers)return;const et=$.body.getReader(),nt=Number($.headers.get("Content-Length"))||0;let tt=0;const rt=ht=>t$1(this,void 0,void 0,function*(){tt+=(ht==null?void 0:ht.length)||0;const ut=Math.round(tt/nt*100);_e(ut)}),it=()=>t$1(this,void 0,void 0,function*(){let ht;try{ht=yield et.read()}catch{return}ht.done||(rt(ht.value),yield it())});it()})}(j.clone(),b),j.blob()})}};class a extends e$1{constructor(b){super(),this.isExternalMedia=!1,b.media?(this.media=b.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),b.mediaControls&&(this.media.controls=!0),b.autoplay&&(this.media.autoplay=!0),b.playbackRate!=null&&this.onMediaEvent("canplay",()=>{b.playbackRate!=null&&(this.media.playbackRate=b.playbackRate)},{once:!0})}onMediaEvent(b,_,j){return this.media.addEventListener(b,_,j),()=>this.media.removeEventListener(b,_,j)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const b=this.getSrc();b.startsWith("blob:")&&URL.revokeObjectURL(b)}canPlayType(b){return this.media.canPlayType(b)!==""}setSrc(b,_){const j=this.getSrc();if(b&&j===b)return;this.revokeSrc();const $=_ instanceof Blob&&(this.canPlayType(_.type)||!b)?URL.createObjectURL(_):b;if(j&&this.media.removeAttribute("src"),$||b)try{this.media.src=$}catch{this.media.src=b}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.removeAttribute("src"),this.media.load())}setMediaElement(b){this.media=b}play(){return t$1(this,void 0,void 0,function*(){try{return yield this.media.play()}catch(b){if(b instanceof DOMException&&b.name==="AbortError")return;throw b}})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(b){this.media.currentTime=Math.max(0,Math.min(b,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(b){this.media.volume=b}getMuted(){return this.media.muted}setMuted(b){this.media.muted=b}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(b,_){_!=null&&(this.media.preservesPitch=_),this.media.playbackRate=b}getMediaElement(){return this.media}setSinkId(b){return this.media.setSinkId(b)}}class h extends e$1{constructor(b,_){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=b;const j=this.parentFromOptionsContainer(b.container);this.parent=j;const[$,_e]=this.initHtml();j.appendChild($),this.container=$,this.scrollContainer=_e.querySelector(".scroll"),this.wrapper=_e.querySelector(".wrapper"),this.canvasWrapper=_e.querySelector(".canvases"),this.progressWrapper=_e.querySelector(".progress"),this.cursor=_e.querySelector(".cursor"),_&&_e.appendChild(_),this.initEvents()}parentFromOptionsContainer(b){let _;if(typeof b=="string"?_=document.querySelector(b):b instanceof HTMLElement&&(_=b),!_)throw new Error("Container not found");return _}initEvents(){const b=_=>{const j=this.wrapper.getBoundingClientRect(),$=_.clientX-j.left,_e=_.clientY-j.top;return[$/j.width,_e/j.height]};if(this.wrapper.addEventListener("click",_=>{const[j,$]=b(_);this.emit("click",j,$)}),this.wrapper.addEventListener("dblclick",_=>{const[j,$]=b(_);this.emit("dblclick",j,$)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:_,scrollWidth:j,clientWidth:$}=this.scrollContainer,_e=_/j,et=(_+$)/j;this.emit("scroll",_e,et,_,_+$)}),typeof ResizeObserver=="function"){const _=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{_().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const b=this.parent.clientWidth;b===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=b,this.reRender())}initDrag(){this.subscriptions.push(function(b,_,j,$,_e=3,et=0,nt=100){if(!b)return()=>{};const tt=matchMedia("(pointer: coarse)").matches;let rt=()=>{};const it=ht=>{if(ht.button!==et)return;ht.preventDefault(),ht.stopPropagation();let ut=ht.clientX,lt=ht.clientY,pt=!1;const vt=Date.now(),yt=ct=>{if(ct.preventDefault(),ct.stopPropagation(),tt&&Date.now()-vt<nt)return;const xt=ct.clientX,dt=ct.clientY,gt=xt-ut,St=dt-lt;if(pt||Math.abs(gt)>_e||Math.abs(St)>_e){const kt=b.getBoundingClientRect(),{left:bt,top:wt}=kt;pt||(j==null||j(ut-bt,lt-wt),pt=!0),_(gt,St,xt-bt,dt-wt),ut=xt,lt=dt}},st=ct=>{if(pt){const xt=ct.clientX,dt=ct.clientY,gt=b.getBoundingClientRect(),{left:St,top:kt}=gt;$==null||$(xt-St,dt-kt)}rt()},ot=ct=>{ct.relatedTarget&&ct.relatedTarget!==document.documentElement||st(ct)},mt=ct=>{pt&&(ct.stopPropagation(),ct.preventDefault())},ft=ct=>{pt&&ct.preventDefault()};document.addEventListener("pointermove",yt),document.addEventListener("pointerup",st),document.addEventListener("pointerout",ot),document.addEventListener("pointercancel",ot),document.addEventListener("touchmove",ft,{passive:!1}),document.addEventListener("click",mt,{capture:!0}),rt=()=>{document.removeEventListener("pointermove",yt),document.removeEventListener("pointerup",st),document.removeEventListener("pointerout",ot),document.removeEventListener("pointercancel",ot),document.removeEventListener("touchmove",ft),setTimeout(()=>{document.removeEventListener("click",mt,{capture:!0})},10)}};return b.addEventListener("pointerdown",it),()=>{rt(),b.removeEventListener("pointerdown",it)}}(this.wrapper,(b,_,j)=>{this.emit("drag",Math.max(0,Math.min(1,j/this.wrapper.getBoundingClientRect().width)))},b=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,b/this.wrapper.getBoundingClientRect().width)))},b=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,b/this.wrapper.getBoundingClientRect().width)))}))}getHeight(b,_){var j;const $=((j=this.audioData)===null||j===void 0?void 0:j.numberOfChannels)||1;if(b==null)return 128;if(!isNaN(Number(b)))return Number(b);if(b==="auto"){const _e=this.parent.clientHeight||128;return _!=null&&_.every(et=>!et.overlay)?_e/$:_e}return 128}initHtml(){const b=document.createElement("div"),_=b.attachShadow({mode:"open"}),j=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return _.innerHTML=`
      <style${j?` nonce="${j}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[b,_]}setOptions(b){if(this.options.container!==b.container){const _=this.parentFromOptionsContainer(b.container);_.appendChild(this.container),this.parent=_}b.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=b,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(b){this.scrollContainer.scrollLeft=b}setScrollPercentage(b){const{scrollWidth:_}=this.scrollContainer,j=_*b;this.setScroll(j)}destroy(){var b,_;this.subscriptions.forEach(j=>j()),this.container.remove(),(b=this.resizeObserver)===null||b===void 0||b.disconnect(),(_=this.unsubscribeOnScroll)===null||_===void 0||_.forEach(j=>j()),this.unsubscribeOnScroll=[]}createDelay(b=10){let _,j;const $=()=>{_&&clearTimeout(_),j&&j()};return this.timeouts.push($),()=>new Promise((_e,et)=>{$(),j=et,_=setTimeout(()=>{_=void 0,j=void 0,_e()},b)})}convertColorValues(b){if(!Array.isArray(b))return b||"";if(b.length<2)return b[0]||"";const _=document.createElement("canvas"),j=_.getContext("2d"),$=_.height*(window.devicePixelRatio||1),_e=j.createLinearGradient(0,0,0,$),et=1/(b.length-1);return b.forEach((nt,tt)=>{const rt=tt*et;_e.addColorStop(rt,nt)}),_e}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(b,_,j,$){const _e=b[0],et=b[1]||b[0],nt=_e.length,{width:tt,height:rt}=j.canvas,it=rt/2,ht=this.getPixelRatio(),ut=_.barWidth?_.barWidth*ht:1,lt=_.barGap?_.barGap*ht:_.barWidth?ut/2:0,pt=_.barRadius||0,vt=tt/(ut+lt)/nt,yt=pt&&"roundRect"in j?"roundRect":"rect";j.beginPath();let st=0,ot=0,mt=0;for(let ft=0;ft<=nt;ft++){const ct=Math.round(ft*vt);if(ct>st){const gt=Math.round(ot*it*$),St=gt+Math.round(mt*it*$)||1;let kt=it-gt;_.barAlign==="top"?kt=0:_.barAlign==="bottom"&&(kt=rt-St),j[yt](st*(ut+lt),kt,ut,St,pt),st=ct,ot=0,mt=0}const xt=Math.abs(_e[ft]||0),dt=Math.abs(et[ft]||0);xt>ot&&(ot=xt),dt>mt&&(mt=dt)}j.fill(),j.closePath()}renderLineWaveform(b,_,j,$){const _e=et=>{const nt=b[et]||b[0],tt=nt.length,{height:rt}=j.canvas,it=rt/2,ht=j.canvas.width/tt;j.moveTo(0,it);let ut=0,lt=0;for(let pt=0;pt<=tt;pt++){const vt=Math.round(pt*ht);if(vt>ut){const st=it+(Math.round(lt*it*$)||1)*(et===0?-1:1);j.lineTo(ut,st),ut=vt,lt=0}const yt=Math.abs(nt[pt]||0);yt>lt&&(lt=yt)}j.lineTo(ut,it)};j.beginPath(),_e(0),_e(1),j.fill(),j.closePath()}renderWaveform(b,_,j){if(j.fillStyle=this.convertColorValues(_.waveColor),_.renderFunction)return void _.renderFunction(b,j);let $=_.barHeight||1;if(_.normalize){const _e=Array.from(b[0]).reduce((et,nt)=>Math.max(et,Math.abs(nt)),0);$=_e?1/_e:1}_.barWidth||_.barGap||_.barAlign?this.renderBarWaveform(b,_,j,$):this.renderLineWaveform(b,_,j,$)}renderSingleCanvas(b,_,j,$,_e,et,nt){const tt=this.getPixelRatio(),rt=document.createElement("canvas");rt.width=Math.round(j*tt),rt.height=Math.round($*tt),rt.style.width=`${j}px`,rt.style.height=`${$}px`,rt.style.left=`${Math.round(_e)}px`,et.appendChild(rt);const it=rt.getContext("2d");if(this.renderWaveform(b,_,it),rt.width>0&&rt.height>0){const ht=rt.cloneNode(),ut=ht.getContext("2d");ut.drawImage(rt,0,0),ut.globalCompositeOperation="source-in",ut.fillStyle=this.convertColorValues(_.progressColor),ut.fillRect(0,0,rt.width,rt.height),nt.appendChild(ht)}}renderMultiCanvas(b,_,j,$,_e,et){const nt=this.getPixelRatio(),{clientWidth:tt}=this.scrollContainer,rt=j/nt;let it=Math.min(h.MAX_CANVAS_WIDTH,tt,rt),ht={};if(_.barWidth||_.barGap){const yt=_.barWidth||.5,st=yt+(_.barGap||yt/2);it%st!=0&&(it=Math.floor(it/st)*st)}if(it===0)return;const ut=yt=>{if(yt<0||yt>=lt||ht[yt])return;ht[yt]=!0;const st=yt*it;let ot=Math.min(rt-st,it);if(_.barWidth||_.barGap){const ft=_.barWidth||.5,ct=ft+(_.barGap||ft/2);ot=Math.floor(ot/ct)*ct}if(ot<=0)return;const mt=b.map(ft=>{const ct=Math.floor(st/rt*ft.length),xt=Math.floor((st+ot)/rt*ft.length);return ft.slice(ct,xt)});this.renderSingleCanvas(mt,_,ot,$,st,_e,et)},lt=Math.ceil(rt/it);if(!this.isScrollable){for(let yt=0;yt<lt;yt++)ut(yt);return}const pt=this.scrollContainer.scrollLeft/rt,vt=Math.floor(pt*lt);if(ut(vt-1),ut(vt),ut(vt+1),lt>1){const yt=this.on("scroll",()=>{const{scrollLeft:st}=this.scrollContainer,ot=Math.floor(st/rt*lt);Object.keys(ht).length>h.MAX_NODES&&(_e.innerHTML="",et.innerHTML="",ht={}),ut(ot-1),ut(ot),ut(ot+1)});this.unsubscribeOnScroll.push(yt)}}renderChannel(b,_,j,$){var{overlay:_e}=_,et=function(it,ht){var ut={};for(var lt in it)Object.prototype.hasOwnProperty.call(it,lt)&&ht.indexOf(lt)<0&&(ut[lt]=it[lt]);if(it!=null&&typeof Object.getOwnPropertySymbols=="function"){var pt=0;for(lt=Object.getOwnPropertySymbols(it);pt<lt.length;pt++)ht.indexOf(lt[pt])<0&&Object.prototype.propertyIsEnumerable.call(it,lt[pt])&&(ut[lt[pt]]=it[lt[pt]])}return ut}(_,["overlay"]);const nt=document.createElement("div"),tt=this.getHeight(et.height,et.splitChannels);nt.style.height=`${tt}px`,_e&&$>0&&(nt.style.marginTop=`-${tt}px`),this.canvasWrapper.style.minHeight=`${tt}px`,this.canvasWrapper.appendChild(nt);const rt=nt.cloneNode();this.progressWrapper.appendChild(rt),this.renderMultiCanvas(b,et,j,tt,nt,rt)}render(b){return t$1(this,void 0,void 0,function*(){var _;this.timeouts.forEach(tt=>tt()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const j=this.getPixelRatio(),$=this.scrollContainer.clientWidth,_e=Math.ceil(b.duration*(this.options.minPxPerSec||0));this.isScrollable=_e>$;const et=this.options.fillParent&&!this.isScrollable,nt=(et?$:_e)*j;if(this.wrapper.style.width=et?"100%":`${_e}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=b,this.emit("render"),this.options.splitChannels)for(let tt=0;tt<b.numberOfChannels;tt++){const rt=Object.assign(Object.assign({},this.options),(_=this.options.splitChannels)===null||_===void 0?void 0:_[tt]);this.renderChannel([b.getChannelData(tt)],rt,nt,tt)}else{const tt=[b.getChannelData(0)];b.numberOfChannels>1&&tt.push(b.getChannelData(1)),this.renderChannel(tt,this.options,nt,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(j=>j()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:b}=this.scrollContainer,{right:_}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&b!==this.scrollContainer.scrollWidth){const{right:j}=this.progressWrapper.getBoundingClientRect();let $=j-_;$*=2,$=$<0?Math.floor($):Math.ceil($),$/=2,this.scrollContainer.scrollLeft+=$}}zoom(b){this.options.minPxPerSec=b,this.reRender()}scrollIntoView(b,_=!1){const{scrollLeft:j,scrollWidth:$,clientWidth:_e}=this.scrollContainer,et=b*$,nt=j,tt=j+_e,rt=_e/2;if(this.isDragging)et+30>tt?this.scrollContainer.scrollLeft+=30:et-30<nt&&(this.scrollContainer.scrollLeft-=30);else{(et<nt||et>tt)&&(this.scrollContainer.scrollLeft=et-(this.options.autoCenter?rt:0));const it=et-j-rt;_&&this.options.autoCenter&&it>0&&(this.scrollContainer.scrollLeft+=Math.min(it,10))}{const it=this.scrollContainer.scrollLeft,ht=it/$,ut=(it+_e)/$;this.emit("scroll",ht,ut,it,it+_e)}}renderProgress(b,_){if(isNaN(b))return;const j=100*b;this.canvasWrapper.style.clipPath=`polygon(${j}% 0%, 100% 0%, 100% 100%, ${j}% 100%)`,this.progressWrapper.style.width=`${j}%`,this.cursor.style.left=`${j}%`,this.cursor.style.transform=this.options.cursorWidth?`translateX(-${b*this.options.cursorWidth}px)`:"",this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(b,_)}exportImage(b,_,j){return t$1(this,void 0,void 0,function*(){const $=this.canvasWrapper.querySelectorAll("canvas");if(!$.length)throw new Error("No waveform data");if(j==="dataURL"){const _e=Array.from($).map(et=>et.toDataURL(b,_));return Promise.resolve(_e)}return Promise.all(Array.from($).map(_e=>new Promise((et,nt)=>{_e.toBlob(tt=>{tt?et(tt):nt(new Error("Could not export image"))},b,_)})))})}}h.MAX_CANVAS_WIDTH=8e3,h.MAX_NODES=10;class l extends e$1{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class d extends e$1{constructor(b=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=b,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return t$1(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(b){if(this.currentSrc=b,this._duration=void 0,!b)return this.buffer=null,void this.emit("emptied");fetch(b).then(_=>{if(_.status>=400)throw new Error(`Failed to fetch ${b}: ${_.status} (${_.statusText})`);return _.arrayBuffer()}).then(_=>this.currentSrc!==b?null:this.audioContext.decodeAudioData(_)).then(_=>{this.currentSrc===b&&(this.buffer=_,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var b;if(!this.paused)return;this.paused=!1,(b=this.bufferNode)===null||b===void 0||b.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let _=this.playedDuration*this._playbackRate;(_>=this.duration||_<0)&&(_=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,_),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var b;this.paused=!0,(b=this.bufferNode)===null||b===void 0||b.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return t$1(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(b){const _=b-this.currentTime,j=this.bufferNode;j==null||j.stop(this.audioContext.currentTime+_),j==null||j.addEventListener("ended",()=>{j===this.bufferNode&&(this.bufferNode=null,this.pause())},{once:!0})}setSinkId(b){return t$1(this,void 0,void 0,function*(){return this.audioContext.setSinkId(b)})}get playbackRate(){return this._playbackRate}set playbackRate(b){this._playbackRate=b,this.bufferNode&&(this.bufferNode.playbackRate.value=b)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(b){const _=!this.paused;_&&this._pause(),this.playedDuration=b/this._playbackRate,_&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var b,_;return(b=this._duration)!==null&&b!==void 0?b:((_=this.buffer)===null||_===void 0?void 0:_.duration)||0}set duration(b){this._duration=b}get volume(){return this.gainNode.gain.value}set volume(b){this.gainNode.gain.value=b,this.emit("volumechange")}get muted(){return this._muted}set muted(b){this._muted!==b&&(this._muted=b,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(b){return/^(audio|video)\//.test(b)}getGainNode(){return this.gainNode}getChannelData(){const b=[];if(!this.buffer)return b;const _=this.buffer.numberOfChannels;for(let j=0;j<_;j++)b.push(this.buffer.getChannelData(j));return b}removeAttribute(b){switch(b){case"src":this.src="";break;case"playbackRate":this.playbackRate=0;break;case"currentTime":this.currentTime=0;break;case"duration":this.duration=0;break;case"volume":this.volume=0;break;case"muted":this.muted=!1}}}const c={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class u extends a{static create(b){return new u(b)}constructor(b){const _=b.media||(b.backend==="WebAudio"?new d:void 0);super({media:_,mediaControls:b.mediaControls,autoplay:b.autoplay,playbackRate:b.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},c,b),this.timer=new l;const j=_?void 0:this.getMediaElement();this.renderer=new h(this.options,j),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const $=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:_e,duration:et}=this.options;($||_e&&et)&&this.load($,_e,et).catch(()=>null)})}updateProgress(b=this.getCurrentTime()){return this.renderer.renderProgress(b/this.getDuration(),this.isPlaying()),b}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const b=this.updateProgress();this.emit("timeupdate",b),this.emit("audioprocess",b),this.stopAtPosition!=null&&this.isPlaying()&&b>=this.stopAtPosition&&this.pause()}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const b=this.updateProgress();this.emit("timeupdate",b)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("emptied",()=>{this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",()=>{var b;this.emit("error",(b=this.getMediaElement().error)!==null&&b!==void 0?b:new Error("Media error")),this.stopAtPosition=null}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(b,_)=>{this.options.interact&&(this.seekTo(b),this.emit("interaction",b*this.getDuration()),this.emit("click",b,_))}),this.renderer.on("dblclick",(b,_)=>{this.emit("dblclick",b,_)}),this.renderer.on("scroll",(b,_,j,$)=>{const _e=this.getDuration();this.emit("scroll",b*_e,_*_e,j,$)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",b=>{this.emit("dragstart",b)}),this.renderer.on("dragend",b=>{this.emit("dragend",b)}));{let b;this.subscriptions.push(this.renderer.on("drag",_=>{if(!this.options.interact)return;let j;this.renderer.renderProgress(_),clearTimeout(b),this.isPlaying()?j=0:this.options.dragToSeek===!0?j=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(j=this.options.dragToSeek.debounceTime),b=setTimeout(()=>{this.seekTo(_)},j),this.emit("interaction",_*this.getDuration()),this.emit("drag",_)}))}}initPlugins(){var b;!((b=this.options.plugins)===null||b===void 0)&&b.length&&this.options.plugins.forEach(_=>{this.registerPlugin(_)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(b=>b()),this.mediaSubscriptions=[]}setOptions(b){this.options=Object.assign({},this.options,b),b.duration&&!b.peaks&&(this.decodedData=i$1.createBuffer(this.exportPeaks(),b.duration)),b.peaks&&b.duration&&(this.decodedData=i$1.createBuffer(b.peaks,b.duration)),this.renderer.setOptions(this.options),b.audioRate&&this.setPlaybackRate(b.audioRate),b.mediaControls!=null&&(this.getMediaElement().controls=b.mediaControls)}registerPlugin(b){if(this.plugins.includes(b))return b;b._init(this),this.plugins.push(b);const _=b.once("destroy",()=>{this.plugins=this.plugins.filter(j=>j!==b),this.subscriptions=this.subscriptions.filter(j=>j!==_)});return this.subscriptions.push(_),b}unregisterPlugin(b){this.plugins=this.plugins.filter(_=>_!==b),b.destroy()}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(b){return this.renderer.setScroll(b)}setScrollTime(b){const _=b/this.getDuration();this.renderer.setScrollPercentage(_)}getActivePlugins(){return this.plugins}loadAudio(b,_,j,$){return t$1(this,void 0,void 0,function*(){var _e;if(this.emit("load",b),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!_&&!j){const nt=this.options.fetchParams||{};window.AbortController&&!nt.signal&&(this.abortController=new AbortController,nt.signal=(_e=this.abortController)===null||_e===void 0?void 0:_e.signal);const tt=it=>this.emit("loading",it);_=yield o$1.fetchBlob(b,tt,nt);const rt=this.options.blobMimeType;rt&&(_=new Blob([_],{type:rt}))}this.setSrc(b,_);const et=yield new Promise(nt=>{const tt=$||this.getDuration();tt?nt(tt):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>nt(this.getDuration()),{once:!0}))});if(!b&&!_){const nt=this.getMediaElement();nt instanceof d&&(nt.duration=et)}if(j)this.decodedData=i$1.createBuffer(j,et||0);else if(_){const nt=yield _.arrayBuffer();this.decodedData=yield i$1.decode(nt,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(b,_,j){return t$1(this,void 0,void 0,function*(){try{return yield this.loadAudio(b,void 0,_,j)}catch($){throw this.emit("error",$),$}})}loadBlob(b,_,j){return t$1(this,void 0,void 0,function*(){try{return yield this.loadAudio("",b,_,j)}catch($){throw this.emit("error",$),$}})}zoom(b){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(b),this.emit("zoom",b)}getDecodedData(){return this.decodedData}exportPeaks({channels:b=2,maxLength:_=8e3,precision:j=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const $=Math.min(b,this.decodedData.numberOfChannels),_e=[];for(let et=0;et<$;et++){const nt=this.decodedData.getChannelData(et),tt=[],rt=nt.length/_;for(let it=0;it<_;it++){const ht=nt.slice(Math.floor(it*rt),Math.ceil((it+1)*rt));let ut=0;for(let lt=0;lt<ht.length;lt++){const pt=ht[lt];Math.abs(pt)>Math.abs(ut)&&(ut=pt)}tt.push(Math.round(ut*j)/j)}_e.push(tt)}return _e}getDuration(){let b=super.getDuration()||0;return b!==0&&b!==1/0||!this.decodedData||(b=this.decodedData.duration),b}toggleInteraction(b){this.options.interact=b}setTime(b){this.stopAtPosition=null,super.setTime(b),this.updateProgress(b),this.emit("timeupdate",b)}seekTo(b){const _=this.getDuration()*b;this.setTime(_)}play(b,_){const j=Object.create(null,{play:{get:()=>super.play}});return t$1(this,void 0,void 0,function*(){b!=null&&this.setTime(b);const $=yield j.play.call(this);return _!=null&&(this.media instanceof d?this.media.stopAt(_):this.stopAtPosition=_),$})}playPause(){return t$1(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(b){this.setTime(this.getCurrentTime()+b)}empty(){this.load("",[[0]],.001)}setMediaElement(b){this.unsubscribePlayerEvents(),super.setMediaElement(b),this.initPlayerEvents()}exportImage(){return t$1(this,arguments,void 0,function*(b="image/png",_=1,j="dataURL"){return this.renderer.exportImage(b,_,j)})}destroy(){var b;this.emit("destroy"),(b=this.abortController)===null||b===void 0||b.abort(),this.plugins.forEach(_=>_.destroy()),this.subscriptions.forEach(_=>_()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}u.BasePlugin=class extends e$1{constructor(g){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=g}onInit(){}_init(g){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=g,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(g=>g()),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}},u.dom=r$1;class t{constructor(){this.listeners={}}on(b,_,j){if(this.listeners[b]||(this.listeners[b]=new Set),this.listeners[b].add(_),j==null?void 0:j.once){const $=()=>{this.un(b,$),this.un(b,_)};return this.on(b,$),$}return()=>this.un(b,_)}un(b,_){var j;(j=this.listeners[b])===null||j===void 0||j.delete(_)}once(b,_){return this.on(b,_,{once:!0})}unAll(){this.listeners={}}emit(b,..._){this.listeners[b]&&this.listeners[b].forEach(j=>j(..._))}}class e extends t{constructor(b){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=b}onInit(){}_init(b){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=b,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(b=>b()),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function i(g,b,_,j,$=3,_e=0,et=100){if(!g)return()=>{};const nt=matchMedia("(pointer: coarse)").matches;let tt=()=>{};const rt=it=>{if(it.button!==_e)return;it.preventDefault(),it.stopPropagation();let ht=it.clientX,ut=it.clientY,lt=!1;const pt=Date.now(),vt=ft=>{if(ft.preventDefault(),ft.stopPropagation(),nt&&Date.now()-pt<et)return;const ct=ft.clientX,xt=ft.clientY,dt=ct-ht,gt=xt-ut;if(lt||Math.abs(dt)>$||Math.abs(gt)>$){const St=g.getBoundingClientRect(),{left:kt,top:bt}=St;lt||(_==null||_(ht-kt,ut-bt),lt=!0),b(dt,gt,ct-kt,xt-bt),ht=ct,ut=xt}},yt=ft=>{if(lt){const ct=ft.clientX,xt=ft.clientY,dt=g.getBoundingClientRect(),{left:gt,top:St}=dt;j==null||j(ct-gt,xt-St)}tt()},st=ft=>{ft.relatedTarget&&ft.relatedTarget!==document.documentElement||yt(ft)},ot=ft=>{lt&&(ft.stopPropagation(),ft.preventDefault())},mt=ft=>{lt&&ft.preventDefault()};document.addEventListener("pointermove",vt),document.addEventListener("pointerup",yt),document.addEventListener("pointerout",st),document.addEventListener("pointercancel",st),document.addEventListener("touchmove",mt,{passive:!1}),document.addEventListener("click",ot,{capture:!0}),tt=()=>{document.removeEventListener("pointermove",vt),document.removeEventListener("pointerup",yt),document.removeEventListener("pointerout",st),document.removeEventListener("pointercancel",st),document.removeEventListener("touchmove",mt),setTimeout(()=>{document.removeEventListener("click",ot,{capture:!0})},10)}};return g.addEventListener("pointerdown",rt),()=>{tt(),g.removeEventListener("pointerdown",rt)}}function n(g,b){const _=b.xmlns?document.createElementNS(b.xmlns,g):document.createElement(g);for(const[j,$]of Object.entries(b))if(j==="children"&&$)for(const[_e,et]of Object.entries($))et instanceof Node?_.appendChild(et):typeof et=="string"?_.appendChild(document.createTextNode(et)):_.appendChild(n(_e,et));else j==="style"?Object.assign(_.style,$):j==="textContent"?_.textContent=$:_.setAttribute(j,$.toString());return _}function s(g,b,_){const j=n(g,b||{});return _==null||_.appendChild(j),j}class r extends t{constructor(b,_,j=0){var $,_e,et,nt,tt,rt,it,ht,ut,lt;super(),this.totalDuration=_,this.numberOfChannels=j,this.element=null,this.minLength=0,this.maxLength=1/0,this.contentEditable=!1,this.subscriptions=[],this.isRemoved=!1,this.subscriptions=[],this.id=b.id||`region-${Math.random().toString(32).slice(2)}`,this.start=this.clampPosition(b.start),this.end=this.clampPosition(($=b.end)!==null&&$!==void 0?$:b.start),this.drag=(_e=b.drag)===null||_e===void 0||_e,this.resize=(et=b.resize)===null||et===void 0||et,this.resizeStart=(nt=b.resizeStart)===null||nt===void 0||nt,this.resizeEnd=(tt=b.resizeEnd)===null||tt===void 0||tt,this.color=(rt=b.color)!==null&&rt!==void 0?rt:"rgba(0, 0, 0, 0.1)",this.minLength=(it=b.minLength)!==null&&it!==void 0?it:this.minLength,this.maxLength=(ht=b.maxLength)!==null&&ht!==void 0?ht:this.maxLength,this.channelIdx=(ut=b.channelIdx)!==null&&ut!==void 0?ut:-1,this.contentEditable=(lt=b.contentEditable)!==null&&lt!==void 0?lt:this.contentEditable,this.element=this.initElement(),this.setContent(b.content),this.setPart(),this.renderPosition(),this.initMouseEvents()}clampPosition(b){return Math.max(0,Math.min(this.totalDuration,b))}setPart(){var b;const _=this.start===this.end;(b=this.element)===null||b===void 0||b.setAttribute("part",`${_?"marker":"region"} ${this.id}`)}addResizeHandles(b){const _={position:"absolute",zIndex:"2",width:"6px",height:"100%",top:"0",cursor:"ew-resize",wordBreak:"keep-all"},j=s("div",{part:"region-handle region-handle-left",style:Object.assign(Object.assign({},_),{left:"0",borderLeft:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"2px 0 0 2px"})},b),$=s("div",{part:"region-handle region-handle-right",style:Object.assign(Object.assign({},_),{right:"0",borderRight:"2px solid rgba(0, 0, 0, 0.5)",borderRadius:"0 2px 2px 0"})},b);this.subscriptions.push(i(j,_e=>this.onResize(_e,"start"),()=>null,()=>this.onEndResizing(),1),i($,_e=>this.onResize(_e,"end"),()=>null,()=>this.onEndResizing(),1))}removeResizeHandles(b){const _=b.querySelector('[part*="region-handle-left"]'),j=b.querySelector('[part*="region-handle-right"]');_&&b.removeChild(_),j&&b.removeChild(j)}initElement(){if(this.isRemoved)return null;const b=this.start===this.end;let _=0,j=100;this.channelIdx>=0&&this.channelIdx<this.numberOfChannels&&(j=100/this.numberOfChannels,_=j*this.channelIdx);const $=s("div",{style:{position:"absolute",top:`${_}%`,height:`${j}%`,backgroundColor:b?"none":this.color,borderLeft:b?"2px solid "+this.color:"none",borderRadius:"2px",boxSizing:"border-box",transition:"background-color 0.2s ease",cursor:this.drag?"grab":"default",pointerEvents:"all"}});return!b&&this.resize&&this.addResizeHandles($),$}renderPosition(){if(!this.element)return;const b=this.start/this.totalDuration,_=(this.totalDuration-this.end)/this.totalDuration;this.element.style.left=100*b+"%",this.element.style.right=100*_+"%"}toggleCursor(b){var _;this.drag&&(!((_=this.element)===null||_===void 0)&&_.style)&&(this.element.style.cursor=b?"grabbing":"grab")}initMouseEvents(){const{element:b}=this;b&&(b.addEventListener("click",_=>this.emit("click",_)),b.addEventListener("mouseenter",_=>this.emit("over",_)),b.addEventListener("mouseleave",_=>this.emit("leave",_)),b.addEventListener("dblclick",_=>this.emit("dblclick",_)),b.addEventListener("pointerdown",()=>this.toggleCursor(!0)),b.addEventListener("pointerup",()=>this.toggleCursor(!1)),this.subscriptions.push(i(b,_=>this.onMove(_),()=>this.toggleCursor(!0),()=>{this.toggleCursor(!1),this.drag&&this.emit("update-end")})),this.contentEditable&&this.content&&(this.content.addEventListener("click",_=>this.onContentClick(_)),this.content.addEventListener("blur",()=>this.onContentBlur())))}_onUpdate(b,_){var j;if(!(!((j=this.element)===null||j===void 0)&&j.parentElement))return;const{width:$}=this.element.parentElement.getBoundingClientRect(),_e=b/$*this.totalDuration,et=_&&_!=="start"?this.start:this.start+_e,nt=_&&_!=="end"?this.end:this.end+_e,tt=nt-et;et>=0&&nt<=this.totalDuration&&et<=nt&&tt>=this.minLength&&tt<=this.maxLength&&(this.start=et,this.end=nt,this.renderPosition(),this.emit("update",_))}onMove(b){this.drag&&this._onUpdate(b)}onResize(b,_){this.resize&&(this.resizeStart||_!=="start")&&(this.resizeEnd||_!=="end")&&this._onUpdate(b,_)}onEndResizing(){this.resize&&this.emit("update-end")}onContentClick(b){b.stopPropagation(),b.target.focus(),this.emit("click",b)}onContentBlur(){this.emit("update-end")}_setTotalDuration(b){this.totalDuration=b,this.renderPosition()}play(b){this.emit("play",b&&this.end!==this.start?this.end:void 0)}getContent(b=!1){var _;return b?this.content||void 0:this.element instanceof HTMLElement?((_=this.content)===null||_===void 0?void 0:_.innerHTML)||void 0:""}setContent(b){var _;if(this.element)if((_=this.content)===null||_===void 0||_.remove(),b){if(typeof b=="string"){const j=this.start===this.end;this.content=s("div",{style:{padding:`0.2em ${j?.2:.4}em`,display:"inline-block"},textContent:b})}else this.content=b;this.contentEditable&&(this.content.contentEditable="true"),this.content.setAttribute("part","region-content"),this.element.appendChild(this.content),this.emit("content-changed")}else this.content=void 0}setOptions(b){var _,j;if(this.element){if(b.color&&(this.color=b.color,this.element.style.backgroundColor=this.color),b.drag!==void 0&&(this.drag=b.drag,this.element.style.cursor=this.drag?"grab":"default"),b.start!==void 0||b.end!==void 0){const $=this.start===this.end;this.start=this.clampPosition((_=b.start)!==null&&_!==void 0?_:this.start),this.end=this.clampPosition((j=b.end)!==null&&j!==void 0?j:$?this.start:this.end),this.renderPosition(),this.setPart()}if(b.content&&this.setContent(b.content),b.id&&(this.id=b.id,this.setPart()),b.resize!==void 0&&b.resize!==this.resize){const $=this.start===this.end;this.resize=b.resize,this.resize&&!$?this.addResizeHandles(this.element):this.removeResizeHandles(this.element)}b.resizeStart!==void 0&&(this.resizeStart=b.resizeStart),b.resizeEnd!==void 0&&(this.resizeEnd=b.resizeEnd)}}remove(){this.isRemoved=!0,this.emit("remove"),this.subscriptions.forEach(b=>b()),this.element&&(this.element.remove(),this.element=null)}}class o extends e{constructor(b){super(b),this.regions=[],this.regionsContainer=this.initRegionsContainer()}static create(b){return new o(b)}onInit(){if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");this.wavesurfer.getWrapper().appendChild(this.regionsContainer);let b=[];this.subscriptions.push(this.wavesurfer.on("timeupdate",_=>{const j=this.regions.filter($=>$.start<=_&&($.end===$.start?$.start+.05:$.end)>=_);j.forEach($=>{b.includes($)||this.emit("region-in",$)}),b.forEach($=>{j.includes($)||this.emit("region-out",$)}),b=j}))}initRegionsContainer(){return s("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"5",pointerEvents:"none"}})}getRegions(){return this.regions}avoidOverlapping(b){b.content&&setTimeout(()=>{const _=b.content,j=_.getBoundingClientRect(),$=this.regions.map(_e=>{if(_e===b||!_e.content)return 0;const et=_e.content.getBoundingClientRect();return j.left<et.left+et.width&&et.left<j.left+j.width?et.height:0}).reduce((_e,et)=>_e+et,0);_.style.marginTop=`${$}px`},10)}adjustScroll(b){var _,j;if(!b.element)return;const $=(j=(_=this.wavesurfer)===null||_===void 0?void 0:_.getWrapper())===null||j===void 0?void 0:j.parentElement;if(!$)return;const{clientWidth:_e,scrollWidth:et}=$;if(et<=_e)return;const nt=$.getBoundingClientRect(),tt=b.element.getBoundingClientRect(),rt=tt.left-nt.left,it=tt.right-nt.left;rt<0?$.scrollLeft+=rt:it>_e&&($.scrollLeft+=it-_e)}virtualAppend(b,_,j){const $=()=>{if(!this.wavesurfer)return;const _e=this.wavesurfer.getWidth(),et=this.wavesurfer.getScroll(),nt=_.clientWidth,tt=this.wavesurfer.getDuration(),rt=Math.round(b.start/tt*nt),it=rt+(Math.round((b.end-b.start)/tt*nt)||1)>et&&rt<et+_e;it&&!j.parentElement?_.appendChild(j):!it&&j.parentElement&&j.remove()};setTimeout(()=>{if(!this.wavesurfer||!b.element)return;$();const _e=this.wavesurfer.on("scroll",$),et=this.wavesurfer.on("zoom",$);this.subscriptions.push(b.once("remove",_e),_e),this.subscriptions.push(b.once("remove",et),et)},0)}saveRegion(b){if(!b.element)return;this.virtualAppend(b,this.regionsContainer,b.element),this.avoidOverlapping(b),this.regions.push(b);const _=[b.on("update",j=>{j||this.adjustScroll(b),this.emit("region-update",b,j)}),b.on("update-end",()=>{this.avoidOverlapping(b),this.emit("region-updated",b)}),b.on("play",j=>{var $;($=this.wavesurfer)===null||$===void 0||$.play(b.start,j)}),b.on("click",j=>{this.emit("region-clicked",b,j)}),b.on("dblclick",j=>{this.emit("region-double-clicked",b,j)}),b.on("content-changed",()=>{this.emit("region-content-changed",b)}),b.once("remove",()=>{_.forEach(j=>j()),this.regions=this.regions.filter(j=>j!==b),this.emit("region-removed",b)})];this.subscriptions.push(..._),this.emit("region-created",b)}addRegion(b){var _,j;if(!this.wavesurfer)throw Error("WaveSurfer is not initialized");const $=this.wavesurfer.getDuration(),_e=(j=(_=this.wavesurfer)===null||_===void 0?void 0:_.getDecodedData())===null||j===void 0?void 0:j.numberOfChannels,et=new r(b,$,_e);return this.emit("region-initialized",et),$?this.saveRegion(et):this.subscriptions.push(this.wavesurfer.once("ready",nt=>{et._setTotalDuration(nt),this.saveRegion(et)})),et}enableDragSelection(b,_=3){var j;const $=(j=this.wavesurfer)===null||j===void 0?void 0:j.getWrapper();if(!($&&$ instanceof HTMLElement))return()=>{};let _e=null,et=0;return i($,(nt,tt,rt)=>{_e&&_e._onUpdate(nt,rt>et?"end":"start")},nt=>{var tt,rt;if(et=nt,!this.wavesurfer)return;const it=this.wavesurfer.getDuration(),ht=(rt=(tt=this.wavesurfer)===null||tt===void 0?void 0:tt.getDecodedData())===null||rt===void 0?void 0:rt.numberOfChannels,{width:ut}=this.wavesurfer.getWrapper().getBoundingClientRect(),lt=nt/ut*it,pt=(nt+5)/ut*it;_e=new r(Object.assign(Object.assign({},b),{start:lt,end:pt}),it,ht),this.emit("region-initialized",_e),_e.element&&this.regionsContainer.appendChild(_e.element)},()=>{_e&&(this.saveRegion(_e),_e=null)},_)}clearRegions(){this.regions.slice().forEach(b=>b.remove()),this.regions=[]}destroy(){this.clearRegions(),super.destroy(),this.regionsContainer.remove()}}function clamp(g,[b,_]){return Math.min(_,Math.max(b,g))}function usePrevious(g){const b=reactExports.useRef({value:g,previous:g});return reactExports.useMemo(()=>(b.current.value!==g&&(b.current.previous=b.current.value,b.current.value=g),b.current.previous),[g])}function useSize(g){const[b,_]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(g){_({width:g.offsetWidth,height:g.offsetHeight});const j=new ResizeObserver($=>{if(!Array.isArray($)||!$.length)return;const _e=$[0];let et,nt;if("borderBoxSize"in _e){const tt=_e.borderBoxSize,rt=Array.isArray(tt)?tt[0]:tt;et=rt.inlineSize,nt=rt.blockSize}else et=g.offsetWidth,nt=g.offsetHeight;_({width:et,height:nt})});return j.observe(g,{box:"border-box"}),()=>j.unobserve(g)}else _(void 0)},[g]),b}var PAGE_KEYS=["PageUp","PageDown"],ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BACK_KEYS={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},SLIDER_NAME="Slider",[Collection,useCollection,createCollectionScope]=createCollection(SLIDER_NAME),[createSliderContext,createSliderScope]=createContextScope(SLIDER_NAME,[createCollectionScope]),[SliderProvider,useSliderContext]=createSliderContext(SLIDER_NAME),Slider$1=reactExports.forwardRef((g,b)=>{const{name:_,min:j=0,max:$=100,step:_e=1,orientation:et="horizontal",disabled:nt=!1,minStepsBetweenThumbs:tt=0,defaultValue:rt=[j],value:it,onValueChange:ht=()=>{},onValueCommit:ut=()=>{},inverted:lt=!1,form:pt,...vt}=g,yt=reactExports.useRef(new Set),st=reactExports.useRef(0),mt=et==="horizontal"?SliderHorizontal:SliderVertical,[ft=[],ct]=useControllableState({prop:it,defaultProp:rt,onChange:bt=>{var Tt;(Tt=[...yt.current][st.current])==null||Tt.focus(),ht(bt)}}),xt=reactExports.useRef(ft);function dt(bt){const wt=getClosestValueIndex(ft,bt);kt(bt,wt)}function gt(bt){kt(bt,st.current)}function St(){const bt=xt.current[st.current];ft[st.current]!==bt&&ut(ft)}function kt(bt,wt,{commit:Tt}={commit:!1}){const Ht=getDecimalCount(_e),Bt=roundValue(Math.round((bt-j)/_e)*_e+j,Ht),Wt=clamp(Bt,[j,$]);ct((Dt=[])=>{const It=getNextSortedValues(Dt,Wt,wt);if(hasMinStepsBetweenValues(It,tt*_e)){st.current=It.indexOf(Wt);const At=String(It)!==String(Dt);return At&&Tt&&ut(It),At?It:Dt}else return Dt})}return jsxRuntimeExports.jsx(SliderProvider,{scope:g.__scopeSlider,name:_,disabled:nt,min:j,max:$,valueIndexToChangeRef:st,thumbs:yt.current,values:ft,orientation:et,form:pt,children:jsxRuntimeExports.jsx(Collection.Provider,{scope:g.__scopeSlider,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:g.__scopeSlider,children:jsxRuntimeExports.jsx(mt,{"aria-disabled":nt,"data-disabled":nt?"":void 0,...vt,ref:b,onPointerDown:composeEventHandlers$1(vt.onPointerDown,()=>{nt||(xt.current=ft)}),min:j,max:$,inverted:lt,onSlideStart:nt?void 0:dt,onSlideMove:nt?void 0:gt,onSlideEnd:nt?void 0:St,onHomeKeyDown:()=>!nt&&kt(j,0,{commit:!0}),onEndKeyDown:()=>!nt&&kt($,ft.length-1,{commit:!0}),onStepKeyDown:({event:bt,direction:wt})=>{if(!nt){const Bt=PAGE_KEYS.includes(bt.key)||bt.shiftKey&&ARROW_KEYS.includes(bt.key)?10:1,Wt=st.current,Dt=ft[Wt],It=_e*Bt*wt;kt(Dt+It,Wt,{commit:!0})}}})})})})});Slider$1.displayName=SLIDER_NAME;var[SliderOrientationProvider,useSliderOrientationContext]=createSliderContext(SLIDER_NAME,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SliderHorizontal=reactExports.forwardRef((g,b)=>{const{min:_,max:j,dir:$,inverted:_e,onSlideStart:et,onSlideMove:nt,onSlideEnd:tt,onStepKeyDown:rt,...it}=g,[ht,ut]=reactExports.useState(null),lt=useComposedRefs(b,mt=>ut(mt)),pt=reactExports.useRef(void 0),vt=useDirection($),yt=vt==="ltr",st=yt&&!_e||!yt&&_e;function ot(mt){const ft=pt.current||ht.getBoundingClientRect(),ct=[0,ft.width],dt=linearScale(ct,st?[_,j]:[j,_]);return pt.current=ft,dt(mt-ft.left)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:g.__scopeSlider,startEdge:st?"left":"right",endEdge:st?"right":"left",direction:st?1:-1,size:"width",children:jsxRuntimeExports.jsx(SliderImpl,{dir:vt,"data-orientation":"horizontal",...it,ref:lt,style:{...it.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:mt=>{const ft=ot(mt.clientX);et==null||et(ft)},onSlideMove:mt=>{const ft=ot(mt.clientX);nt==null||nt(ft)},onSlideEnd:()=>{pt.current=void 0,tt==null||tt()},onStepKeyDown:mt=>{const ct=BACK_KEYS[st?"from-left":"from-right"].includes(mt.key);rt==null||rt({event:mt,direction:ct?-1:1})}})})}),SliderVertical=reactExports.forwardRef((g,b)=>{const{min:_,max:j,inverted:$,onSlideStart:_e,onSlideMove:et,onSlideEnd:nt,onStepKeyDown:tt,...rt}=g,it=reactExports.useRef(null),ht=useComposedRefs(b,it),ut=reactExports.useRef(void 0),lt=!$;function pt(vt){const yt=ut.current||it.current.getBoundingClientRect(),st=[0,yt.height],mt=linearScale(st,lt?[j,_]:[_,j]);return ut.current=yt,mt(vt-yt.top)}return jsxRuntimeExports.jsx(SliderOrientationProvider,{scope:g.__scopeSlider,startEdge:lt?"bottom":"top",endEdge:lt?"top":"bottom",size:"height",direction:lt?1:-1,children:jsxRuntimeExports.jsx(SliderImpl,{"data-orientation":"vertical",...rt,ref:ht,style:{...rt.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:vt=>{const yt=pt(vt.clientY);_e==null||_e(yt)},onSlideMove:vt=>{const yt=pt(vt.clientY);et==null||et(yt)},onSlideEnd:()=>{ut.current=void 0,nt==null||nt()},onStepKeyDown:vt=>{const st=BACK_KEYS[lt?"from-bottom":"from-top"].includes(vt.key);tt==null||tt({event:vt,direction:st?-1:1})}})})}),SliderImpl=reactExports.forwardRef((g,b)=>{const{__scopeSlider:_,onSlideStart:j,onSlideMove:$,onSlideEnd:_e,onHomeKeyDown:et,onEndKeyDown:nt,onStepKeyDown:tt,...rt}=g,it=useSliderContext(SLIDER_NAME,_);return jsxRuntimeExports.jsx(Primitive.span,{...rt,ref:b,onKeyDown:composeEventHandlers$1(g.onKeyDown,ht=>{ht.key==="Home"?(et(ht),ht.preventDefault()):ht.key==="End"?(nt(ht),ht.preventDefault()):PAGE_KEYS.concat(ARROW_KEYS).includes(ht.key)&&(tt(ht),ht.preventDefault())}),onPointerDown:composeEventHandlers$1(g.onPointerDown,ht=>{const ut=ht.target;ut.setPointerCapture(ht.pointerId),ht.preventDefault(),it.thumbs.has(ut)?ut.focus():j(ht)}),onPointerMove:composeEventHandlers$1(g.onPointerMove,ht=>{ht.target.hasPointerCapture(ht.pointerId)&&$(ht)}),onPointerUp:composeEventHandlers$1(g.onPointerUp,ht=>{const ut=ht.target;ut.hasPointerCapture(ht.pointerId)&&(ut.releasePointerCapture(ht.pointerId),_e(ht))})})}),TRACK_NAME="SliderTrack",SliderTrack=reactExports.forwardRef((g,b)=>{const{__scopeSlider:_,...j}=g,$=useSliderContext(TRACK_NAME,_);return jsxRuntimeExports.jsx(Primitive.span,{"data-disabled":$.disabled?"":void 0,"data-orientation":$.orientation,...j,ref:b})});SliderTrack.displayName=TRACK_NAME;var RANGE_NAME="SliderRange",SliderRange=reactExports.forwardRef((g,b)=>{const{__scopeSlider:_,...j}=g,$=useSliderContext(RANGE_NAME,_),_e=useSliderOrientationContext(RANGE_NAME,_),et=reactExports.useRef(null),nt=useComposedRefs(b,et),tt=$.values.length,rt=$.values.map(ut=>convertValueToPercentage(ut,$.min,$.max)),it=tt>1?Math.min(...rt):0,ht=100-Math.max(...rt);return jsxRuntimeExports.jsx(Primitive.span,{"data-orientation":$.orientation,"data-disabled":$.disabled?"":void 0,...j,ref:nt,style:{...g.style,[_e.startEdge]:it+"%",[_e.endEdge]:ht+"%"}})});SliderRange.displayName=RANGE_NAME;var THUMB_NAME="SliderThumb",SliderThumb=reactExports.forwardRef((g,b)=>{const _=useCollection(g.__scopeSlider),[j,$]=reactExports.useState(null),_e=useComposedRefs(b,nt=>$(nt)),et=reactExports.useMemo(()=>j?_().findIndex(nt=>nt.ref.current===j):-1,[_,j]);return jsxRuntimeExports.jsx(SliderThumbImpl,{...g,ref:_e,index:et})}),SliderThumbImpl=reactExports.forwardRef((g,b)=>{const{__scopeSlider:_,index:j,name:$,..._e}=g,et=useSliderContext(THUMB_NAME,_),nt=useSliderOrientationContext(THUMB_NAME,_),[tt,rt]=reactExports.useState(null),it=useComposedRefs(b,ot=>rt(ot)),ht=tt?et.form||!!tt.closest("form"):!0,ut=useSize(tt),lt=et.values[j],pt=lt===void 0?0:convertValueToPercentage(lt,et.min,et.max),vt=getLabel(j,et.values.length),yt=ut==null?void 0:ut[nt.size],st=yt?getThumbInBoundsOffset(yt,pt,nt.direction):0;return reactExports.useEffect(()=>{if(tt)return et.thumbs.add(tt),()=>{et.thumbs.delete(tt)}},[tt,et.thumbs]),jsxRuntimeExports.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[nt.startEdge]:`calc(${pt}% + ${st}px)`},children:[jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:g.__scopeSlider,children:jsxRuntimeExports.jsx(Primitive.span,{role:"slider","aria-label":g["aria-label"]||vt,"aria-valuemin":et.min,"aria-valuenow":lt,"aria-valuemax":et.max,"aria-orientation":et.orientation,"data-orientation":et.orientation,"data-disabled":et.disabled?"":void 0,tabIndex:et.disabled?void 0:0,..._e,ref:it,style:lt===void 0?{display:"none"}:g.style,onFocus:composeEventHandlers$1(g.onFocus,()=>{et.valueIndexToChangeRef.current=j})})}),ht&&jsxRuntimeExports.jsx(SliderBubbleInput,{name:$??(et.name?et.name+(et.values.length>1?"[]":""):void 0),form:et.form,value:lt},j)]})});SliderThumb.displayName=THUMB_NAME;var BUBBLE_INPUT_NAME="RadioBubbleInput",SliderBubbleInput=reactExports.forwardRef(({__scopeSlider:g,value:b,..._},j)=>{const $=reactExports.useRef(null),_e=useComposedRefs($,j),et=usePrevious(b);return reactExports.useEffect(()=>{const nt=$.current;if(!nt)return;const tt=window.HTMLInputElement.prototype,it=Object.getOwnPropertyDescriptor(tt,"value").set;if(et!==b&&it){const ht=new Event("input",{bubbles:!0});it.call(nt,b),nt.dispatchEvent(ht)}},[et,b]),jsxRuntimeExports.jsx(Primitive.input,{style:{display:"none"},..._,ref:_e,defaultValue:b})});SliderBubbleInput.displayName=BUBBLE_INPUT_NAME;function getNextSortedValues(g=[],b,_){const j=[...g];return j[_]=b,j.sort(($,_e)=>$-_e)}function convertValueToPercentage(g,b,_){const _e=100/(_-b)*(g-b);return clamp(_e,[0,100])}function getLabel(g,b){return b>2?`Value ${g+1} of ${b}`:b===2?["Minimum","Maximum"][g]:void 0}function getClosestValueIndex(g,b){if(g.length===1)return 0;const _=g.map($=>Math.abs($-b)),j=Math.min(..._);return _.indexOf(j)}function getThumbInBoundsOffset(g,b,_){const j=g/2,_e=linearScale([0,50],[0,j]);return(j-_e(b)*_)*_}function getStepsBetweenValues(g){return g.slice(0,-1).map((b,_)=>g[_+1]-b)}function hasMinStepsBetweenValues(g,b){if(b>0){const _=getStepsBetweenValues(g);return Math.min(..._)>=b}return!0}function linearScale(g,b){return _=>{if(g[0]===g[1]||b[0]===b[1])return b[0];const j=(b[1]-b[0])/(g[1]-g[0]);return b[0]+j*(_-g[0])}}function getDecimalCount(g){return(String(g).split(".")[1]||"").length}function roundValue(g,b){const _=Math.pow(10,b);return Math.round(g*_)/_}var Root=Slider$1,Track=SliderTrack,Range=SliderRange,Thumb=SliderThumb;const Slider=reactExports.forwardRef(({className:g,...b},_)=>jsxRuntimeExports.jsxs(Root,{ref:_,className:cn("relative flex w-full touch-none select-none items-center",g),...b,children:[jsxRuntimeExports.jsx(Track,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:jsxRuntimeExports.jsx(Range,{className:"absolute h-full bg-primary"})}),jsxRuntimeExports.jsx(Thumb,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Slider.displayName=Root.displayName;function AudioEditor({onBack:g}){const{selectedAudioFile:b,audioUrl:_,duration:j,currentTime:$,isPlaying:_e,volume:et,selectedRegion:nt,piiSuggestions:tt,redactions:rt,processingStatus:it,setDuration:ht,setCurrentTime:ut,setIsPlaying:lt,setVolume:pt,setSelectedRegion:vt,setProcessingStatus:yt,setTranscript:st,setFormattedTranscript:ot,setPiiSuggestions:mt,addRedaction:ft}=useAudioStore(),ct=reactExports.useRef(null),xt=reactExports.useRef(null),dt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!ct.current||!_)return;const Dt=o.create();dt.current=Dt;const It=u.create({container:ct.current,waveColor:"#4f46e5",progressColor:"#06b6d4",cursorColor:"#ef4444",barWidth:2,barRadius:3,height:80,normalize:!0,plugins:[Dt]});xt.current=It,It.load(_),It.on("ready",()=>{ht(It.getDuration()),gt()}),It.on("audioprocess",Vt=>{ut(Vt)}),It.on("play",()=>{lt(!0)}),It.on("pause",()=>{lt(!1)});let At=!1,Ft=0;return It.on("interaction",Vt=>{At||(At=!0,Ft=Vt,Dt.clearRegions(),vt(null),gt())}),It.on("drag",Vt=>{if(At&&Math.abs(Vt-Ft)>.1){Dt.clearRegions();const Pt=Math.min(Ft,Vt),Et=Math.max(Ft,Vt);Dt.addRegion({start:Pt,end:Et,color:"rgba(59, 130, 246, 0.3)",drag:!0,resize:!0}),vt({start:Pt,end:Et}),gt()}}),It.on("click",()=>{At&&(At=!1)}),()=>{It.destroy()}},[_]),reactExports.useEffect(()=>{xt.current&&dt.current&&gt()},[tt,rt]);const gt=()=>{if(!dt.current)return;const Dt=dt.current;Dt.getRegions().forEach(At=>{At.color.includes("59, 130, 246")||At.remove()}),tt.forEach(At=>{At.accepted&&Dt.addRegion({start:At.start_time,end:At.end_time,color:"rgba(239, 68, 68, 0.4)",drag:!1,resize:!1,content:At.category})}),rt.forEach(At=>{const Ft={silence:"rgba(107, 114, 128, 0.6)",beep:"rgba(245, 158, 11, 0.6)",anonymize:"rgba(34, 197, 94, 0.6)"};Dt.addRegion({start:At.start_time,end:At.end_time,color:Ft[At.action],drag:!1,resize:!1,content:At.action})})};reactExports.useEffect(()=>{b&&it.status==="idle"&&St()},[b]);const St=async()=>{if(b)try{yt({status:"transcribing",message:"Hearing your audio now...",progress:10});const Dt=await invoke("save_temp_audio",{fileName:b.name,fileData:Array.from(new Uint8Array(await b.arrayBuffer()))});yt({status:"transcribing",message:"Comprehending speech to discover some sensitive information (this may take a few minutes)...",progress:30});const It=await invoke("process_audio",{audioPath:Dt});yt({status:"analyzing",message:"Analyzing the content for sensitive information...",progress:80});const At=JSON.parse(It);st(At.transcript),ot(At.formatted_transcript);const Ft=At.pii_suggestions.map(Vt=>({id:crypto.randomUUID(),text:Vt.text,category:Vt.category,start_time:Vt.start_time,end_time:Vt.end_time,explanation:Vt.explanation,confidence:Vt.confidence||.8,accepted:!1}));mt(Ft),yt({status:"completed",message:`Found ${Ft.length} potential PII items`,progress:100})}catch(Dt){console.error("Error processing audio:",Dt);let It="Failed to process audio file";Dt.message&&Dt.message.includes("ffmpeg")?It="Audio processing failed: FFmpeg not found. Please restart the application.":Dt.message&&Dt.message.includes("whisper")?It="Speech transcription failed. Please check if the audio contains clear speech.":Dt.message&&Dt.message.includes("AI")||Dt.message&&Dt.message.includes("ollama")?It="AI analysis failed. The transcription completed but PII analysis failed. Please try again.":Dt.toString().includes("Invalid audio format")?It="Unsupported audio format. Please use MP3, WAV, or other common audio formats.":It=`Processing failed during analysis phase: ${Dt.message||Dt.toString()}`,yt({status:"error",message:It})}},kt=()=>{xt.current&&xt.current.playPause()},bt=Dt=>{const It=Dt[0];pt(It),xt.current&&xt.current.setVolume(It)},wt=()=>{nt&&(ft({start_time:nt.start,end_time:nt.end,action:"silence"}),vt(null))},Tt=()=>{nt&&(ft({start_time:nt.start,end_time:nt.end,action:"beep"}),vt(null))},Ht=()=>{nt&&(ft({start_time:nt.start,end_time:nt.end,action:"anonymize"}),vt(null))},Bt=Dt=>{const It=Math.floor(Dt/60),At=Math.floor(Dt%60);return`${It}:${At.toString().padStart(2,"0")}`},Wt=async()=>{if(b)try{yt({status:"processing",message:"Applying redactions and exporting..."});const Dt=await invoke("save_temp_audio",{fileName:b.name,fileData:Array.from(new Uint8Array(await b.arrayBuffer()))}),It=JSON.stringify(rt);console.log("Exporting redactions:",rt),console.log("Redactions JSON:",It);const At=b.name.replace(/\.[^/.]+$/,"_redacted.mp3"),Ft=await invoke("export_redacted_audio",{originalPath:Dt,redactions:It,outputName:At});yt({status:"completed",message:`Audio exported to ${Ft}`})}catch(Dt){console.error("Export error:",Dt),yt({status:"error",message:"Failed to export audio"})}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col relative",children:[(it.status==="transcribing"||it.status==="analyzing"||it.status==="processing")&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Loader2,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Processing Audio"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:it.message}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[it.status==="transcribing"&&jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"🎤 Transcribing speech to text..."}),it.status==="analyzing"&&jsxRuntimeExports.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"🧠 Analyzing content for PII..."}),it.status==="processing"&&jsxRuntimeExports.jsx("div",{className:"text-sm text-green-600 font-medium",children:"🎵 Applying redactions..."}),it.progress!==void 0&&jsxRuntimeExports.jsx(Progress,{value:it.progress,className:"w-full"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Please wait, this may take a few minutes..."})]})]})})}),it.status==="error"&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-red-600 text-xl",children:"⚠️"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-900",children:"Processing Failed"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:it.message}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 justify-center",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>yt({status:"idle"}),children:"Cancel"}),jsxRuntimeExports.jsx(Button,{onClick:()=>{yt({status:"idle"}),setTimeout(St,500)},className:"bg-red-600 hover:bg-red-700",children:"Try Again"})]})]})})}),jsxRuntimeExports.jsx("div",{className:"bg-white shadow-sm border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs(Button,{variant:"ghost",onClick:g,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4"}),"Back"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-xl font-semibold",children:["Now Editing: ",b==null?void 0:b.name]}),it.status==="completed"&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600",children:["✅ ",it.message]}),it.status==="error"&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-red-600",children:["❌ ",it.message]})]})]}),jsxRuntimeExports.jsx(Button,{onClick:Wt,className:"bg-green-600 hover:bg-green-700",children:"Export Redacted MP3"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[jsxRuntimeExports.jsx("div",{ref:ct,className:"w-full mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Button,{onClick:kt,size:"sm",disabled:it.status==="transcribing"||it.status==="analyzing",children:_e?jsxRuntimeExports.jsx(Pause,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Play,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-mono",children:[Bt($)," / ",Bt(j)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-4 h-4"}),jsxRuntimeExports.jsx(Slider,{value:[et],onValueChange:bt,max:1,min:0,step:.1,className:"w-20"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Redactions"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Debug: ",rt.length," redactions found",rt.length>0&&jsxRuntimeExports.jsx("div",{children:rt.map((Dt,It)=>jsxRuntimeExports.jsxs("div",{children:[Dt.action," from ",Dt.start_time.toFixed(2),"s to ",Dt.end_time.toFixed(2),"s",Dt.pii_id&&` (PII: ${Dt.pii_id})`]},It))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 rounded h-12 relative",children:[rt.map(Dt=>{const It=Dt.start_time/j*100,At=(Dt.end_time-Dt.start_time)/j*100,Ft={silence:"bg-gray-600",beep:"bg-yellow-500",anonymize:"bg-green-500"};return jsxRuntimeExports.jsx("div",{className:`absolute top-1 bottom-1 ${Ft[Dt.action]} rounded opacity-80 flex items-center justify-center text-xs text-white font-medium`,style:{left:`${It}%`,width:`${At}%`},children:Dt.action},Dt.id)}),rt.length===0&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No redactions applied yet"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Selection Tools"}),nt?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Selected Region: ",Bt(nt.start)," - ",Bt(nt.end)]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsxs(Button,{onClick:wt,variant:"outline",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-4 h-4 bg-gray-600 rounded"}),"Silence Selection"]}),jsxRuntimeExports.jsxs(Button,{onClick:Tt,variant:"outline",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-4 h-4 bg-yellow-500 rounded"}),"Beep Selection"]}),jsxRuntimeExports.jsxs(Button,{onClick:Ht,variant:"outline",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-4 h-4 bg-green-500 rounded"}),"Anonymize Selection"]})]})]}):jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"No region selected. Drag on the waveform above to select a region."})]})]})]})}function AudioPIISidebar(){const{piiSuggestions:g,togglePIIAcceptance:b,acceptAllPII:_,setSelectedPII:j,selectedPII:$,setCurrentTime:_e}=useAudioStore(),et=ut=>({Name:"bg-red-100 text-red-800",Age:"bg-orange-100 text-orange-800",Location:"bg-blue-100 text-blue-800",Address:"bg-purple-100 text-purple-800",Phone:"bg-green-100 text-green-800",Email:"bg-yellow-100 text-yellow-800","Date of Birth":"bg-pink-100 text-pink-800",Company:"bg-indigo-100 text-indigo-800",ID:"bg-gray-100 text-gray-800"})[ut]||"bg-gray-100 text-gray-800",nt=ut=>{const lt=Math.floor(ut/60),pt=Math.floor(ut%60),vt=Math.floor(ut%1*1e3);return`${lt}:${pt.toString().padStart(2,"0")}.${vt.toString().padStart(3,"0")}`},tt=ut=>{j(ut.id===($==null?void 0:$.id)?null:ut),_e(ut.start_time)},rt=()=>g.length,it=()=>g.filter(ut=>ut.accepted).length,ht=g.reduce((ut,lt)=>{const pt=lt.category;return ut[pt]||(ut[pt]=[]),ut[pt].push(lt),ut},{});return jsxRuntimeExports.jsxs("div",{className:"w-80 bg-white border-l flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"PII Detected"}),jsxRuntimeExports.jsx(Button,{onClick:_,size:"sm",className:"h-8",disabled:rt()===0,children:"Accept All"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("span",{children:[rt()," found"]}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsxs("span",{children:[it()," accepted"]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center text-gray-500 py-8",children:[jsxRuntimeExports.jsx(Volume2,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"No PII detected yet"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:"Upload an audio file to start analysis"})]}):jsxRuntimeExports.jsx(Accordion,{type:"multiple",className:"w-full",children:Object.entries(ht).map(([ut,lt])=>jsxRuntimeExports.jsxs(AccordionItem,{value:ut,children:[jsxRuntimeExports.jsx(AccordionTrigger,{className:"hover:no-underline",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between w-full mr-4",children:[jsxRuntimeExports.jsx("span",{children:ut}),jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[lt.length," items"]})]})}),jsxRuntimeExports.jsx(AccordionContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-3",children:jsxRuntimeExports.jsxs(Button,{onClick:()=>{lt.forEach(pt=>{pt.accepted||b(pt.id)})},size:"sm",variant:"outline",disabled:lt.every(pt=>pt.accepted)||lt.length===0,children:["Accept All ",ut]})}),lt.map(pt=>jsxRuntimeExports.jsxs(Card,{className:`cursor-pointer transition-colors ${($==null?void 0:$.id)===pt.id?"ring-2 ring-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>tt(pt),children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Badge,{className:et(pt.category),children:pt.category}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(pt.confidence*100),"%"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[nt(pt.start_time)," - ",nt(pt.end_time)]})]})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"pt-0",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium mb-2 break-words",children:['"',pt.text,'"']}),pt.explanation&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:pt.explanation}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{size:"sm",variant:pt.accepted?"default":"outline",onClick:vt=>{vt.stopPropagation(),b(pt.id)},className:"flex-1",children:pt.accepted?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 mr-1"}),"Accepted"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 mr-1"}),"Accept"]})}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"outline",onClick:vt=>{vt.stopPropagation(),tt(pt)},children:jsxRuntimeExports.jsx(Eye,{className:"w-3 h-3"})})]})]})]},pt.id))]})})]},ut))})})]})}function AudioProcessingScreen({onBack:g}){const{selectedAudioFile:b,setAudioUrl:_}=useAudioStore();return reactExports.useEffect(()=>{if(b){const j=URL.createObjectURL(b);return _(j),()=>{URL.revokeObjectURL(j)}}},[b,_]),jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col",children:jsxRuntimeExports.jsx(AudioEditor,{onBack:g})}),jsxRuntimeExports.jsx(AudioPIISidebar,{})]})}function App(){const{selectedFile:g}=useAppStore(),{selectedAudioFile:b}=useAudioStore(),[_,j]=reactExports.useState("home"),[$,_e]=reactExports.useState(!1),et=()=>{_e(!0)},nt=it=>{j(it)},tt=()=>{j("home"),useAppStore.getState().reset(),useAudioStore.getState().reset()},rt=()=>{if(!$)return jsxRuntimeExports.jsx(AIInitializationScreen,{onComplete:et});switch(_){case"home":return jsxRuntimeExports.jsx(HomeScreen,{onSelectMode:nt});case"document":return g?jsxRuntimeExports.jsx(ProcessingScreen,{onBack:tt}):jsxRuntimeExports.jsx(FileUploadScreen,{onBack:tt});case"audio":return b?jsxRuntimeExports.jsx(AudioProcessingScreen,{onBack:tt}):jsxRuntimeExports.jsx(AudioUploadScreen,{onFileSelect:it=>useAudioStore.getState().setSelectedAudioFile(it),onBack:tt});default:return jsxRuntimeExports.jsx(HomeScreen,{onSelectMode:nt})}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background text-foreground",children:rt()})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
